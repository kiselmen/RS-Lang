/*! For license information please see main.92e93a5732bd9fa81b1c.js.LICENSE.txt */
(()=>{var t={534:(t,e,n)=>{var i=n(865),s=n(128),r=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,i.apply(this,arguments)};(r.prototype=new i).constructor=r,r.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var n=50-e/2;return s.render(this._pathTemplate,{radius:n,"2radius":2*n})},r.prototype._trailString=function(t){return this._pathString(t)},t.exports=r},688:(t,e,n)=>{var i=n(865),s=n(128),r=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",i.apply(this,arguments)};(r.prototype=new i).constructor=r,r.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},r.prototype._pathString=function(t){return s.render(this._pathTemplate,{center:t.strokeWidth/2})},r.prototype._trailString=function(t){return this._pathString(t)},t.exports=r},86:(t,e,n)=>{t.exports={Line:n(688),Circle:n(534),SemiCircle:n(157),Square:n(681),Path:n(888),Shape:n(865),utils:n(128)}},888:(t,e,n)=>{var i=n(350),s=n(128),r=i.Tweenable,o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},a=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");var i;n=s.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},n),i=s.isString(e)?document.querySelector(e):e,this.path=i,this._opts=n,this._tweenable=null;var r=this.path.getTotalLength();this.path.style.strokeDasharray=r+" "+r,this.set(0)};a.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6),10)},a.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(s.isFunction(e)){var n=this._easing(this._opts.easing);e(this._calculateTo(t,n),this._opts.shape||this,this._opts.attachment)}},a.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},a.prototype.animate=function(t,e,n){e=e||{},s.isFunction(e)&&(n=e,e={});var i=s.extend({},e),o=s.extend({},this._opts);e=s.extend(o,e);var a=this._easing(e.easing),l=this._resolveFromAndTo(t,a,i);this.stop(),this.path.getBoundingClientRect();var h=this._getComputedDashOffset(),c=this._progressToOffset(t),u=this;this._tweenable=new r,this._tweenable.tween({from:s.extend({offset:h},l.from),to:s.extend({offset:c},l.to),duration:e.duration,delay:e.delay,easing:a,step:function(t){u.path.style.strokeDashoffset=t.offset;var n=e.shape||u;e.step(t,n,e.attachment)}}).then((function(t){s.isFunction(n)&&n()}))},a.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},a.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},a.prototype._resolveFromAndTo=function(t,e,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},a.prototype._calculateFrom=function(t){return i.interpolate(this._opts.from,this._opts.to,this.value(),t)},a.prototype._calculateTo=function(t,e){return i.interpolate(this._opts.from,this._opts.to,t,e)},a.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},a.prototype._easing=function(t){return o.hasOwnProperty(t)?o[t]:t},t.exports=a},157:(t,e,n)=>{var i=n(865),s=n(534),r=n(128),o=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,i.apply(this,arguments)};(o.prototype=new i).constructor=o,o.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},o.prototype._initializeTextContainer=function(t,e,n){t.text.style&&(n.style.top="auto",n.style.bottom="0",t.text.alignToBottom?r.setStyle(n,"transform","translate(-50%, 0)"):r.setStyle(n,"transform","translate(-50%, 50%)"))},o.prototype._pathString=s.prototype._pathString,o.prototype._trailString=s.prototype._trailString,t.exports=o},865:(t,e,n)=>{var i=n(888),s=n(128),r="Object is destroyed",o=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=s.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),s.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),s.isObject(n)&&s.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var r,o=this._createSvgView(this._opts);if(!(r=s.isString(e)?document.querySelector(e):e))throw new Error("Container does not exist: "+e);this._container=r,this._container.appendChild(o.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&s.setStyles(o.svg,this._opts.svgStyle),this.svg=o.svg,this.path=o.path,this.trail=o.trail,this.text=null;var a=s.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new i(o.path,a),s.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};o.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error(r);this._progressPath.animate(t,e,n)},o.prototype.stop=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath.stop()},o.prototype.pause=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},o.prototype.resume=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},o.prototype.destroy=function(){if(null===this._progressPath)throw new Error(r);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},o.prototype.set=function(t){if(null===this._progressPath)throw new Error(r);this._progressPath.set(t)},o.prototype.value=function(){if(null===this._progressPath)throw new Error(r);return void 0===this._progressPath?0:this._progressPath.value()},o.prototype.setText=function(t){if(null===this._progressPath)throw new Error(r);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),s.isObject(t)?(s.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},o.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var i=this._createPath(t);return e.appendChild(i),{svg:e,path:i,trail:n}},o.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},o.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},o.prototype._createTrail=function(t){var e=this._trailString(t),n=s.extend({},t);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},o.prototype._createPathElement=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("stroke",e.color),n.setAttribute("stroke-width",e.strokeWidth),e.fill?n.setAttribute("fill",e.fill):n.setAttribute("fill-opacity","0"),n},o.prototype._createTextContainer=function(t,e){var n=document.createElement("div");n.className=t.text.className;var i=t.text.style;return i&&(t.text.autoStyleContainer&&(e.style.position="relative"),s.setStyles(n,i),i.color||(n.style.color=t.color)),this._initializeTextContainer(t,e,n),n},o.prototype._initializeTextContainer=function(t,e,n){},o.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},o.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},o.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue("width"),10),i=parseFloat(e.getPropertyValue("height"),10);s.floatEquals(this.containerAspectRatio,n/i)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",n/i),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},t.exports=o},681:(t,e,n)=>{var i=n(865),s=n(128),r=function(t,e){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",i.apply(this,arguments)};(r.prototype=new i).constructor=r,r.prototype._pathString=function(t){var e=100-t.strokeWidth/2;return s.render(this._pathTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2})},r.prototype._trailString=function(t){var e=100-t.strokeWidth/2;return s.render(this._trailTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2,startMargin:t.strokeWidth/2-t.trailWidth/2})},t.exports=r},128:t=>{var e="Webkit Moz O ms".split(" ");function n(t,n,s){for(var r=t.style,o=0;o<e.length;++o)r[e[o]+i(n)]=s;r[n]=s}function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t){return!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)&&"object"==typeof t&&!!t}function r(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}t.exports={extend:function t(e,n,i){for(var r in e=e||{},i=i||!1,n=n||{})if(n.hasOwnProperty(r)){var o=e[r],a=n[r];i&&s(o)&&s(a)?e[r]=t(o,a,i):e[r]=a}return e},render:function(t,e){var n=t;for(var i in e)if(e.hasOwnProperty(i)){var s=e[i],r=new RegExp("\\{"+i+"\\}","g");n=n.replace(r,s)}return n},setStyle:n,setStyles:function(t,e){r(e,(function(e,i){null!=e&&(s(e)&&!0===e.prefix?n(t,i,e.value):t.style[i]=e)}))},capitalize:i,isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isObject:s,forEachObject:r,floatEquals:function(t,e){return Math.abs(t-e)<.001},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},350:t=>{self,t.exports=function(){"use strict";var t={720:function(t,e,n){n.r(e),n.d(e,{Scene:function(){return Kt},Tweenable:function(){return wt},interpolate:function(){return Jt},processTweens:function(){return ht},setBezierFunction:function(){return Zt},shouldScheduleUpdate:function(){return dt},tween:function(){return yt},unsetBezierFunction:function(){return te}});var i={};n.r(i),n.d(i,{bounce:function(){return R},bouncePast:function(){return N},easeFrom:function(){return D},easeFromTo:function(){return M},easeInBack:function(){return P},easeInCirc:function(){return x},easeInCubic:function(){return h},easeInExpo:function(){return S},easeInOutBack:function(){return T},easeInOutCirc:function(){return A},easeInOutCubic:function(){return u},easeInOutExpo:function(){return _},easeInOutQuad:function(){return l},easeInOutQuart:function(){return p},easeInOutQuint:function(){return w},easeInOutSine:function(){return b},easeInQuad:function(){return o},easeInQuart:function(){return d},easeInQuint:function(){return g},easeInSine:function(){return y},easeOutBack:function(){return L},easeOutBounce:function(){return I},easeOutCirc:function(){return k},easeOutCubic:function(){return c},easeOutExpo:function(){return C},easeOutQuad:function(){return a},easeOutQuart:function(){return m},easeOutQuint:function(){return f},easeOutSine:function(){return v},easeTo:function(){return F},elastic:function(){return E},linear:function(){return r},swingFrom:function(){return B},swingFromTo:function(){return W},swingTo:function(){return O}});var s={};n.r(s),n.d(s,{afterTween:function(){return Gt},beforeTween:function(){return Ht},doesApply:function(){return Dt},tweenCreated:function(){return Ft}});var r=function(t){return t},o=function(t){return Math.pow(t,2)},a=function(t){return-(Math.pow(t-1,2)-1)},l=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},h=function(t){return Math.pow(t,3)},c=function(t){return Math.pow(t-1,3)+1},u=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},d=function(t){return Math.pow(t,4)},m=function(t){return-(Math.pow(t-1,4)-1)},p=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},g=function(t){return Math.pow(t,5)},f=function(t){return Math.pow(t-1,5)+1},w=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},y=function(t){return 1-Math.cos(t*(Math.PI/2))},v=function(t){return Math.sin(t*(Math.PI/2))},b=function(t){return-.5*(Math.cos(Math.PI*t)-1)},S=function(t){return 0===t?0:Math.pow(2,10*(t-1))},C=function(t){return 1===t?1:1-Math.pow(2,-10*t)},_=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},x=function(t){return-(Math.sqrt(1-t*t)-1)},k=function(t){return Math.sqrt(1-Math.pow(t-1,2))},A=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},I=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},P=function(t){var e=1.70158;return t*t*((e+1)*t-e)},L=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},T=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},E=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},W=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},B=function(t){var e=1.70158;return t*t*((e+1)*t-e)},O=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},R=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},N=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},M=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},D=function(t){return Math.pow(t,4)},F=function(t){return Math.pow(t,.25)};function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q,U,J,Q="linear",$="undefined"!=typeof window?window:n.g,X="afterTween",Y="afterTweenEnd",K="beforeTween",Z="tweenCreated",tt="function",et="string",nt=$.requestAnimationFrame||$.webkitRequestAnimationFrame||$.oRequestAnimationFrame||$.msRequestAnimationFrame||$.mozCancelRequestAnimationFrame&&$.mozRequestAnimationFrame||setTimeout,it=function(){},st=null,rt=null,ot=V({},i),at=function(t,e,n,i,s,r,o){var a,l,h,c=t<r?0:(t-r)/s,u=!1;for(var d in o&&o.call&&(u=!0,a=o(c)),e)u||(a=((l=o[d]).call?l:ot[l])(c)),h=n[d],e[d]=h+(i[d]-h)*a;return e},lt=function(t,e){var n=t._timestamp,i=t._currentState,s=t._delay;if(!(e<n+s)){var r=t._duration,o=t._targetState,a=n+s+r,l=e>a?a:e;t._hasEnded=l>=a;var h=r-(a-l),c=t._filters.length>0;if(t._hasEnded)return t._render(o,t._data,h),t.stop(!0);c&&t._applyFilter(K),l<n+s?n=r=l=1:n+=s,at(l,i,t._originalState,o,r,n,t._easing),c&&t._applyFilter(X),t._render(i,t._data,h)}},ht=function(){for(var t,e=wt.now(),n=st;n;)t=n._next,lt(n,e),n=t},ct=Date.now||function(){return+new Date},ut=!1,dt=function(t){t&&ut||(ut=t,t&&mt())},mt=function t(){q=ct(),ut&&nt.call($,t,16.666666666666668),ht()},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=G(e);if(ot[e])return ot[e];if(i===et||i===tt)for(var s in t)n[s]=e;else for(var r in t)n[r]=e[r]||Q;return n},gt=function(t){t===st?(st=t._next)?st._previous=null:rt=null:t===rt?(rt=t._previous)?rt._next=null:st=null:(U=t._previous,J=t._next,U._next=J,J._previous=U),t._previous=t._next=null},ft="function"==typeof Promise?Promise:null,wt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;H(this,t),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._hasEnded=!1,this._resolve=null,this._reject=null,this._currentState=e||{},this._originalState={},this._targetState={},this._start=it,this._render=it,this._promiseCtor=ft,n&&this.setConfig(n)}var e;return(e=[{key:"_applyFilter",value:function(t){for(var e=this._filters.length;e>0;e--){var n=this._filters[e-e][t];n&&n(this)}}},{key:"tween",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!e&&this._config||this.setConfig(e),this._pausedAtTime=null,this._timestamp=t.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._config;for(var i in e)n[i]=e[i];var s=n.promise,r=void 0===s?this._promiseCtor:s,o=n.start,a=void 0===o?it:o,l=n.finish,h=n.render,c=void 0===h?this._config.step||it:h,u=n.step,d=void 0===u?it:u;this._data=n.data||n.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=a,this._render=c||d,this._duration=n.duration||500,this._promiseCtor=r,l&&(this._resolve=l);var m=e.from,p=e.to,g=void 0===p?{}:p,f=this._currentState,w=this._originalState,y=this._targetState;for(var v in m)f[v]=m[v];var b=!1;for(var S in f){var C=f[S];b||G(C)!==et||(b=!0),w[S]=C,y[S]=g.hasOwnProperty(S)?g[S]:C}if(this._easing=pt(this._currentState,n.easing,this._easing),this._filters.length=0,b){for(var _ in t.filters)t.filters[_].doesApply(this)&&this._filters.push(t.filters[_]);this._applyFilter(Z)}return this}},{key:"then",value:function(t,e){var n=this;return this._promise=new this._promiseCtor((function(t,e){n._resolve=t,n._reject=e})),this._promise.then(t,e)}},{key:"catch",value:function(t){return this.then().catch(t)}},{key:"get",value:function(){return V({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=t.now(),this._isPlaying=!1,gt(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=e-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===st?(st=this,rt=this):(this._previous=rt,rt._next=this,rt=this),this)}},{key:"seek",value:function(e){e=Math.max(e,0);var n=t.now();return this._timestamp+e===0||(this._timestamp=n-e,lt(this,n)),this}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,gt(this);var e=this._filters.length>0;return t&&(e&&this._applyFilter(K),at(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),e&&(this._applyFilter(X),this._applyFilter(Y))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,this}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._currentState,n=this._data;return this._isPlaying?(this._reject&&this._reject({data:n,state:e,tweenable:this}),this._resolve=null,this._reject=null,this.stop(t)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"hasEnded",value:function(){return this._hasEnded}},{key:"setScheduleFunction",value:function(e){t.setScheduleFunction(e)}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t&&(this._data=V({},t)),this._data}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new wt;return e.tween(t),e.tweenable=e,e}z(wt,"now",(function(){return q})),z(wt,"setScheduleFunction",(function(t){return nt=t})),z(wt,"filters",{}),z(wt,"formulas",ot),dt(!0);var vt,bt,St=/(\d|-|\.)/,Ct=/([^\-0-9.]+)/g,_t=/[0-9.-]+/g,xt=(vt=_t.source,bt=/,\s*/.source,new RegExp("rgba?\\(".concat(vt).concat(bt).concat(vt).concat(bt).concat(vt,"(").concat(bt).concat(vt,")?\\)"),"g")),kt=/^.*\(/,At=/#([0-9]|[a-f]){3,6}/gi,It="VAL",Pt=function(t,e){return t.map((function(t,n){return"_".concat(e,"_").concat(n)}))};function Lt(t){return parseInt(t,16)}var Tt=function(t){return"rgb(".concat((e=t,3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[Lt(e.substr(0,2)),Lt(e.substr(2,2)),Lt(e.substr(4,2))]).join(","),")");var e},Et=function(t,e,n){var i=e.match(t),s=e.replace(t,It);return i&&i.forEach((function(t){return s=s.replace(It,n(t))})),s},Wt=function(t){for(var e in t){var n=t[e];"string"==typeof n&&n.match(At)&&(t[e]=Et(At,n,Tt))}},Bt=function(t){var e=t.match(_t),n=e.slice(0,3).map(Math.floor),i=t.match(kt)[0];if(3===e.length)return"".concat(i).concat(n.join(","),")");if(4===e.length)return"".concat(i).concat(n.join(","),",").concat(e[3],")");throw new Error("Invalid rgbChunk: ".concat(t))},Ot=function(t){return t.match(_t)},Rt=function(t,e){var n={};return e.forEach((function(e){n[e]=t[e],delete t[e]})),n},Nt=function(t,e){return e.map((function(e){return t[e]}))},Mt=function(t,e){return e.forEach((function(e){return t=t.replace(It,+e.toFixed(4))})),t},Dt=function(t){for(var e in t._currentState)if("string"==typeof t._currentState[e])return!0;return!1};function Ft(t){var e=t._currentState;[e,t._originalState,t._targetState].forEach(Wt),t._tokenData=function(t){var e,n,i={};for(var s in t){var r=t[s];"string"==typeof r&&(i[s]={formatString:(e=r,n=void 0,n=e.match(Ct),n?(1===n.length||e.charAt(0).match(St))&&n.unshift(""):n=["",""],n.join(It)),chunkNames:Pt(Ot(r),s)})}return i}(e)}function Ht(t){var e=t._currentState,n=t._originalState,i=t._targetState,s=t._easing,r=t._tokenData;!function(t,e){var n=function(n){var i=e[n].chunkNames,s=t[n];if("string"==typeof s){var r=s.split(" "),o=r[r.length-1];i.forEach((function(e,n){return t[e]=r[n]||o}))}else i.forEach((function(e){return t[e]=s}));delete t[n]};for(var i in e)n(i)}(s,r),[e,n,i].forEach((function(t){return function(t,e){var n=function(n){Ot(t[n]).forEach((function(i,s){return t[e[n].chunkNames[s]]=+i})),delete t[n]};for(var i in e)n(i)}(t,r)}))}function Gt(t){var e=t._currentState,n=t._originalState,i=t._targetState,s=t._easing,r=t._tokenData;[e,n,i].forEach((function(t){return function(t,e){for(var n in e){var i=e[n],s=i.chunkNames,r=i.formatString,o=Mt(r,Nt(Rt(t,s),s));t[n]=Et(xt,o,Bt)}}(t,r)})),function(t,e){for(var n in e){var i=e[n].chunkNames,s=t[i[0]];t[n]="string"==typeof s?i.map((function(e){var n=t[e];return delete t[e],n})).join(" "):s}}(s,r)}function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qt=new wt,Ut=wt.filters,Jt=function(t,e,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=Vt({},t),o=pt(t,i);for(var a in qt._filters.length=0,qt.set({}),qt._currentState=r,qt._originalState=t,qt._targetState=e,qt._easing=o,Ut)Ut[a].doesApply(qt)&&qt._filters.push(Ut[a]);qt._applyFilter("tweenCreated"),qt._applyFilter("beforeTween");var l=at(n,r,t,e,1,s,o);return qt._applyFilter("afterTween"),l};function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var Yt=new WeakMap,Kt=function(){function t(){$t(this,t),Yt.set(this,{writable:!0,value:[]});for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(this.add.bind(this))}var e;return(e=[{key:"add",value:function(t){return Xt(this,Yt).push(t),t}},{key:"remove",value:function(t){var e=Xt(this,Yt).indexOf(t);return~e&&Xt(this,Yt).splice(e,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Xt(this,Yt).some((function(t){return t.isPlaying()}))}},{key:"play",value:function(){return Xt(this,Yt).forEach((function(t){return t.tween()})),this}},{key:"pause",value:function(){return Xt(this,Yt).forEach((function(t){return t.pause()})),this}},{key:"resume",value:function(){return Xt(this,Yt).forEach((function(t){return t.resume()})),this}},{key:"stop",value:function(t){return Xt(this,Yt).forEach((function(e){return e.stop(t)})),this}},{key:"tweenables",get:function(){return function(t){if(Array.isArray(t))return Qt(t)}(t=Xt(this,Yt))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}},{key:"promises",get:function(){return Xt(this,Yt).map((function(t){return t.then()}))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),Zt=function(t,e,n,i,s){var r=function(t,e,n,i){return function(s){return c=0,u=0,d=0,m=function(t){return((c*t+u)*t+d)*t},p=function(t){return(3*c*t+2*u)*t+d},g=function(t){return t>=0?t:0-t},c=1-(d=3*(r=t))-(u=3*(n-r)-d),a=1-(h=3*(o=e))-(l=3*(i-o)-h),function(t){return((a*t+l)*t+h)*t}(function(t,e){var n,i,s,r,o,a;for(s=t,a=0;a<8;a++){if(r=m(s)-t,g(r)<.005)return s;if(o=p(s),g(o)<1e-6)break;s-=r/o}if((s=t)<(n=0))return n;if(s>(i=1))return i;for(;n<i;){if(r=m(s),g(r-t)<.005)return s;t>r?n=s:i=s,s=.5*(i-n)+n}return s}(s));var r,o,a,l,h,c,u,d,m,p,g}}(e,n,i,s);return r.displayName=t,r.x1=e,r.y1=n,r.x2=i,r.y2=s,wt.formulas[t]=r},te=function(t){return delete wt.formulas[t]};wt.filters.token=s}},e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}return n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(720)}()}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";class t{constructor(t,e="div",n=[],i=""){this.element=document.createElement(e),this.element.classList.add(...n),this.element.textContent=i,t&&t.append(this.element)}destroy(){this.element.remove()}}class e extends t{constructor(e){super(e,"div",["about-team__page"]),this.title=new t(this.element,"h3",["about-team__title"],"About the team"),this.contentWrapper=new t(this.element,"div",["about-team__wrapper"]),this.firstMemberCard=new i(this.contentWrapper.element,"Vasiliy (Team Leader)","https://github.com/kiselmen","kiselmen",["- Setting up the working environment","- BackEnd deployment","- Application framework","- Header layout and functionality including burger menu","- Authorization page layout and functionality","- Dictionary functionality","- General statistics functionality","- Code refactoring","- Project deployment"],"./public/about-images/kiselmen.png"),this.secondMemberCard=new i(this.contentWrapper.element,"Max","https://github.com/maxomeleneckii","maxomeleneckii",["- Project analysis","- Development of the project architecture","- Dictionary layout","- Layout of Audiocall mini-game","- Functionality for Audiocall mini-game","- Stylization of the project","- Adaptive layout","- Project presentation"],"./public/about-images/maxomeleneckii.jpg"),this.thirdMemberCard=new i(this.contentWrapper.element,"Alexander","https://github.com/pitbrest","pitbrest",["- About layout, styling and adaptive","- Sprint layout, styling and adaptive","- Profile layout, styling and adaptive","- Functionality for the Sprint mini-game","- Implementation Profile statistics and graphs","- Footer layout"],"./public/about-images/me.jpg"),this.element.style.display="none"}}class i extends t{constructor(e,n,i,s,r,o){super(e,"div",["team-member__card"]),this.memberPhoto=new t(this.element,"img",["member-card__img"]),this.memberName=new t(this.element,"div",["member-card__name"],n),this.ghLink=new t(this.element,"a",["member-gh__link"],s),this.roles=new t(this.element,"ul",["member-roles"]),this.rolesNames=r,o?this.memberPhoto.element.setAttribute("src",o):this.memberPhoto.element.setAttribute("src","./public/about-images/man.jpg"),this.ghLink.element.setAttribute("href",i),this.ghLink.element.setAttribute("target","_blank"),this.createRoles()}createRoles(){for(const e of this.rolesNames)new t(this.roles.element,"li",["team-member-role"],e)}}const s=class extends t{constructor(e){super(e,"div",["about-rsLang__page"]),this.title=new t(this.element,"div",["about-RsLang-title","aboutRsLang-section"]),this.img1=new t(this.element,"img",["about-RsLang__image2"]),this.img2=new t(this.element,"img",["about-RsLang__image1","aboutRsLang-section"]),this.dictionary=new t(this.element,"div",["about-RsLan__dictionary","aboutRsLang-section"]),this.audioCall=new t(this.element,"div",["about-RsLan__audioCall","aboutRsLang-section"]),this.img3=new t(this.element,"img",["about-RsLang__image3","aboutRsLang-section"]),this.sprint=new t(this.element,"div",["about-RsLan__sprint","aboutRsLang-section"]),this.img4=new t(this.element,"img",["about-RsLang__image4","aboutRsLang-section"]),this.img5=new t(this.element,"img",["about-RsLang__image5","aboutRsLang-section"]),this.title.element.innerHTML="<p>RS Lang</p><p>will help you dive into the wonderful world of learning English</p>",this.dictionary.element.innerHTML="<p>Dictionary</p><p>help you increase your vocabulary by memorizing new English words</p>",this.audioCall.element.innerHTML="<p>Audio call</p><p>help with pronunciation of sounds, words, and ligatures in phrases</p>",this.sprint.element.innerHTML="<p>Sprint</p><p>will help maintain vocabulary, train attention</p>",this.img1.element.setAttribute("src","./public/about-images/play-and-learn.png"),this.img2.element.setAttribute("src","./public/about-images/vocabruary.png"),this.img3.element.setAttribute("src","./public/about-images/words.png"),this.img4.element.setAttribute("src","./public/about-images/kliaksa.svg"),this.img5.element.setAttribute("src","./public/about-images/kliaksa1.svg")}};class r extends t{constructor(n){super(n,"div",["about"]),this.controlsWrap=new t(this.element,"div",["aboutControls-wrap"]),this.aboutProgectBtn=new t(this.controlsWrap.element,"button",["aboutProgect-btn","about-btn","active"],"About project"),this.aboutTeamBtn=new t(this.controlsWrap.element,"button",["aboutTeam-btn","about-btn"],"About team"),this.aboutTeamPage=new e(this.element),this.aboutRSLang=new s(this.element),[this.aboutTeamBtn.element,this.aboutProgectBtn.element].forEach((t=>{t.addEventListener("click",(t=>{t.target===this.aboutTeamBtn.element?(this.aboutTeamBtn.element.classList.toggle("active",!0),this.aboutProgectBtn.element.classList.toggle("active",!1),this.aboutTeamPage.element.style.display="block",this.aboutRSLang.element.style.display="none"):(this.aboutTeamBtn.element.classList.toggle("active",!1),this.aboutProgectBtn.element.classList.toggle("active",!0),this.aboutTeamPage.element.style.display="none",this.aboutRSLang.element.style.display="flex")}))}))}}class o extends t{constructor(e,n){super(e,"div",["dictionary-wrapper__chapters"]),this.changeTheme=t=>{document.querySelector(".dictionary").setAttribute("class","dictionary"),document.querySelector(".dictionary").classList.add("dictionary",`dictionary-chapter-${t}`)},this.chapter=0,this.chapterColor="1",localStorage.getItem("chapter")?this.chapter=Number(localStorage.getItem("chapter")):localStorage.setItem("chapter",String(this.chapter)),localStorage.getItem("chapterColor")?this.chapterColor=String(localStorage.getItem("chapterColor")):localStorage.setItem("chapterColor",String(this.chapterColor)),this.changeTheme(this.chapterColor),n(),this.dictionaryHeading=new t(this.element,"h2",["dictionary-heading"],"Choose a section:"),this.dictionaryChapters=new t(this.element,"div",["dictionary-chapters","chapters"]),this.dictionaryChapterName=new t(this.dictionaryChapters.element,"span",["dictionary-chapter__name"],"Chapter "+String(this.chapter+1)),this.dictionaryChaptersList=new t(this.dictionaryChapters.element,"ul",["chapters-list"]);let i=6;localStorage.getItem("token")&&(i=7);for(let e=1;e<=i;e++)this.dictionaryChaptersListEl=new t(this.dictionaryChaptersList.element,"li",["chapters-item"],`Chapter ${e}`),this.dictionaryChaptersListEl.element.setAttribute("id",`chapter-${e}`);this.dictionaryChapters.element.addEventListener("click",(()=>{this.dictionaryChaptersList.element.classList.toggle("open")})),this.dictionaryChaptersList.element.addEventListener("mousedown",(t=>{const e=t.target;this.dictionaryChapterName.element.textContent=e.textContent})),document.addEventListener("click",(t=>{const e=t.target;if(e.closest(".dictionary-chapters")||this.dictionaryChaptersList.element.classList.remove("open"),e.classList.contains("chapters-item")){this.changeTheme(String(e.id[e.id.length-1])),localStorage.setItem("chapterColor",String(e.id[e.id.length-1]));const t=Number(e.textContent?.slice(-1))-1;this.chapter!==t&&(localStorage.setItem("chapter",String(t)),this.chapter=t,n())}}))}}class a extends t{constructor(e){super(e,"div",["dictionary-wrapper__games"]),this.dictionaryHeading=new t(this.element,"h2",["dictionary-heading"],"Play the game:"),this.dictionaryGames=new t(this.element,"div",["dictionary-games","games"]),this.dictionaryGamesAudio=new t(this.dictionaryGames.element,"a",["dictionary-games__audio","game","btn-dictionary"],"Audio call"),this.dictionaryGamesSprint=new t(this.dictionaryGames.element,"a",["dictionary-games__sprint","game","btn-dictionary"],"Sprint"),this.dictionaryGamesAudio.element.setAttribute("href","#/audiocall?type=dictionary"),this.dictionaryGamesSprint.element.setAttribute("href","#/sprint?type=dictionary"),this.dictionaryGamesAudio.element.addEventListener("click",(()=>{window.location.hash="#/audiocall?type=dictionary",location.reload()}))}}class l extends t{constructor(t,e){super(t,"div",["dictionary-header"]),this.onChangePage=()=>e(),this.chapters=new o(this.element,(()=>this.onChangePage())),this.games=new a(this.element)}}const h="https://react-learnwords-team74.herokuapp.com/";class c extends t{constructor(t,e=[],n,i=!1){super(t,"button",["btn"],n),this.onClickButton=t=>t,this.element.classList.add(...e),this.element.addEventListener("click",(t=>this.onClickButton(t))),i&&this.setDisabled(!0)}setDisabled(t=!1){this.element.toggleAttribute("disabled",t)}removeDisabled(){this.element.removeAttribute("disabled")}}class u extends t{constructor(e,n){super(e,"li",["list-content__element","element"]),this.onAddWordToUserWords=()=>{},this.onClickPLay=()=>{},this.onRemoveWordFromDifficult=()=>{},this.word=n,this.isPlaying=!1,this.elementImg=new t(this.element,"img",["element-img"]),this.elementImg.element.setAttribute("alt","picture-association"),this.elementImg.element.setAttribute("src",h+n.image),this.elementDiscription=new t(this.element,"div",["element-discript"]),this.elementWord=new t(this.elementDiscription.element,"div",["element-word","word"]),new t(this.elementWord.element,"span",["word-en"],n.word),new t(this.elementWord.element,"span",["word-transcription"],n.transcription),new t(this.elementWord.element,"span",["word-rus"]," - "+n.wordTranslate),this.elementExplain=new t(this.elementDiscription.element,"div",["element-explain","explain"]),this.elementExplainHeading=new t(this.elementExplain.element,"h3",["explain-heading"],"Meaning:"),new t(this.elementExplain.element,"p",["explain-en"],"").element.innerHTML=n.textMeaning,new t(this.elementExplain.element,"p",["explain-rus"],n.textMeaningTranslate),this.elementExample=new t(this.elementDiscription.element,"div",["element-example","example"]),this.elementExampleHeading=new t(this.elementExample.element,"h3",["example-heading"],"Example:"),new t(this.elementExample.element,"p",["example-en"],"").element.innerHTML=n.textExample,new t(this.elementExample.element,"p",["example-rus"],n.textExampleTranslate),this.elementBtns=new t(this.elementDiscription.element,"div",["element-btns"]),this.elementBtnListen=new c(this.elementBtns.element,["btn","btn-listen"],""),this.elementBtnImg=new t(this.elementBtnListen.element,"img",["element-btn__img"]),this.elementBtnImg.element.setAttribute("src","./public/sprint-images/sound-on.svg"),this.elementBtnImg.element.setAttribute("alt","play"),this.elementBtnAdd=new c(this.elementBtns.element,["btn"],"Hard"),this.elementBtnRemove=new c(this.elementBtns.element,["btn"],"Remove"),this.elementBtnStudied=new c(this.elementBtns.element,["btn"],"Studied"),this.elementStata=new t(this.elementBtns.element,"div",["element-stata"]),this.elementTotalAttempts=new t(this.elementStata.element,"div",["element-questions"]),new t(this.elementStata.element,"div",["element-separator"],"/"),this.elementCorrectAnswers=new t(this.elementStata.element,"div",["element-questions"]),localStorage.getItem("token")?(this.elementBtnAdd.onClickButton=async()=>this.onAddClick("hard"),this.elementBtnRemove.onClickButton=async()=>this.onRemoveClick(),this.elementBtnStudied.onClickButton=async()=>this.onAddClick("study")):(this.elementBtnAdd.setDisabled(!0),this.elementBtnRemove.setDisabled(!0),this.elementBtnStudied.setDisabled(!0)),this.elementAudio=new t(this.elementDiscription.element,"audio",[]),this.elementAudio.element.setAttribute("src",h+n.audio),this.elementAudioMeaning=new t(this.elementDiscription.element,"audio",[]),this.elementAudioMeaning.element.setAttribute("src",h+n.audioMeaning),this.elementAudioExample=new t(this.elementDiscription.element,"audio",[]),this.elementAudioExample.element.setAttribute("src",h+n.audioExample),this.elementBtnListen.onClickButton=()=>this.onListenClick()}onListenClick(){const t=this.elementAudio.element,e=this.elementAudioMeaning.element,n=this.elementAudioExample.element;this.onClickPLay(this.word),this.isPlaying?(this.elementBtnImg.element.setAttribute("src","./public/sprint-images/sound-on.svg"),this.elementBtnImg.element.setAttribute("alt","stop"),t.pause(),e.pause(),n.pause(),this.isPlaying=!this.isPlaying):(this.isPlaying=!this.isPlaying,this.elementBtnImg.element.setAttribute("src","./public/sprint-images/sound-off.svg"),this.elementBtnImg.element.setAttribute("alt","play"),t.play(),t.onended=()=>{e.play(),e.onended=()=>{n.play(),n.onended=()=>{this.elementBtnImg.element.setAttribute("src","./public/sprint-images/sound-on.svg"),this.elementBtnImg.element.setAttribute("alt","stop"),this.isPlaying=!this.isPlaying}}})}onAddClick(t){this.onAddWordToUserWords(this.word,t)}onRemoveClick(){this.onRemoveWordFromDifficult(this.word)}}class d extends t{constructor(e,n=!1){super(e,"div",["lds_wrapper"],"");const i=new t(this.element,"div",["lds-roller"],"");for(let e=0;e<8;e++)new t(i.element,"div",[],"");this.setVisible(n)}setVisible(t=!1){t?this.element.classList.remove("lds_disabled"):this.element.classList.add("lds_disabled")}}class m extends t{constructor(e,n,i,s,r,o){super(e,"div",["dictionary-content"]),this.loading=!0,this.onAddWordToUserWords=(t,e)=>i(t,e),this.onRemoveWordFromDifficult=t=>o(t),this.onClickPLay=t=>s(t),this.onSetupButtons=()=>r(),this.loadingElement=new d(this.element,!0),this.wordsList=new t(this.element,"ul",["dictionary-content__list","list-content"]),this.emptyWordsList=new t(this.element,"ul",["dictionary-content__list","list-content"]),this.listElement=[],this.loading=!1,this.loadingElement.setVisible(!1)}renderContent(t=[]){this.wordsList.element.innerHTML="",this.listElement=[],this.loading?this.loadingElement.setVisible(!0):(t.forEach((t=>{const e=new u(this.wordsList.element,t);e.onAddWordToUserWords=(t,e)=>this.onAddWordToUserWords(t,e),e.onRemoveWordFromDifficult=t=>this.onRemoveWordFromDifficult(t),e.onClickPLay=t=>this.onClickPLay(t),this.listElement.push(e)})),this.onSetupButtons(),0===t.length?this.emptyWordsList.element.textContent="There is no any hard word":this.emptyWordsList.element.textContent="",this.loadingElement.setVisible(!1))}}class p extends t{constructor(e,n){super(e,"div",["dictionary-pagination","pagination"]),this.onPrevPageClicl=()=>{0!==this.page&&(this.page--,localStorage.setItem("page",String(this.page)),this.setupButtons())},this.onNextPageClick=()=>{this.page<29&&(this.page++,localStorage.setItem("page",String(this.page)),this.setupButtons())},this.setupButtons=()=>{this.enabledButtons(),this.onChangePage()},this.disabletButtons=()=>{this.page=0,this.numberPage.element.textContent=`Page: ${this.page+1}`,this.btnPrev.setDisabled(!0),this.btnNext.setDisabled(!0)},this.enabledButtons=()=>{localStorage.getItem("page")&&(this.page=Number(localStorage.getItem("page"))),0===this.page?this.btnPrev.setDisabled(!0):this.btnPrev.setDisabled(!1),29===this.page?this.btnNext.setDisabled(!0):this.btnNext.setDisabled(!1),this.numberPage.element.textContent=`Page: ${this.page+1}`},this.onChangePage=()=>n(),this.page=0,localStorage.getItem("page")?this.page=Number(localStorage.getItem("page")):localStorage.setItem("page",String(this.page)),this.btnPrev=new c(this.element,["btn"],"Prev"),this.numberPage=new t(this.element,"span",["pagination-number"],`Page: ${this.page+1}`),this.btnNext=new c(this.element,["btn"],"Next"),this.btnPrev.onClickButton=()=>this.onPrevPageClicl(),this.btnNext.onClickButton=()=>this.onNextPageClick(),this.enabledButtons()}}function g(){return{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}}function f(){return{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:""}}function w(){return{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:""}}async function y(t="",e={method:"GET"}){try{const n=h+t,i=await fetch(n,e);return{data:200===i.status?await i.json():i,status:i.status}}catch(t){throw console.log(t),new Error("Can't fetch data")}}const v=async(t=1,e=1)=>{const n="words?group="+t+"&page="+e,i=await y(n,g());return 200!==i.status?[]:i.data},b=async t=>{const e=`words/${t}`,n=await y(e,g());return 200!==n.status?[]:n.data},S=async()=>{const t="users/"+localStorage.getItem("userId")+"/words",e=await y(t,g());return 200!==e.status?[]:e.data},C=async(t,e,n)=>{const i="users/"+localStorage.getItem("userId")+"/words/"+t.id,s=f();s.body=JSON.stringify({difficulty:e,optional:n});const r=await y(i,s);return 200!==r.status?[]:r.data},_=async(t,e,n)=>{const i=void 0!==t.id?t.id:t._id,s="users/"+localStorage.getItem("userId")+"/words/"+i,r=w();r.body=JSON.stringify({difficulty:e,optional:n});const o=await y(s,r);return 200!==o.status?[]:o.data},x=async(t,e)=>{const n="users/"+localStorage.getItem("userId")+"/aggregatedWords?page="+String(t)+"&wordsPerPage="+e+'&filter={"$and":[{"userWord.difficulty":"hard"}]}',i=await y(n,g());return 200!==i.status?[]:i.data[0]},k=async t=>{const e=f();return e.body=JSON.stringify(t),await y("signin",e)},A=async t=>{const e="users/"+t+"/statistics",n=g();return await y(e,n)},I=async t=>{const e="users/"+localStorage.getItem("userId")+"/statistics",n=w();return n.body=JSON.stringify(t),await y(e,n)},P=async()=>{const t={};t.learnedWords=localStorage.getItem("learnedWords"),t.optional={},t.optional.page=localStorage.getItem("page"),t.optional.chapter=localStorage.getItem("chapter"),t.optional.audiocall=JSON.parse(localStorage.getItem("audiocall")),t.optional.sprint=JSON.parse(localStorage.getItem("sprint")),I(t)};function L(){const t=new Date;return String(t.getFullYear())+"-"+String(t.getMonth())+"-"+String(t.getDate())}function T(){return{day:L(),newWords:"0",learnedWords:"0",totalQuestions:"0",correctAnswers:"0"}}class E extends t{constructor(t,e){super(t,"div",["dictionary"]),this.onChapterChange=()=>{this.onPageChange()},this.onPageChange=()=>{this.loadData()},this.loadData=()=>{this.checkToken().then((()=>{this.words=[],this.dictionaryContent.loading=!0,this.dictionaryContent.renderContent(this.words),localStorage.getItem("token")?S().then((t=>{this.userWords=t})).then((()=>{if(this.dictionaryHeader.chapters.chapter<6)this.dictionaryPagination.enabledButtons(),v(this.dictionaryHeader.chapters.chapter,this.dictionaryPagination.page).then((t=>{this.words=t,this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words)}));else{const t=0,e=100;this.dictionaryPagination.disabletButtons(),x(t,e).then((n=>{const i=0!==n.totalCount.length?Math.ceil(n.totalCount[0].count/e):0;t<i-1?(async(t,e)=>{let n=[];for(let i=0;i<t;i++){const t=(await x(i,e)).paginatedResults;n=[...n,...t]}return n})(i,e).then((t=>{this.words=t,this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words)})):(this.words=n.paginatedResults,this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words))}))}})):(this.userWords=[],v(this.dictionaryHeader.chapters.chapter,this.dictionaryPagination.page).then((t=>{this.words=t,this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words)})))}))},this.checkToken=async()=>{localStorage.getItem("token")&&(await async function(){const t="users/"+localStorage.getItem("userId");401===(await y(t,g())).status&&(localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"))}(),localStorage.getItem("token")||(window.location.hash="#/login",this.onUpdateRouter()))},this.onAddWordToUserWords=(t,e)=>{if(6!==this.dictionaryHeader.chapters.chapter)this.checkToken().then((()=>{"study"===e&&(localStorage.setItem("learnedWords",String(Number(localStorage.getItem("learnedWords"))+1)),P());const n=this.userWords.filter((e=>e.wordId===t.id));if(n.length){const i=JSON.parse(JSON.stringify(n[0].optional));i.learned="study"==e?"yes":"no",i.learnDate="study"==e?L():"no",_(t,e,i).then((t=>{n[0].difficulty=t.difficulty,this.onSetupButtons()}))}else{const n=this.createEmptyOptional();n.learned="study"==e?"yes":"no",n.learnDate="study"==e?L():"no",C(t,e,n).then((t=>{this.userWords.push(t),this.onSetupButtons()}))}}));else{this.dictionaryContent.loading=!0;const e=JSON.parse(JSON.stringify(t.userWord)).optional;e.learned="yes",e.learnDate=L(),this.dictionaryContent.renderContent(),localStorage.setItem("learnedWords",String(Number(localStorage.getItem("learnedWords"))+1)),P(),_(t,"study",e).then((t=>{this.userWords.filter((e=>e.wordId===t.wordId))[0].difficulty="study",this.words=this.words.filter((e=>e._id!==t.wordId)),this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words)}))}},this.onRemoveWordFromDifficult=t=>{const e=this.userWords.filter((e=>e.wordId===t.id));let n={};e.length?(n=e[0].optional&&e[0].optional?JSON.parse(JSON.stringify(e[0].optional)):this.createEmptyOptional(),n.learned="no",n.learnDate="no"):n=this.createEmptyOptional(),this.checkToken().then((()=>{e.length?_(t,"normal",n).then((t=>{this.userWords.filter((e=>e.wordId===t.wordId))[0].difficulty="normal",this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words),this.onSetupButtons()})):(async t=>{const e=void 0!==t.id?t.id:t._id,n="users/"+localStorage.getItem("userId")+"/words/"+e,i={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:""};await y(n,i)})(t).then((()=>{6!==this.dictionaryHeader.chapters.chapter?(this.userWords=this.userWords.filter((e=>e.wordId!==t.id)),this.words=this.words.filter((e=>e.wordId!==t.id))):(this.dictionaryContent.loading=!0,this.dictionaryContent.renderContent(),this.userWords=this.userWords.filter((e=>e.wordId!==t._id)),this.words=this.words.filter((e=>e._id!==t._id))),this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words),this.onSetupButtons()}))}))},this.setupButtonsForCapter1_6=()=>{let t=0,e=0;this.dictionaryContent.listElement.forEach((n=>{if(localStorage.getItem("token")){const i=this.userWords.filter((t=>n.word.id===t.wordId));i.length?(n.elementStata.element.classList.add("active"),n.elementCorrectAnswers.element.textContent=i[0].optional?JSON.parse(JSON.stringify(i[0].optional)).correctAnswers:"0",n.elementTotalAttempts.element.textContent=i[0].optional?JSON.parse(JSON.stringify(i[0].optional)).totalAttempts:"0",n.elementStata.element.classList.remove("element-stata__disabled"),"hard"===i[0].difficulty?(n.elementBtnAdd.setDisabled(!0),n.elementBtnRemove.setDisabled(!1),n.elementBtnStudied.setDisabled(!1),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied"),n.element.classList.add("element__hard")):"study"===i[0].difficulty?(n.elementBtnAdd.setDisabled(!0),n.elementBtnRemove.setDisabled(!1),n.elementBtnStudied.setDisabled(!0),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied"),n.element.classList.add("element__studied")):(n.elementBtnAdd.setDisabled(!1),n.elementBtnRemove.setDisabled(!0),n.elementBtnStudied.setDisabled(!1),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied"))):(n.elementCorrectAnswers.element.textContent="0",n.elementTotalAttempts.element.textContent="0",n.elementStata.element.classList.remove("active"),n.elementBtnAdd?.setDisabled(!1),n.elementBtnRemove.setDisabled(!0),n.elementBtnStudied.setDisabled(!1),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied")),t+=this.userWords.filter((t=>n.word.id===t.wordId&&"study"===t.difficulty)).length,e+=this.userWords.filter((t=>n.word.id===t.wordId&&"hard"===t.difficulty)).length}else n.elementBtnAdd?.setDisabled(!0),n.elementBtnRemove.setDisabled(!0),n.elementBtnStudied.setDisabled(!0),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied"),n.elementStata.element.classList.add("element-stata__disabled")})),20===t?this.dictionaryPagination.numberPage.element.classList.add("pagination-number__learned"):this.dictionaryPagination.numberPage.element.classList.remove("pagination-number__learned"),t+e===20?(this.dictionaryHeader.games.dictionaryHeading.element.classList.add("games__disabled"),this.dictionaryHeader.games.dictionaryGames.element.classList.add("games__disabled")):(this.dictionaryHeader.games.dictionaryHeading.element.classList.remove("games__disabled"),this.dictionaryHeader.games.dictionaryGames.element.classList.remove("games__disabled"))},this.setupButtonsForCapter7=()=>{this.dictionaryContent.listElement.forEach((t=>{t.elementBtnAdd?.setDisabled(!0),t.elementBtnRemove.setDisabled(!1),t.elementBtnStudied.setDisabled(!1)}))},this.onUpdateRouter=()=>e(),this.dictionaryHeader=new l(this.element,(()=>this.onChapterChange())),this.dictionaryPagination=new p(this.element,(()=>this.onPageChange())),this.words=[],this.userWords=[],this.dictionaryContent=new m(this.element,this.words,((t,e)=>this.onAddWordToUserWords(t,e)),(t=>this.onClickPlay(t)),(()=>this.onSetupButtons()),(t=>this.onRemoveWordFromDifficult(t)))}createEmptyOptional(){const t={learned:"no",learnDate:"no"};return t.games={sprint:{totalAttempts:0,correctAnswers:0},audiocall:{totalAttempts:0,correctAnswers:0}},t.totalAttempts=0,t.correctAnswers=0,t.isNew=!1,t}onClickPlay(t){this.dictionaryContent.listElement.filter((e=>e.word.id!==t.id&&e.isPlaying)).forEach((t=>t.onListenClick()))}onSetupButtons(){6!==this.dictionaryHeader.chapters.chapter?this.setupButtonsForCapter1_6():this.setupButtonsForCapter7()}}var W=n(86),B=n.n(W);const O=t=>new(B().Circle)(t,{strokeWidth:6,easing:"easeInOut",duration:1400,color:"#494a69",trailColor:"#9cd2ff",trailWidth:4,svgStyle:null,step:function(t,e){const n=Math.round(100*e.value());0===n?document.querySelectorAll(".master-progressbar__count").forEach((t=>t.innerHTML="0%")):document.querySelectorAll(".master-progressbar__count").forEach((t=>t.innerHTML=`${n}%`))}});let R=[],N=[];const M={totalWords:0,correctWordsPercent:0,series:0,maxSeries:0,correctArr:[],wrongArr:[]};class D extends t{constructor(e,n){super(e,"div",["audiocall-main","master"]),this.progressVal=0,this.valChapter=0,this.valPage=0,this.arrWords=[],this.getWords=(t,e)=>{document.querySelectorAll(".words-btn").forEach((t=>{t.innerHTML="",t.removeAttribute("disabled"),t.style.background="rgb(228 244 255)"})),this.voiceWrapper.element.style.background="none",this.voiceBtn.element.classList.remove("showPicture"),this.textDontKnow.element.style.display="flex",this.textNext.element.style.display="none",this.param&&6===Number(localStorage.getItem("chapter"))&&(t=6,e=0),v(t,e).then((e=>{localStorage.getItem("token")?S().then((async n=>{if(this.param&&6===t){e=[];const t=n.filter((t=>"hard"===t.difficulty)).map((t=>t)).map((t=>t.wordId));for(let n=0;n<t.length;n+=1){const i=await b(t[n]);e.push(i)}}this.getListCards(e)})):this.getListCards(e)}))},this.getRandomElem=t=>t[Math.floor(Math.random()*t.length)],this.shuffleArr=t=>{for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}},this.guessWord=t=>{const e=t.target;if(e.classList.contains("words-btn")){const{id:t}=e;this.splitEvents(t,e)}},this.getCorrectWord=()=>{document.querySelectorAll(".words-btn").forEach((t=>{t.id===this.randomNum.word&&(t.style.background="#67db67",this.voiceWrapper.element.style.background=`url(${h+this.randomNum.image}) center / contain no-repeat`,this.voiceBtn.element.classList.add("showPicture")),t.setAttribute("disabled","true"),this.textDontKnow.element.style.display="none",this.textNext.element.style.display="flex"}))},this.resetVal=()=>{this.progressVal=0,R=[],N=[],this.bar.animate(0)},this.splitEvents=(t,e)=>{const n=localStorage.getItem("token");this.randomNum.word===t?(e.style.background="#67db67",this.audioResult.element.setAttribute("src","./public/audio/win.mp3"),this.bar.animate(this.progressVal+=.1),localStorage.setItem("progressbarVal",`${this.progressVal}`),R.push(this.randomNum),M.correctArr=R,n&&(M.series++,M.maxSeries<M.series&&(M.maxSeries=M.series))):(M.series=0,e.style.background="#ff4c4c",this.audioResult.element.setAttribute("src","./public/audio/wrong.mp3"),N.push(this.randomNum),M.wrongArr=N),this.audioResult.element.play(),this.getCorrectWord(),M.totalWords=R.length+N.length,M.correctWordsPercent=Math.floor(M.correctArr.length/M.totalWords*100)},this.closeGame=t=>{document.fullscreenElement&&document.exitFullscreen(),this.resetVal(),t?window.location.hash="/dictionary":(document.querySelector(".home").style.display="flex",document.querySelector(".master").style.display="none")},this.getFullScreen=()=>{document.fullscreenElement?document.exitFullscreen():this.element.requestFullscreen()},this.openInfo=()=>{this.dropDownList.element.classList.toggle("openInfo")},this.hidenIntroPage=(t,e)=>{this.resetVal(),document.querySelector(".master").style.display="flex",document.querySelector(".home").style.display="none",this.textDontKnow.element.style.display="flex",this.textNext.element.style.display="none",this.getWords(t,e),localStorage.removeItem("progressbarVal")},this.activateKeyboard=(t,e)=>{const n=document.querySelector(".audiocall-main");n&&"flex"===n.style.display&&("Shift"===t.key&&this.audio.element.play(),document.querySelectorAll(".words-btn").forEach((e=>{t.key!==e.value||e.disabled||this.splitEvents(e.id,e)})),"Space"===t.code&&"flex"===document.getElementById("Space-Dont").style.display?(this.getCorrectWord(),N.push(this.randomNum)):"Space"===t.code&&"flex"===document.getElementById("Space-Next").style.display&&this.getWords(this.valChapter,this.valPage+=1),"Escape"===t.code&&this.closeGame(e),"KeyF"===t.code&&this.getFullScreen(),"KeyI"===t.code&&this.openInfo(),t.preventDefault())},this.getListCards=t=>{const e=document.querySelectorAll(".words-btn");t.length?(this.shuffleArr(t),this.arrWords=t.map(((t,n)=>{if(n<e.length)return e[n].innerHTML=`${n+1}. ${t.wordTranslate}`,e[n].setAttribute("id",t.word),t})).filter((t=>void 0!==t)),this.randomNum=this.getRandomElem(this.arrWords),this.audio.element.setAttribute("src",h+this.randomNum.audio),this.audio.element.setAttribute("autoplay",""),R.length+N.length===10&&this.audio.element.removeAttribute("autoplay")):(this.audioCallContent.element.prepend("Sorry but the list of hard words is empty"),this.voiceBtn.element.setAttribute("disabled","true"),this.actionBtn.element.setAttribute("disabled","true")),e.forEach((t=>{""===t.innerHTML&&t.setAttribute("disabled","true")}))},this.param=n,this.audioCallHeader=new t(this.element,"div",["master-header"]),this.audioCallContent=new t(this.element,"div",["master-content"]),this.audioCallControls=new t(this.audioCallHeader.element,"div",["master-controls","controls"]),this.controlsInfoCont=new t(this.audioCallControls.element,"div",["controls-btn__cont"]),this.controlsInfo=new c(this.controlsInfoCont.element,["controls-btn","btn","controls-info"],""),this.dropDownList=new t(this.controlsInfoCont.element,"div",["controls-dropDownList","info"]),this.infoHeading=new t(this.dropDownList.element,"h3",["info-heading"],"Hotkeys:"),this.infoVoice=new t(this.dropDownList.element,"span",["info-item","info-voice"]),this.infoChoose=new t(this.dropDownList.element,"span",["info-item","info-choose"]),this.infoNext=new t(this.dropDownList.element,"span",["info-item","info-next"]),this.infoInfo=new t(this.dropDownList.element,"span",["info-item","info-info"]),this.infoFullScreen=new t(this.dropDownList.element,"span",["info-item","info-fullscreen"]),this.infoExit=new t(this.dropDownList.element,"span",["info-item","info-exit"]),this.controlsScreen=new c(this.audioCallControls.element,["controls-btn","btn","controls-fullscreen"],""),this.controlsClose=new c(this.audioCallControls.element,["controls-btn","btn","controls-close"],""),this.audioCallProgressbar=new t(this.audioCallHeader.element,"div",["master-progressbar"]),this.progressbarCount=new t(this.audioCallProgressbar.element,"span",["master-progressbar__count"]),this.voiceWrapper=new t(this.audioCallContent.element,"div",["master-voice"]),this.voiceBtn=new c(this.voiceWrapper.element,["master-voice__btn","btn"],""),this.audio=new t(this.voiceWrapper.element,"audio",[]),this.audioResult=new t(this.voiceWrapper.element,"audio",[]),this.listWords=new t(this.audioCallContent.element,"ul",["master-words","words"]);for(let e=0;e<5;e+=1)this.listItem=new t(this.listWords.element,"li",["words-item"]),this.listBtn=new c(this.listItem.element,["words-btn","btn"],""),this.listBtn.element.setAttribute("value",`${e+1}`);if(this.actionBtn=new c(this.audioCallContent.element,["master-action__btn","btn"],""),this.textDontKnow=new t(this.actionBtn.element,"span",["action-item"],"I don't know"),this.textNext=new t(this.actionBtn.element,"span",["action-item","next"],"Next"),this.audioCallProgressbar.element.setAttribute("id","container"),this.voiceBtn.element.setAttribute("value","Shift"),this.textDontKnow.element.setAttribute("id","Space-Dont"),this.textNext.element.setAttribute("id","Space-Next"),this.infoVoice.element.innerHTML="Listen: <i>Shift</i>",this.infoChoose.element.innerHTML="Choose: <i>1-5</i>",this.infoNext.element.innerHTML="Next: <i>Space</i>",this.infoInfo.element.innerHTML="Hotkeys: <i>I</i>",this.infoFullScreen.element.innerHTML="Fullscreen: <i>F</i>",this.infoExit.element.innerHTML="Close: <i>Esc</i>",this.bar=O(this.audioCallProgressbar.element),this.controlsInfo.element.addEventListener("click",(()=>this.openInfo())),document.addEventListener("click",(t=>{t.target.closest(".controls-btn__cont")||this.dropDownList.element.classList.remove("openInfo")})),this.controlsClose.element.addEventListener("click",(()=>this.closeGame(n))),this.controlsScreen.element.addEventListener("click",(()=>this.getFullScreen())),document.querySelector(".home-lvl__btns").addEventListener("click",(t=>{const e=t.target,{id:n}=e;this.valChapter=+n,e.classList.contains("home-btn")&&this.hidenIntroPage(this.valChapter,this.valPage)})),this.voiceBtn.element.addEventListener("click",(()=>{this.audio.element.play()})),document.addEventListener("keyup",(t=>this.activateKeyboard(t,n))),this.textDontKnow.element.addEventListener("click",(()=>{this.getCorrectWord(),N.push(this.randomNum)})),this.textNext.element.addEventListener("click",(()=>this.getWords(this.valChapter,this.valPage+=1))),this.listWords.element.addEventListener("click",this.guessWord),n){const t=Number(localStorage.getItem("chapter")),e=Number(localStorage.getItem("page"));this.hidenIntroPage(t,e)}}}class F extends t{constructor(e){super(e,"div",["audiocall-home","home"]),this.homeHeading=new t(this.element,"h2",["home-heading"],"Audio all Game"),this.homeContent=new t(this.element,"div",["home-content"]),this.homeDescription=new t(this.homeContent.element,"p",["home-content__descript"],"It will help to understand the pronunciation of sounds, words and connectives in phrases. Improves listening comprehension."),this.homeLvl=new t(this.homeContent.element,"div",["home-lvl"]),this.homeBtnsChoose=new t(this.homeLvl.element,"span",["home-lvl__span"],"Choose a level:"),this.homeLvlBtnsWrapper=new t(this.homeLvl.element,"div",["home-lvl__btns"]);for(let t=0;t<6;t+=1)this.homeLvlBtns=new c(this.homeLvlBtnsWrapper.element,["btn","home-btn"],`${t+1}`),this.homeLvlBtns.element.setAttribute("id",`${t}`);this.linkMainPage=new t(this.homeContent.element,"a",["btn","home-link__back"],"Back to main page"),this.linkMainPage.element.setAttribute("href","#/"),this.linkMainPage.element.setAttribute("tabindex","0"),this.initStatisticDataAudioCall()}initStatisticDataAudioCall(){if(localStorage.getItem("token")){const t=localStorage.getItem("audiocall");if(t){const e=JSON.parse(t);if(e.maxSeria||(e.maxSeria=0),e.currSeria||(e.currSeria=0),e.dayStata){const t=L();if(0===e.dayStata.filter((e=>e.day===t)).length){const t=T();e.dayStata.push(t)}}else{e.dayStata=[];const t=T();e.dayStata.push(t)}localStorage.setItem("audiocall",JSON.stringify(e)),M.maxSeries=e.maxSeria,M.series=e.currSeria}else{const t={maxSeria:"0",currSeria:"0",dayStata:[]},e=T();t.dayStata.push(e),localStorage.setItem("audiocall",JSON.stringify(t)),M.maxSeries=Number(t.maxSeria),M.series=Number(t.currSeria)}}}}class H extends t{constructor(e,n){super(e,"div",["audiocall-stat","statistic"]),this.createList=(e,n)=>{n.forEach((n=>{this.totalItem=new t(e,"li",["total-item","total-correct__item"]),this.totalItemBtn=new c(this.totalItem.element,["total-item__btn"],""),this.totalItemImg=new t(this.totalItemBtn.element,"img",["total-item__img"]),this.totalItemImg.element.setAttribute("src","./public/volume.svg"),this.totalItemImg.element.setAttribute("alt","volume"),this.totalItemAudio=new t(this.totalItemBtn.element,"audio",["total-item__audio"]),this.totalItemAudio.element.setAttribute("src",h+n.audio),this.totalItemEnWord=new t(this.totalItem.element,"span",["total-item__word","total-item__en"],n.word),this.totalItemHyphen=new t(this.totalItem.element,"span",[],"-"),this.totalItemRuWord=new t(this.totalItem.element,"span",["total-item__word"],n.wordTranslate)}))},this.updateStat=()=>{if(R.length+N.length===10){const t=localStorage.getItem("progressbarVal");if(document.querySelector(".audiocall-main").style.display="none",this.element.style.display="flex",this.bar.animate(+t),this.createList(this.totalCorrect.element,R),this.createList(this.totalWrong.element,N),localStorage.getItem("token")){const t=localStorage.getItem("audiocall"),e=JSON.parse(t);e.maxSeria=M.maxSeries,e.currSeria=M.series;let n=0,i=0;S().then((t=>{R.forEach((e=>{const s=t.filter((t=>String(t.wordId)===String(e.id)));if(s.length){const t=s[0].optional;!0===t.isNew&&(t.isNew=!1,n++),t.totalAttempts++,t.correctAnswers++,t.games.audiocall.totalAttempts++,t.games.audiocall.correctAnswers++,"normal"===s[0].difficulty?t.games.sprint.correctAnswers+t.games.sprint.correctAnswers>=3&&(s[0].difficulty="study",t.learnDate=L(),t.learned="yes",i++):"hard"===s[0].difficulty&&t.games.sprint.correctAnswers+t.games.sprint.correctAnswers>=5&&(s[0].difficulty="study",t.learnDate=L(),t.learned="yes",i++);const r={id:e.id};_(r,s[0].difficulty,t)}else{const t="normal",i={learned:"no",learnDate:"no"},s={sprint:{totalAttempts:0,correctAnswers:0},audiocall:{totalAttempts:1,correctAnswers:1}};i.games=s,i.totalAttempts=1,i.correctAnswers=1,i.isNew=!1,n++;const r={id:e.id};C(r,t,i)}})),N.forEach((e=>{const s=t.filter((t=>String(t.wordId)===String(e.id)));if(s.length){const t=s[0].optional;!0===t.isNew&&(t.isNew=!1,n++),t.totalAttempts++,t.games.audiocall.correctAnswers=0,"yes"===s[0].optional.learned?(s[0].difficulty="normal",t.learnDate="no",t.learned="no",i--):t.learned="no";const r={id:e.id};_(r,s[0].difficulty,t)}else{const t="normal",i={learned:"no",learnDate:"no"},s={sprint:{totalAttempts:0,correctAnswers:0},audiocall:{totalAttempts:1,correctAnswers:0}};i.games=s,i.totalAttempts=1,i.correctAnswers=0,i.isNew=!1,n++;const r={id:e.id};C(r,t,i)}}));const s=e.dayStata.filter((t=>t.day===L()));s[0].correctAnswers=String(Number(s[0].correctAnswers)+R.length),s[0].totalQuestions=String(Number(s[0].totalQuestions)+R.length+N.length),s[0].newWords=String(Number(s[0].newWords)+n),s[0].learnedWords=String(Number(s[0].learnedWords)+i),localStorage.setItem("audiocall",JSON.stringify(e)),localStorage.setItem("learnedWords",String(Number(localStorage.getItem("learnedWords"))+i)),P()}))}}},this.statHeading=new t(this.element,"h3",["statistic-heading"],"Here is your result"),this.statProgressbar=new t(this.element,"div",["master-progressbar","statistic-progressbar"]),this.statTotalCont=new t(this.element,"div",["statistic-total","total"]),this.correctCont=new t(this.statTotalCont.element,"div",["total-correct__cont"]),this.wrongCont=new t(this.statTotalCont.element,"div",["total-wrong__cont"]),this.totalCorrect=new t(this.correctCont.element,"ul",["total-list","total-correct"]),this.correctHeading=new t(this.totalCorrect.element,"h4",["total-heading"],"Correct:"),this.totalWrong=new t(this.wrongCont.element,"ul",["total-list","total-wrong"]),this.wrongHeading=new t(this.totalWrong.element,"h4",["total-heading"],"Wrong:"),this.statBtnsCont=new t(this.element,"div",["statistic-btns"]),this.btnAgain=new c(this.statBtnsCont.element,["statistic-btns__again"],"Again"),this.linkAgain=new t(this.btnAgain.element,"a",["statistic-link","link-again"],""),this.btnDictionary=new c(this.statBtnsCont.element,["statistic-btns__dictionary"],"Dictionary"),this.linkDictionary=new t(this.btnDictionary.element,"a",["statistic-link","link-dict"],""),this.linkDictionary.element.setAttribute("href","#/dictionary"),this.statBtnsCont.element.addEventListener("click",(t=>{const e=t.target,i=e.closest(".statistic-link");i&&this.statBtnsCont.element.contains(i)&&e.classList.contains("link-again")&&(n||(window.location.hash="#/audiocall"),location.reload())})),this.progressbarCount=new t(this.statProgressbar.element,"span",["master-progressbar__count"]),this.bar=O(this.statProgressbar.element),document.querySelector(".next").addEventListener("click",this.updateStat),document.addEventListener("keyup",(t=>{const e=document.querySelector(".audiocall-main");e&&"flex"===e.style.display&&"Space"===t.code&&this.updateStat()})),this.statTotalCont.element.addEventListener("click",(t=>{const e=t.target.closest(".total-item__btn");e&&this.statTotalCont.element.contains(e)&&e.querySelector("audio").play()}))}}class G extends t{constructor(t,e){super(t,"div",["audiocall"]),this.homePage=new F(this.element),this.mainPage=new D(this.element,e),this.statPage=new H(this.element,e)}}const j=class extends t{constructor(e){super(e,"div",["sprintIntro-card__wrap"]),this.element.style.display="none",this.cardTitle=new t(this.element,"h3",["sprintIntro-card__title"],"Sprint"),this.cardTextContent=new t(this.element,"p",["sprintIntro-card__content"]),this.cardTextContent.element.innerHTML="Practises rapid translation from<br> English to Russian.<br><br> You have to choose whether the translation<br> corresponds to the suggested word",this.cardBtnsContainer=new t(this.element,"div",["sprintIntro-card__Btns"]),this.cardBtn1=new c(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"1"),this.cardBtn2=new c(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"2"),this.cardBtn3=new c(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"3"),this.cardBtn4=new c(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"4"),this.cardBtn5=new c(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"5"),this.cardBtn6=new c(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"6")}startSprint(){return null}},V=class extends t{constructor(e){super(e,"div",["sprint-game__wrap"]),this.element.style.display="none",this.gamePageControlsBtnsContainer=new t(this.element,"div",["sprintControlsBtns-container"]),this.soundToggleBtn=new t(this.gamePageControlsBtnsContainer.element,"div",["sprintSoundToggle-btn"]),this.toFullScreenBtn=new t(this.gamePageControlsBtnsContainer.element,"div",["sprintToFullScreen-btn"]),this.toSprintIntroPageBtn=new t(this.gamePageControlsBtnsContainer.element,"div",["toSprintIntroPage-btn"]),this.countersContainer=new t(this.element,"div",["sprintCounters-container"]),this.timer=new t(this.countersContainer.element,"div",["sprint-timer"],"60"),this.points=new t(this.countersContainer.element,"div",["sprint-points"],"0"),this.gameCardContainer=new t(this.element,"div",["sprintGameCard-container"]),this.gameSignalsContainer=new t(this.element,"div",["sprintGameCardSignals-container"]),this.gameSignalOne=new t(this.gameSignalsContainer.element,"div",["sprintGameCardSignalOne","sprintGameCardSignal"]),this.gameSignalTwo=new t(this.gameSignalsContainer.element,"div",["sprintGameCardSignalTwo","sprintGameCardSignal"]),this.gameSignalThree=new t(this.gameSignalsContainer.element,"div",["sprintGameCardSignalThree","sprintGameCardSignal"]),this.gameSignalOne.element.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' stroke='#e4f4ff;' version='1.1' id='Layer_1' x='0px' y='0px' viewBox='0 0 80 80' style='enable-background:new 0 0 80 80;' xml:space='preserve' width='40' height='40'> <g>\t<path d='M40,77.5C19.322,77.5,2.5,60.678,2.5,40S19.322,2.5,40,2.5S77.5,19.322,77.5,40S60.678,77.5,40,77.5 z'/> <g><path style='fill:#e4f4ff;' d='M40,3c20.402,0,37,16.598,37,37S60.402,77,40,77S3,60.402,3,40S19.598,3,40,3 M40,2 C19.013,2,2,19.013,2,40s17.013,38,38,38s38-17.013,38-38S60.987,2,40,2L40,2z'/> </g> </g><polyline style='fill:none;stroke:#FFFFFF;stroke-width:6;stroke-miterlimit:10;' points='22.357,40.104 34.049,51.797   60.357,25.489 '/></svg>",this.gameSignalTwo.element.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' stroke='#e4f4ff;' version='1.1' id='Layer_1' x='0px' y='0px' viewBox='0 0 80 80' style='enable-background:new 0 0 80 80;' xml:space='preserve' width='40' height='40'> <g>\t<path d='M40,77.5C19.322,77.5,2.5,60.678,2.5,40S19.322,2.5,40,2.5S77.5,19.322,77.5,40S60.678,77.5,40,77.5 z'/> <g><path style='fill:#e4f4ff;' d='M40,3c20.402,0,37,16.598,37,37S60.402,77,40,77S3,60.402,3,40S19.598,3,40,3 M40,2 C19.013,2,2,19.013,2,40s17.013,38,38,38s38-17.013,38-38S60.987,2,40,2L40,2z'/> </g> </g><polyline style='fill:none;stroke:#FFFFFF;stroke-width:6;stroke-miterlimit:10;' points='22.357,40.104 34.049,51.797   60.357,25.489 '/></svg>",this.gameSignalThree.element.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' stroke='#e4f4ff;' version='1.1' id='Layer_1' x='0px' y='0px' viewBox='0 0 80 80' style='enable-background:new 0 0 80 80;' xml:space='preserve' width='40' height='40'> <g>\t<path d='M40,77.5C19.322,77.5,2.5,60.678,2.5,40S19.322,2.5,40,2.5S77.5,19.322,77.5,40S60.678,77.5,40,77.5 z'/> <g><path style='fill:#e4f4ff;' d='M40,3c20.402,0,37,16.598,37,37S60.402,77,40,77S3,60.402,3,40S19.598,3,40,3 M40,2 C19.013,2,2,19.013,2,40s17.013,38,38,38s38-17.013,38-38S60.987,2,40,2L40,2z'/> </g> </g><polyline style='fill:none;stroke:#FFFFFF;stroke-width:6;stroke-miterlimit:10;' points='22.357,40.104 34.049,51.797   60.357,25.489 '/></svg>",this.pronounceWordBtn=new t(this.element,"div",["sprintPronounceWord-btn"]),this.pronounceWordBtn.element.innerHTML="<svg class='MuiSvgIcon-root' focusable='false' viewBox='0 0 24 24' aria-hidden='true'><path d='M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z'></path></svg>",this.wordInEngContainer=new t(this.element,"div",["sprintWordInEng-container"]),this.wordInEng=new t(this.wordInEngContainer.element,"p",["sprintWordInEng"]),this.wordInRuContainer=new t(this.element,"div",["sprintWordInRu-container"]),this.wordInRu=new t(this.wordInRuContainer.element,"p",["sprintWordInRu"]),this.answersBtnsContainer=new t(this.element,"div",["sprintAnswersBtns-container"]),this.answerFalseBtn=new c(this.answersBtnsContainer.element,["sprintAnswerFalse-btn"],"Incorrect"),this.answerTrueBtn=new c(this.answersBtnsContainer.element,["sprintAnswerTrue-btn"],"Correct"),this.audioPlayer=new t(this.element,"audio",["sprintAudioPlayer"]),this.audioPlayer.element.style.cssText="display: none; visibility: hidden"}clearLamp(){[this.gameSignalOne.element,this.gameSignalTwo.element,this.gameSignalThree.element].forEach((t=>{t.classList.toggle("activate",!1)}))}};class z extends t{constructor(e){super(e,"div",["sprint-resultsPage__container"]),this.specialFunc=()=>console.log("to do something"),this.element.style.display="none",this.toSprintGamePageBtn=new t(this.element,"div",["toSprintGamePage-btn"]),this.title=new t(this.element,"h3",["sprintGameReults-title"],"Results"),this.results=new t(this.element,"div",["sprint-results__container"]),this.results.element.setAttribute("autofocus","true")}clearResults(){this.results.element.innerHTML=""}}class q extends t{constructor(e,n,i,s,r,o){super(e,"div",["sprint-result__wrap"]),this.specialFunc=()=>console.log("to do something"),this.soundOnOffBtn=new t(this.element,"div",["sprintReultSound-btn"]),this.wordInEng=new t(this.element,"div",["sprintResultWordInEng"],n),this.wordInEngTranscription=new t(this.element,"div",["sprintResultWordInEng-transcription"],i),this.wordInRu=new t(this.element,"div",["sprintResultWordInRu"],s),this.wordPronunLink=r,this.wordCheckingResultImg=new t(this.element,"div",o?["sprintResultWordCheckingResult-img","true"]:["sprintResultWordCheckingResult-img","false"]),this.soundOnOffBtn.element.onclick=()=>this.specialFunc()}}const U={currentGroup:0,currentPage:0,stepCounter:0,score:0,correctAnswerCount:0,currentContent:[],parentNodeInfo:"about",userHardWords:[],userHardWordsCounter:0,userResult:[]};async function J(t,e){return await v(t,e)}function Q(t=0,e=U.currentContent.length){let n=t,i=e;return n=Math.ceil(n),i=Math.floor(i),Math.floor(Math.random()*(i-n+1))+n}function $(t,e){let n;return n=e?Q(e[0],e[1]):Q(),1===Q(1,2)?t:n}async function X(){U.currentGroup=0,U.currentPage=0,U.stepCounter=0,U.score=0,U.correctAnswerCount=0,U.currentContent=[],U.parentNodeInfo="about",U.userHardWords=[],U.userHardWordsCounter=0,U.userResult=[]}async function Y(t,e,n,i,s,r){if(!r){if(t&&"string"!=typeof t?U.currentPage+=1:t?"string"==typeof t&&(U.currentPage+=0):U.currentPage-=1,e&&"string"!=typeof e?U.stepCounter+=1:e?"string"==typeof e&&(U.stepCounter+=0):U.stepCounter-=1,"boolean"==typeof n&&n)switch(U.correctAnswerCount){case 0:U.score+=5;break;case 1:U.score+=10;break;case 2:U.score+=15;break;case 3:U.score+=20}"number"==typeof n&&(U.score=n),i&&U.correctAnswerCount<3?U.correctAnswerCount+=1:i&&3===U.correctAnswerCount?U.correctAnswerCount+=0:i||(U.correctAnswerCount=0),s&&(U.currentContent=await J(U.currentGroup,U.currentPage))}if(r){if(t&&"string"!=typeof t?U.currentPage+=1:t?"string"==typeof t&&(U.currentPage+=0):U.currentPage-=1,e&&"string"!=typeof e?U.userHardWordsCounter+=1:e?"string"==typeof e&&(U.userHardWordsCounter+=0):U.userHardWordsCounter-=1,"boolean"==typeof n&&n)switch(U.correctAnswerCount){case 0:U.score+=5;break;case 1:U.score+=10;break;case 2:U.score+=15;break;case 3:U.score+=20}"number"==typeof n&&(U.score=n),i&&U.correctAnswerCount<3?U.correctAnswerCount+=1:i&&3===U.correctAnswerCount?U.correctAnswerCount+=0:i||(U.correctAnswerCount=0)}}const K=async(t,e,n,i)=>{await Z(t),await Z(e),Z(n,0,i)};async function Z(t,e,n="none"){t.style.display=n}class tt extends t{constructor(t,e){super(t,"div",["sprint"]),this.sprintStart=async()=>{"about"===U.parentNodeInfo&&await K(this.sprintResultsPage.element,this.sprintGamePage.element,this.sprintIntroCard.element,"flex"),"dictionary"===U.parentNodeInfo&&(localStorage.userId&&("6"!==localStorage.chapter&&await this.gamePreparation(),"6"===localStorage.chapter&&await this.gamePreparation()),localStorage.userId||await this.gamePreparation())},this.gamePreparation=async()=>{if("about"===U.parentNodeInfo&&(U.currentContent=await J(U.currentGroup,U.currentPage),await this.gamePreparationActions("default")),"dictionary"===U.parentNodeInfo){if(localStorage.userId||(U.currentGroup=+localStorage.chapter,U.currentPage=+localStorage.page,U.currentContent=await J(U.currentGroup,U.currentPage),await this.gamePreparationActions("default")),localStorage.userId&&"6"!==localStorage.chapter){U.currentGroup=+localStorage.chapter,U.currentPage=+localStorage.page,U.currentContent=await J(U.currentGroup,U.currentPage);const t=await S(),e=async()=>{const e=t.filter((t=>"hard"!==t.difficulty&&"normal"!==t.difficulty)).map((t=>t.wordId));for(const t of e)U.currentContent=U.currentContent.filter((e=>e.id!==t))};await e(),await this.gamePreparationActions("default")}if(localStorage.userId&&"6"===localStorage.chapter){const t=await S(),e=async()=>{const e=t.filter((t=>"study"!==t.difficulty&&"normal"!==t.difficulty)).map((t=>t.wordId));for(let t=0;t<e.length;t+=1){const n=await b(e[t]);U.userHardWords[t]=n}};await e(),await this.gamePreparationActions("custom")}}},this.updateGameContent=async t=>{if("default"===t&&U.stepCounter!==U.currentContent.length)try{this.sprintGamePage.wordInEng.element.innerText=U.currentContent[U.stepCounter].word.toString(),this.sprintGamePage.wordInRu.element.innerText=U.currentContent[$(U.stepCounter)].wordTranslate.toString()}catch(t){console.error(t.message,"        !!!")}if("custom"===t&&U.userHardWordsCounter!==U.userHardWords.length)try{this.sprintGamePage.wordInEng.element.innerText=U.userHardWords[U.userHardWordsCounter].word.toString(),this.sprintGamePage.wordInRu.element.innerText=U.userHardWords[$(U.userHardWordsCounter,[0,U.userHardWords.length])].wordTranslate.toString()}catch(t){console.error(t.message,"   ()    !!!")}},this.checkLimit=async t=>{if("default"===t&&"about"===U.parentNodeInfo){const t=U.currentContent.length;U.stepCounter===t&&U.currentPage<29?(await Y(!0,"none",!1,!1,!0,!1),U.stepCounter=0):U.stepCounter===t&&29===U.currentPage&&(await K(this.sprintGamePage.element,this.sprintIntroCard.element,this.sprintResultsPage.element,"block"),await(this.timer?.timerStop()))}if("default"===t&&"dictionary"===U.parentNodeInfo){const t=U.currentContent.length;U.stepCounter===t&&U.currentPage<29&&0!==U.currentPage?(await Y(!1,"none",!1,!1,!0,!1),U.stepCounter=0):U.stepCounter===t&&0===U.currentPage&&(await K(this.sprintGamePage.element,this.sprintIntroCard.element,this.sprintResultsPage.element,"block"),await(this.timer?.timerStop()))}"custom"===t&&"dictionary"===U.parentNodeInfo&&U.userHardWordsCounter===U.userHardWords.length&&(await K(this.sprintGamePage.element,this.sprintIntroCard.element,this.sprintResultsPage.element,"block"),await(this.timer?.timerStop()),await this.updateSignalLampState(!1))},this.showResults=async()=>{K(this.sprintGamePage.element,this.sprintIntroCard.element,this.sprintResultsPage.element,"block"),this.timer?.timerStop(),localStorage.getItem("token")&&this.updateStata(U)},this.makeAnswerVoise=async t=>{const e=this.sprintGamePage.audioPlayer.element;t?e.setAttribute("src","./public/sprint-music/true.mp3"):e.setAttribute("src","./public/sprint-music/false.mp3"),e.play()},this.introChapterBtnsListener=()=>{[this.sprintIntroCard.cardBtn1,this.sprintIntroCard.cardBtn2,this.sprintIntroCard.cardBtn3,this.sprintIntroCard.cardBtn4,this.sprintIntroCard.cardBtn5,this.sprintIntroCard.cardBtn6].forEach((t=>{t.element.addEventListener("click",(async()=>{U.currentGroup=+t.element.innerText-1,this.gamePreparation()}))}))},this.answerBtnsListener=async()=>{[this.sprintGamePage.answerFalseBtn.element,this.sprintGamePage.answerTrueBtn.element].forEach((async t=>{t.addEventListener("click",(async t=>{await this.unswersBtnsBlockToggle(!0);const e=t.target;localStorage.userId&&"dictionary"===U.parentNodeInfo&&"6"===localStorage.chapter?("CORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText===U.userHardWords[U.userHardWordsCounter].wordTranslate.toString()?await this.responseProcessing(!0,"custom"):"CORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText!==U.userHardWords[U.userHardWordsCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"custom"),"INCORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText!==U.userHardWords[U.userHardWordsCounter].wordTranslate.toString()?await this.responseProcessing(!0,"custom"):"INCORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText===U.userHardWords[U.userHardWordsCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"custom")):("CORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText===U.currentContent[U.stepCounter].wordTranslate.toString()?await this.responseProcessing(!0,"default"):"CORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText!==U.currentContent[U.stepCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"default"),"INCORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText!==U.currentContent[U.stepCounter].wordTranslate.toString()?await this.responseProcessing(!0,"default"):"INCORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText===U.currentContent[U.stepCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"default")),await this.unswersBtnsBlockToggle(!1)}))}))},this.responseProcessing=async(t,e)=>{"default"===e&&(t?(await this.userResponseProcessing(U.currentContent[U.stepCounter].word.toString(),U.currentContent[U.stepCounter].transcription.toString(),U.currentContent[U.stepCounter].wordTranslate.toString(),U.currentContent[U.stepCounter].audio.toString(),!0),localStorage.userId&&U.userResult.push({id:U.currentContent[U.stepCounter].id,answer:!0}),await Y("none",!0,!0,!0,!1,!1),await this.updateScore(!0),await this.updateSignalLampState(!0),await this.makeAnswerVoise(!0),await this.checkLimit("default"),await this.updateGameContent("default")):(await this.userResponseProcessing(U.currentContent[U.stepCounter].word.toString(),U.currentContent[U.stepCounter].transcription.toString(),U.currentContent[U.stepCounter].wordTranslate.toString(),U.currentContent[U.stepCounter].audio.toString(),!1),localStorage.userId&&U.userResult.push({id:U.currentContent[U.stepCounter].id,answer:!1}),await Y("none",!0,!0,!1,!1,!1),await this.updateSignalLampState(!0),await this.makeAnswerVoise(!1),await this.checkLimit("default"),await this.updateGameContent("default"))),"custom"===e&&(t?(await this.userResponseProcessing(U.userHardWords[U.userHardWordsCounter].word.toString(),U.userHardWords[U.userHardWordsCounter].transcription.toString(),U.userHardWords[U.userHardWordsCounter].wordTranslate.toString(),U.userHardWords[U.userHardWordsCounter].audio.toString(),!0),localStorage.userId&&U.userResult.push({id:U.userHardWords[U.userHardWordsCounter].id,answer:!0}),await Y("none",!0,!0,!0,!1,!0),await this.updateScore(!0),await this.updateSignalLampState(!0),await this.makeAnswerVoise(!0),await this.checkLimit("custom"),await this.updateGameContent("custom")):(await this.userResponseProcessing(U.userHardWords[U.userHardWordsCounter].word.toString(),U.userHardWords[U.userHardWordsCounter].transcription.toString(),U.userHardWords[U.userHardWordsCounter].wordTranslate.toString(),U.userHardWords[U.userHardWordsCounter].audio.toString(),!1),localStorage.userId&&U.userResult.push({id:U.userHardWords[U.userHardWordsCounter].id,answer:!1}),await Y("",!0,!1,!1,!1,!0),await this.updateSignalLampState(!0),await this.makeAnswerVoise(!1),await this.checkLimit("custom"),await this.updateGameContent("custom")))},this.userResponseProcessing=async(t,e,n,i,s)=>{this.sprintResultsPage.result=new q(this.sprintResultsPage.results.element,t,e,n,i,s),this.sprintResultsPage.result.specialFunc=()=>{return t=this.sprintGamePage.audioPlayer.element,e=i,t.setAttribute("src",h+e),void t.play();var t,e}},this.unswersBtnsBlockToggle=async t=>{t?[this.sprintGamePage.answerTrueBtn.element,this.sprintGamePage.answerFalseBtn.element].forEach((t=>{t.setAttribute("disabled","true")})):[this.sprintGamePage.answerTrueBtn.element,this.sprintGamePage.answerFalseBtn.element].forEach((t=>{t.removeAttribute("disabled")}))},this.updateSignalLampState=async t=>{if(t){const t=[this.sprintGamePage.gameSignalOne.element,this.sprintGamePage.gameSignalTwo.element,this.sprintGamePage.gameSignalThree.element];t.forEach((t=>t.classList.toggle("activate",!1)));for(let e=1;e<=U.correctAnswerCount;e+=1)t[e-1].classList.toggle("activate",!0)}else[this.sprintGamePage.gameSignalOne.element,this.sprintGamePage.gameSignalTwo.element,this.sprintGamePage.gameSignalThree.element].forEach((t=>t.classList.toggle("activate",!1)))},this.updateScore=async t=>{this.sprintGamePage.points.element.innerText=t?U.score.toString():"0"},this.gamePageGlobalSoundToggle=async()=>{this.sprintGamePage.soundToggleBtn.element.addEventListener("click",(()=>{this.sprintGamePage.soundToggleBtn.element.classList.toggle("active"),"sprintSoundToggle-btn"===this.sprintGamePage.soundToggleBtn.element.className?this.sprintGamePage.audioPlayer.element.volume=1:this.sprintGamePage.audioPlayer.element.volume=0}))},this.gamePageFullScreenToggle=async()=>{this.sprintGamePage.toFullScreenBtn.element.addEventListener("click",(()=>{const t=document.documentElement,e=t.requestFullscreen;void 0!==e&&e&&e.call(t),null!==document.fullscreenElement&&document.exitFullscreen()}))},this.closeGamePage=async()=>{this.sprintGamePage.toSprintIntroPageBtn.element.addEventListener("click",(async()=>{await this.closeGameActions()}))},this.closeResultsPage=async()=>{this.sprintResultsPage.toSprintGamePageBtn.element.onclick=async()=>{await this.closeGameActions()}},this.closeGameActions=async()=>{await K(this.sprintGamePage.element,this.sprintResultsPage.element,this.sprintIntroCard.element,"flex"),X(),this.sprintResultsPage.clearResults(),this.timer?.timerStop(),this.updateScore(!1),this.updateSignalLampState(!1)},this.gamePreparationActions=async t=>{await(async()=>{"default"===t?await this.updateGameContent("default"):await this.updateGameContent("custom")})(),await K(this.sprintIntroCard.element,this.sprintResultsPage.element,this.sprintGamePage.element,"flex"),this.timer=new class{constructor(t,e=20){this.specialFunc=()=>console.log("to do something"),this.timerRun=()=>{const t=()=>{this.parentNode.innerText=this.timeout.toString(),this.timeout-=1,this.timer=setTimeout(t,1e3),this.timeout<0&&(this.timerStop(),this.specialFunc())};t()},this.parentNode=t,this.timeout=e}async timerStop(){clearTimeout(this.timer)}}(this.sprintGamePage.timer.element),this.timer.specialFunc=this.showResults,this.timer.timerRun()},this.keybordListener=()=>{document.addEventListener("keyup",this.funcForKE)},this.funcForKE=async t=>{localStorage.userId&&"dictionary"===U.parentNodeInfo&&"6"===localStorage.chapter?("ArrowRight"===t.code&&this.sprintGamePage.wordInRu.element.innerText===U.userHardWords[U.userHardWordsCounter].wordTranslate.toString()?await this.responseProcessing(!0,"custom"):"ArrowRight"===t.code&&this.sprintGamePage.wordInRu.element.innerText!==U.userHardWords[U.userHardWordsCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"custom"),"ArrowLeft"===t.code&&this.sprintGamePage.wordInRu.element.innerText!==U.userHardWords[U.userHardWordsCounter].wordTranslate.toString()?await this.responseProcessing(!0,"custom"):"ArrowLeft"===t.code&&this.sprintGamePage.wordInRu.element.innerText===U.userHardWords[U.userHardWordsCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"custom")):("ArrowRight"===t.code&&this.sprintGamePage.wordInRu.element.innerText===U.currentContent[U.stepCounter].wordTranslate.toString()?await this.responseProcessing(!0,"default"):"ArrowRight"===t.code&&this.sprintGamePage.wordInRu.element.innerText!==U.currentContent[U.stepCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"default"),"ArrowLeft"===t.code&&this.sprintGamePage.wordInRu.element.innerText!==U.currentContent[U.stepCounter].wordTranslate.toString()?await this.responseProcessing(!0,"default"):"ArrowLeft"===t.code&&this.sprintGamePage.wordInRu.element.innerText===U.currentContent[U.stepCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"default"))},this.removeKBEvent=()=>{document.querySelectorAll(".nav-link").forEach((t=>{t.addEventListener("click",(()=>{document.removeEventListener("keyup",this.funcForKE,!1)}))}))},this.starterKit=()=>{this.sprintStart(),this.introChapterBtnsListener(),this.gamePageGlobalSoundToggle(),this.gamePageFullScreenToggle(),this.closeGamePage(),this.answerBtnsListener(),this.closeResultsPage(),this.keybordListener(),this.removeKBEvent()},X(),e&&(U.parentNodeInfo="dictionary"),this.sprintIntroCard=new j(this.element),this.sprintGamePage=new V(this.element),this.sprintResultsPage=new z(this.element),this.starterKit()}updateStata(t){this.initStatisticDataSprint();const e=t.userResult,n=localStorage.getItem("sprint"),i=JSON.parse(n);let s=i.maxSeria,r=i.currSeria,o=0,a=0;S().then((t=>{e.forEach((e=>{const n=t.filter((t=>String(t.wordId)===String(e.id)));if(n.length){const t=n[0].optional;!0===t.isNew&&(t.isNew=!1,o++),t.totalAttempts++,e.answer?(t.correctAnswers++,r++,s<r&&(s=r)):(s<r&&(s=r),r=0),t.games.sprint.totalAttempts++,e.answer?(t.games.sprint.correctAnswers++,"normal"===n[0].difficulty?t.games.sprint.correctAnswers+t.games.sprint.correctAnswers>=3&&(n[0].difficulty="study",t.learnDate=L(),t.learned="yes",a++):"hard"===n[0].difficulty?t.games.sprint.correctAnswers>=5&&(n[0].difficulty="study",t.learnDate=L(),t.learned="yes",a++):n[0].difficulty="study"):(t.games.sprint.correctAnswers=0,"yes"===n[0].optional.learned?(n[0].difficulty="normal",t.learnDate="no",t.learned="no",a--):t.learned="no");const i={id:e.id};_(i,n[0].difficulty,t)}else{const t="normal",n={learned:"no",learnDate:"no"},i={totalAttempts:0,correctAnswers:0},a={totalAttempts:1,correctAnswers:0};e.answer?(a.correctAnswers++,r++):(s<r&&(s=r),r=0);const l={sprint:a,audiocall:i};n.games=l,n.totalAttempts=1,n.correctAnswers=e.answer?1:0,n.isNew=!1,o++;const h={id:e.id};C(h,t,n)}}));const n=i.dayStata.filter((t=>t.day===L())),l=e.filter((t=>!0===t.answer));n[0].correctAnswers=String(Number(n[0].correctAnswers)+l.length),n[0].totalQuestions=String(Number(n[0].totalQuestions)+e.length),n[0].newWords=String(Number(n[0].newWords)+o),n[0].learnedWords=String(Number(n[0].learnedWords)+a),i.maxSeria=i.maxSeria<s?s:i.maxSeria,i.currSeria=i.currSeria<r?r:i.currSeria,localStorage.setItem("sprint",JSON.stringify(i)),localStorage.setItem("learnedWords",String(Number(localStorage.getItem("learnedWords"))+a)),P()}))}initStatisticDataSprint(){if(localStorage.getItem("token")){const t=localStorage.getItem("sprint");if(t){const e=JSON.parse(t);if(e.maxSeria||(e.maxSeria=0),e.currSeria||(e.currSeria=0),e.dayStata){const t=L();if(0===e.dayStata.filter((e=>e.day===t)).length){const t=T();e.dayStata.push(t)}}else{e.dayStata=[];const t=T();e.dayStata.push(t)}localStorage.setItem("sprint",JSON.stringify(e))}else{const t={maxSeria:"0",currSeria:"0",dayStata:[]},e=T();t.dayStata.push(e),localStorage.setItem("sprint",JSON.stringify(t))}}}}class et extends t{constructor(t,e,n=[],i){super(t,"input",["ui-input"]),this.getInputValue=()=>{},this.element.setAttribute("type",e),this.element.classList.add(...n),i&&this.element.setAttribute("value",i),this.element.addEventListener("input",(t=>this.getInputValue(t)))}}class nt extends t{constructor(e){super(e,"form",["form"],""),this.formHeading=new t(this.element,"h2",["form-heading"],"Hello!");const n=new t(this.element,"div",["form-item","item"]);this.eMailInput=new et(n.element,"email",["item-input"]),this.eMailInput.element.setAttribute("placeholder","E-mail"),this.eMailInput.element.setAttribute("required","");const i=new t(this.element,"div",["form-item","item"]);this.passInput=new et(i.element,"password",["item-input"]),this.passInput.element.setAttribute("placeholder","Password"),this.passInput.element.setAttribute("required","");const s=new t(this.element,"div",["form-item","item"]);this.showPass=new t(s.element,"div",["item-checkbox"],""),new t(s.element,"label",["item-label"],"show password"),this.showPass.element.addEventListener("click",(()=>this.toggleShow()));const r=new t(this.element,"div",["form-item","item"],"");this.message=new t(r.element,"div",["item-message"],"");const o=new t(this.element,"div",["form-item","item","form-btns"]);this.buttonLogin=new c(o.element,["btn","btn-login"],"Login"),this.buttonRegister=new c(o.element,["btn","btn-register"],"Register")}toggleShow(){this.showPass.element.classList.toggle("item-checkbox__active"),this.showPass.element.classList.contains("item-checkbox__active")?this.passInput.element.setAttribute("type","text"):this.passInput.element.setAttribute("type","password")}}const it=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;class st extends t{constructor(t,e){super(t,"div",["container","container-login"],""),this.onLogin=async t=>{t.preventDefault();const e=this.loginForm.eMailInput.element,n=this.loginForm.passInput.element,i=this.loginForm.message.element;if(this.onValidateEmail(e)&&this.onValidatePass(n)){const t=this.onDataConstruct(e,n),s=await k(t);if(200!==s.status)i.textContent="Wrong password or EMail";else{localStorage.setItem("token",s.data.token),localStorage.setItem("refreshToken",s.data.refreshToken),localStorage.setItem("userId",s.data.userId),i.textContent="";const t=await A(s.data.userId);this.setUserStatistics(t.data),window.location.hash="#/profile",this.onUpdateRouter()}}},this.onRegister=async t=>{t.preventDefault();const e=this.loginForm.eMailInput.element,n=this.loginForm.passInput.element,i=this.loginForm.message.element;if(this.onValidateEmail(e)&&this.onValidatePass(n)){const t=this.onDataConstruct(e,n),s=await(async t=>{const e=f();return e.body=JSON.stringify(t),await y("users",e)})(t),r={page:"0",chapter:"0"},o={currSeria:0,maxSeria:0,dayStata:[]},a={currSeria:0,maxSeria:0,dayStata:[]};if(r.audiocall=o,r.sprint=a,200!==s.status)i.textContent="This email is in use by another user";else{const e=await k(t);if(200!==e.status)i.textContent="Wrong password or EMail";else{localStorage.setItem("token",e.data.token),localStorage.setItem("refreshToken",e.data.refreshToken),localStorage.setItem("userId",e.data.userId);const t={learnedWords:"0",optional:r},n=await I(t);this.setUserStatistics(n.data),window.location.hash="#/profile",this.onUpdateRouter()}}}},this.onValidateEmail=t=>{const e=it.test(t.value);return e||(this.loginForm.message.element.textContent="Invalid EMail"),e},this.onValidatePass=t=>{const e=t.value.length>7;return e||(this.loginForm.message.element.textContent="Password length must be more then 7"),e},this.onDataConstruct=(t,e)=>{const n={};return n.email=t.value,n.password=e.value,n},this.onUpdateRouter=()=>e(),this.loginForm=new nt(this.element),this.loginForm.buttonLogin.onClickButton=async t=>this.onLogin(t),this.loginForm.buttonRegister.onClickButton=async t=>this.onRegister(t)}setUserStatistics(t){t.learnedWords?localStorage.setItem("learnedWords",t.learnedWords):localStorage.setItem("learnedWords","0"),t.optional.page?localStorage.setItem("page",t.optional.page):localStorage.setItem("page","0"),t.optional.chapter?localStorage.setItem("chapter",t.optional.chapter):localStorage.setItem("chapter","0"),t.optional.audiocall?localStorage.setItem("audiocall",JSON.stringify(t.optional.audiocall)):localStorage.setItem("audiocall",JSON.stringify({maxSeria:0,currSeria:0,dayStata:[]})),t.optional.sprint?localStorage.setItem("sprint",JSON.stringify(t.optional.sprint)):localStorage.setItem("sprint",JSON.stringify({maxSeria:0,currSeria:0,dayStata:[]}))}}const rt={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function at(t,e){return"number"==typeof t?t+e:t}function lt(t){if("string"==typeof t){const e=/^(\d+)\s*(.*)$/g.exec(t);return{value:e?+e[1]:0,unit:(null==e?void 0:e[2])||void 0}}return{value:Number(t)}}const ht=2221e-19;function ct(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)}function ut(t,e,n){return e/n.range*t}function dt(t,e){const n=Math.pow(10,e||8);return Math.round(t*n)/n}function mt(t){if(1===t)return t;function e(t,n){return t%n==0?n:e(n,t%n)}function n(t){return t*t+1}let i,s=2,r=2;if(t%2==0)return 2;do{s=n(s)%t,r=n(n(r))%t,i=e(Math.abs(s-r),t)}while(1===i);return i}function pt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(let e=0;e<n.length;e++){const i=n[e];for(const e in i){const n=i[e];t[e]="object"!=typeof n||null===n||n instanceof Array?n:pt(t[e],n)}}return t}const gt=t=>t,ft=t=>Array.from({length:t});function wt(t,e){return null!==t&&"object"==typeof t&&Reflect.has(t,e)}function yt(t){return null!==t&&isFinite(t)}function vt(t){return yt(t)?Number(t):void 0}function bt(t){return!!Array.isArray(t)&&t.every(Array.isArray)}function St(t,e){const n=Array.isArray(t)?t[e]:wt(t,"data")?t.data[e]:null;return wt(n,"meta")?n.meta:void 0}function Ct(t){return null==t||"number"==typeof t&&isNaN(t)}function _t(t){return"object"==typeof t&&null!==t&&(Reflect.has(t,"x")||Reflect.has(t,"y"))}function xt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return _t(t)&&wt(t,e)?vt(t[e]):vt(t)}function kt(t){var e;null===(e=t.labels)||void 0===e||e.reverse(),t.series.reverse();for(const e of t.series)wt(e,"data")?e.data.reverse():Array.isArray(e)&&e.reverse()}function At(t,e){if(!Ct(t))return e?function(t,e){let n,i;if("object"!=typeof t){const s=vt(t);"x"===e?n=s:i=s}else wt(t,"x")&&(n=vt(t.x)),wt(t,"y")&&(i=vt(t.y));if(void 0!==n||void 0!==i)return{x:n,y:i}}(t,e):vt(t)}function It(t,e){return Array.isArray(t)?t.map((t=>wt(t,"value")?At(t.value,e):At(t,e))):It(t.data,e)}function Pt(t,e,n){if(i=t,Array.isArray(i)&&i.every((t=>Array.isArray(t)||wt(t,"data"))))return t.map((t=>It(t,e)));var i;const s=It(t,e);return n?s.map((t=>[t])):s}function Lt(t){let e="";return null==t?t:(e="number"==typeof t?""+t:"object"==typeof t?JSON.stringify({data:t}):String(t),Object.keys(ot).reduce(((t,e)=>t.replaceAll(e,ot[e])),e))}class Tt{call(t,e){return this.svgElements.forEach((n=>Reflect.apply(n[t],n,e))),this}attr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("attr",e)}elem(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("elem",e)}root(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("root",e)}getNode(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("getNode",e)}foreignObject(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("foreignObject",e)}text(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("text",e)}empty(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("empty",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("remove",e)}addClass(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("addClass",e)}removeClass(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("removeClass",e)}removeAllClasses(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("removeAllClasses",e)}animate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("animate",e)}constructor(t){this.svgElements=[];for(let e=0;e<t.length;e++)this.svgElements.push(new Bt(t[e]))}}const Et={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function Wt(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0;const{easing:r,...o}=n,a={};let l,h;r&&(l=Array.isArray(r)?r:Et[r]),o.begin=at(o.begin,"ms"),o.dur=at(o.dur,"ms"),l&&(o.calcMode="spline",o.keySplines=l.join(" "),o.keyTimes="0;1"),i&&(o.fill="freeze",a[e]=o.from,t.attr(a),h=lt(o.begin||0).value,o.begin="indefinite");const c=t.elem("animate",{attributeName:e,...o});i&&setTimeout((()=>{try{c._node.beginElement()}catch(n){a[e]=o.to,t.attr(a),c.remove()}}),h);const u=c.getNode();s&&u.addEventListener("beginEvent",(()=>s.emit("animationBegin",{element:t,animate:u,params:n}))),u.addEventListener("endEvent",(()=>{s&&s.emit("animationEnd",{element:t,animate:u,params:n}),i&&(a[e]=o.to,t.attr(a),c.remove())}))}class Bt{attr(t,e){return"string"==typeof t?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach((e=>{if(void 0!==t[e])if(-1!==e.indexOf(":")){const n=e.split(":");this._node.setAttributeNS(rt[n[0]],e,String(t[e]))}else this._node.setAttribute(e,String(t[e]))})),this)}elem(t,e,n){return new Bt(t,e,n,this,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}parent(){return this._node.parentNode instanceof SVGElement?new Bt(this._node.parentNode):null}root(){let t=this._node;for(;"svg"!==t.nodeName&&t.parentElement;)t=t.parentElement;return new Bt(t)}querySelector(t){const e=this._node.querySelector(t);return e?new Bt(e):null}querySelectorAll(t){const e=this._node.querySelectorAll(t);return new Tt(e)}getNode(){return this._node}foreignObject(t,e,n){let i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("string"==typeof t){const e=document.createElement("div");e.innerHTML=t,i=e.firstChild}else i=t;i instanceof Element&&i.setAttribute("xmlns",rt.xmlns);const r=this.elem("foreignObject",e,n,s);return r._node.appendChild(i),r}text(t){return this._node.appendChild(document.createTextNode(t)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var t;return null===(t=this._node.parentNode)||void 0===t||t.removeChild(this._node),this.parent()}replace(t){var e;return null===(e=this._node.parentNode)||void 0===e||e.replaceChild(t._node,this._node),t}append(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}classes(){const t=this._node.getAttribute("class");return t?t.trim().split(/\s+/):[]}addClass(t){return this._node.setAttribute("class",this.classes().concat(t.trim().split(/\s+/)).filter((function(t,e,n){return n.indexOf(t)===e})).join(" ")),this}removeClass(t){const e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter((t=>-1===e.indexOf(t))).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return Object.keys(t).forEach((i=>{const s=t[i];Array.isArray(s)?s.forEach((t=>Wt(this,i,t,!1,n))):Wt(this,i,s,e,n)})),this}constructor(t,e,n,i,s=!1){t instanceof Element?this._node=t:(this._node=document.createElementNS(rt.svg,t),"svg"===t&&this.attr({"xmlns:ct":rt.ct})),e&&this.attr(e),n&&this.addClass(n),i&&(s&&i._node.firstChild?i._node.insertBefore(this._node,i._node.firstChild):i._node.appendChild(this._node))}}function Ot(t,e,n){let i;const s=[];function r(s){const r=i;i=pt({},t),e&&e.forEach((t=>{window.matchMedia(t[0]).matches&&(i=pt(i,t[1]))})),n&&s&&n.emit("optionsChanged",{previousOptions:r,currentOptions:i})}if(!window.matchMedia)throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return e&&e.forEach((t=>{const e=window.matchMedia(t[0]);e.addEventListener("change",r),s.push(e)})),r(),{removeMediaQueryListeners:function(){s.forEach((t=>t.removeEventListener("change",r)))},getCurrentOptions:()=>i}}Bt.Easing=Et;const Rt={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},Nt={accuracy:3};function Mt(t,e,n,i,s,r){const o={command:s?t.toLowerCase():t.toUpperCase(),...e,...r?{data:r}:{}};n.splice(i,0,o)}function Dt(t,e){t.forEach(((n,i)=>{Rt[n.command.toLowerCase()].forEach(((s,r)=>{e(n,s,i,r,t)}))}))}class Ft{static join(t){const e=new Ft(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.pathElements.length;t++)e.pathElements.push(i.pathElements[t])}return e}position(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}remove(t){return this.pathElements.splice(this.pos,t),this}move(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return Mt("M",{x:+t,y:+e},this.pathElements,this.pos++,n,i),this}line(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return Mt("L",{x:+t,y:+e},this.pathElements,this.pos++,n,i),this}curve(t,e,n,i,s,r){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0;return Mt("C",{x1:+t,y1:+e,x2:+n,y2:+i,x:+s,y:+r},this.pathElements,this.pos++,o,a),this}arc(t,e,n,i,s,r,o){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;return Mt("A",{rx:t,ry:e,xAr:n,lAf:i,sf:s,x:r,y:o},this.pathElements,this.pos++,a,l),this}parse(t){const e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(((t,e)=>(e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t)),[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();const n=e.map((t=>{const e=t.shift(),n=Rt[e.toLowerCase()];return{command:e,...n.reduce(((e,n,i)=>(e[n]=+t[i],e)),{})}}));return this.pathElements.splice(this.pos,0,...n),this.pos+=n.length,this}stringify(){const t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(((e,n)=>{const i=Rt[n.command.toLowerCase()].map((e=>{const i=n[e];return this.options.accuracy?Math.round(i*t)/t:i}));return e+n.command+i.join(",")}),"")+(this.close?"Z":"")}scale(t,e){return Dt(this.pathElements,((n,i)=>{n[i]*="x"===i[0]?t:e})),this}translate(t,e){return Dt(this.pathElements,((n,i)=>{n[i]+="x"===i[0]?t:e})),this}transform(t){return Dt(this.pathElements,((e,n,i,s,r)=>{const o=t(e,n,i,s,r);(o||0===o)&&(e[n]=o)})),this}clone(){const t=new Ft(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.close);return t.pos=this.pos,t.pathElements=this.pathElements.slice().map((t=>({...t}))),t.options={...this.options},t}splitByCommand(t){const e=[new Ft];return this.pathElements.forEach((n=>{n.command===t.toUpperCase()&&0!==e[e.length-1].pathElements.length&&e.push(new Ft),e[e.length-1].pathElements.push(n)})),e}constructor(t=!1,e){this.close=t,this.pathElements=[],this.pos=0,this.options={...Nt,...e}}}function Ht(t){const e={fillHoles:!1,...t};return function(t,n){const i=new Ft;let s=!0;for(let r=0;r<t.length;r+=2){const o=t[r],a=t[r+1],l=n[r/2];void 0!==xt(l.value)?(s?i.move(o,a,!1,l):i.line(o,a,!1,l),s=!1):e.fillHoles||(s=!0)}return i}}function Gt(t){const e={fillHoles:!1,...t};return function t(n,i){const s=function(t,e,n){const i={increasingX:!1,fillHoles:!1,...n},s=[];let r=!0;for(let n=0;n<t.length;n+=2)void 0===xt(e[n/2].value)?i.fillHoles||(r=!0):(i.increasingX&&n>=2&&t[n]<=t[n-2]&&(r=!0),r&&(s.push({pathCoordinates:[],valueData:[]}),r=!1),s[s.length-1].pathCoordinates.push(t[n],t[n+1]),s[s.length-1].valueData.push(e[n/2]));return s}(n,i,{fillHoles:e.fillHoles,increasingX:!0});if(s.length){if(s.length>1)return Ft.join(s.map((e=>t(e.pathCoordinates,e.valueData))));{if(n=s[0].pathCoordinates,i=s[0].valueData,n.length<=4)return Ht()(n,i);const t=[],e=[],r=n.length/2,o=[],a=[],l=[],h=[];for(let i=0;i<r;i++)t[i]=n[2*i],e[i]=n[2*i+1];for(let n=0;n<r-1;n++)l[n]=e[n+1]-e[n],h[n]=t[n+1]-t[n],a[n]=l[n]/h[n];o[0]=a[0],o[r-1]=a[r-2];for(let t=1;t<r-1;t++)0===a[t]||0===a[t-1]||a[t-1]>0!=a[t]>0?o[t]=0:(o[t]=3*(h[t-1]+h[t])/((2*h[t]+h[t-1])/a[t-1]+(h[t]+2*h[t-1])/a[t]),isFinite(o[t])||(o[t]=0));const c=(new Ft).move(t[0],e[0],!1,i[0]);for(let n=0;n<r-1;n++)c.curve(t[n]+h[n]/3,e[n]+o[n]*h[n]/3,t[n+1]-h[n]/3,e[n+1]-o[n+1]*h[n]/3,t[n+1],e[n+1],!1,i[n+1]);return c}}return Ht()([],[])}}class jt{on(t,e){const{allListeners:n,listeners:i}=this;"*"===t?n.add(e):(i.has(t)||i.set(t,new Set),i.get(t).add(e))}off(t,e){const{allListeners:n,listeners:i}=this;if("*"===t)e?n.delete(e):n.clear();else if(i.has(t)){const n=i.get(t);e?n.delete(e):n.clear(),n.size||i.delete(t)}}emit(t,e){const{allListeners:n,listeners:i}=this;i.has(t)&&i.get(t).forEach((t=>t(e))),n.forEach((n=>n(t,e)))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const Vt=new WeakMap;const zt={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class qt{createGridAndLabels(t,e,n,i){const s="x"===this.units.pos?n.axisX:n.axisY,r=this.ticks.map(((t,e)=>this.projectValue(t,e))),o=this.ticks.map(s.labelInterpolationFnc);r.forEach(((a,l)=>{const h=o[l],c={x:0,y:0};let u;var d;u=r[l+1]?r[l+1]-a:Math.max(this.axisLength-a,30),""!==h&&(!(d=h)&&0!==d)||("x"===this.units.pos?(a=this.chartRect.x1+a,c.x=n.axisX.labelOffset.x,"start"===n.axisX.position?c.y=this.chartRect.padding.top+n.axisX.labelOffset.y+5:c.y=this.chartRect.y1+n.axisX.labelOffset.y+5):(a=this.chartRect.y1-a,c.y=n.axisY.labelOffset.y-u,"start"===n.axisY.position?c.x=this.chartRect.padding.left+n.axisY.labelOffset.x:c.x=this.chartRect.x2+n.axisY.labelOffset.x+10),s.showGrid&&function(t,e,n,i,s,r,o,a){const l={["".concat(n.units.pos,"1")]:t,["".concat(n.units.pos,"2")]:t,["".concat(n.counterUnits.pos,"1")]:i,["".concat(n.counterUnits.pos,"2")]:i+s},h=r.elem("line",l,o.join(" "));a.emit("draw",{type:"grid",axis:n,index:e,group:r,element:h,...l})}(a,l,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[n.classNames.grid,n.classNames[this.units.dir]],i),s.showLabel&&function(t,e,n,i,s,r,o,a,l,h){const c={[s.units.pos]:t+o[s.units.pos],[s.counterUnits.pos]:o[s.counterUnits.pos],[s.units.len]:e,[s.counterUnits.len]:Math.max(0,r-10)},u=Math.round(c[s.units.len]),d=Math.round(c[s.counterUnits.len]),m=document.createElement("span");m.className=l.join(" "),m.style[s.units.len]=u+"px",m.style[s.counterUnits.len]=d+"px",m.textContent=String(i);const p=a.foreignObject(m,{style:"overflow: visible;",...c});h.emit("draw",{type:"label",axis:s,index:n,group:a,element:p,text:i,...c})}(a,u,l,h,this,s.offset,c,e,[n.classNames.label,n.classNames[this.units.dir],"start"===s.position?n.classNames[s.position]:n.classNames.end],i))}))}constructor(t,e,n){this.units=t,this.chartRect=e,this.ticks=n,this.counterUnits=t===zt.x?zt.y:zt.x,this.axisLength=e[this.units.rectEnd]-e[this.units.rectStart],this.gridOffset=e[this.units.rectOffset]}}class Ut extends qt{projectValue(t){const e=Number(xt(t,this.units.pos));return this.axisLength*(e-this.bounds.min)/this.bounds.range}constructor(t,e,n,i){const s=i.highLow||function(t,e,n){const i={high:void 0===(e={...e,...n?"x"===n?e.axisX:e.axisY:{}}).high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},s=void 0===e.high,r=void 0===e.low;return(s||r)&&function t(e){if(!Ct(e))if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const t=Number(n&&wt(e,n)?e[n]:e);s&&t>i.high&&(i.high=t),r&&t<i.low&&(i.low=t)}}(t),(e.referenceValue||0===e.referenceValue)&&(i.high=Math.max(e.referenceValue,i.high),i.low=Math.min(e.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(i.high>0||(i.high=1),i.low=0)),i}(e,i,t.pos),r=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s={high:e.high,low:e.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};s.valueRange=s.high-s.low,s.oom=ct(s.valueRange),s.step=Math.pow(10,s.oom),s.min=Math.floor(s.low/s.step)*s.step,s.max=Math.ceil(s.high/s.step)*s.step,s.range=s.max-s.min,s.numberOfSteps=Math.round(s.range/s.step);const r=ut(t,s.step,s)<n,o=i?mt(s.range):0;if(i&&ut(t,1,s)>=n)s.step=1;else if(i&&o<s.step&&ut(t,o,s)>=n)s.step=o;else{let e=0;for(;;){if(r&&ut(t,s.step,s)<=n)s.step*=2;else{if(r||!(ut(t,s.step/2,s)>=n))break;if(s.step/=2,i&&s.step%1!=0){s.step*=2;break}}if(e++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}function a(t,e){return t===(t+=e)&&(t*=1+(e>0?ht:-ht)),t}s.step=Math.max(s.step,ht);let l=s.min,h=s.max;for(;l+s.step<=s.low;)l=a(l,s.step);for(;h-s.step>=s.high;)h=a(h,-s.step);s.min=l,s.max=h,s.range=s.max-s.min;const c=[];for(let t=s.min;t<=s.max;t=a(t,s.step)){const e=dt(t);e!==c[c.length-1]&&c.push(e)}return s.values=c,s}(n[t.rectEnd]-n[t.rectStart],s,i.scaleMinSpace||20,i.onlyInteger),o={min:r.min,max:r.max};super(t,n,r.values),this.bounds=r,this.range=o}}class Jt extends qt{projectValue(t,e){return this.stepLength*e}constructor(t,e,n,i){const s=i.ticks||[];super(t,n,s);const r=Math.max(1,s.length-(i.stretch?1:0));this.stepLength=this.axisLength/r,this.stretch=Boolean(i.stretch)}}function Qt(t,e,n){var i;if(wt(t,"name")&&t.name&&(null===(i=e.series)||void 0===i?void 0:i[t.name])){const i=(null==e?void 0:e.series[t.name])[n];return void 0===i?e[n]:i}return e[n]}const $t={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:gt,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:gt,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class Xt extends class{update(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i;return t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=pt({},n?this.options:this.defaultOptions,e),this.initializeTimeoutId||(null===(i=this.optionsProvider)||void 0===i||i.removeMediaQueryListeners(),this.optionsProvider=Ot(this.options,this.responsiveOptions,this.eventEmitter))),!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){var t;return this.initializeTimeoutId?window.clearTimeout(this.initializeTimeoutId):(window.removeEventListener("resize",this.resizeListener),null===(t=this.optionsProvider)||void 0===t||t.removeMediaQueryListeners()),Vt.delete(this.container),this}on(t,e){return this.eventEmitter.on(t,e),this}off(t,e){return this.eventEmitter.off(t,e),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=Ot(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",(()=>this.update())),this.options.plugins&&this.options.plugins.forEach((t=>{Array.isArray(t)?t[0](this,t[1]):t(this)})),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(t,e,n,i,s){this.data=e,this.defaultOptions=n,this.options=i,this.responsiveOptions=s,this.eventEmitter=new jt,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout((()=>this.initialize()),0);const r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error("Target element is not found");this.container=r;const o=Vt.get(r);o&&o.detach(),Vt.set(r,this)}}{createChart(t){const{data:e}=this,n=function(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;const r={labels:[],series:Pt(t.series,i,s)};return e=bt(r.series)?Math.max(...r.series.map((t=>t.length))):r.series.length,r.labels=(t.labels||[]).slice(),r.labels.push(...ft(Math.max(0,e-r.labels.length)).map((()=>""))),n&&kt(r),r}(e,t.reverseData,!0),i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",i=arguments.length>3?arguments[3]:void 0;Array.from(t.querySelectorAll("svg")).filter((t=>t.getAttributeNS(rt.xmlns,"ct"))).forEach((e=>t.removeChild(e)));const s=new Bt("svg").attr({width:e,height:n}).attr({style:"width: ".concat(e,"; height: ").concat(n,";")});return i&&s.addClass(i),t.appendChild(s.getNode()),s}(this.container,t.width,t.height,t.classNames.chart);this.svg=i;const s=i.elem("g").addClass(t.classNames.gridGroup),r=i.elem("g"),o=i.elem("g").addClass(t.classNames.labelGroup),a=function(t,e){var n,i,s,r;const o=Boolean(e.axisX||e.axisY),a=(null===(n=e.axisY)||void 0===n?void 0:n.offset)||0,l=(null===(i=e.axisX)||void 0===i?void 0:i.offset)||0,h=null===(s=e.axisY)||void 0===s?void 0:s.position,c=null===(r=e.axisX)||void 0===r?void 0:r.position;let u=t.width()||lt(e.width).value||0,d=t.height()||lt(e.height).value||0;const m="number"==typeof(p=e.chartPadding)?{top:p,right:p,bottom:p,left:p}:void 0===p?{top:0,right:0,bottom:0,left:0}:{top:"number"==typeof p.top?p.top:0,right:"number"==typeof p.right?p.right:0,bottom:"number"==typeof p.bottom?p.bottom:0,left:"number"==typeof p.left?p.left:0};var p;u=Math.max(u,a+m.left+m.right),d=Math.max(d,l+m.top+m.bottom);const g={x1:0,x2:0,y1:0,y2:0,padding:m,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return o?("start"===c?(g.y2=m.top+l,g.y1=Math.max(d-m.bottom,g.y2+1)):(g.y2=m.top,g.y1=Math.max(d-m.bottom-l,g.y2+1)),"start"===h?(g.x1=m.left+a,g.x2=Math.max(u-m.right,g.x1+1)):(g.x1=m.left,g.x2=Math.max(u-m.right-a,g.x1+1))):(g.x1=m.left,g.x2=Math.max(u-m.right,g.x1+1),g.y2=m.top,g.y1=Math.max(d-m.bottom,g.y2+1)),g}(i,t);let l,h;l=void 0===t.axisX.type?new Jt(zt.x,n.series,a,{...t.axisX,ticks:n.labels,stretch:t.fullWidth}):new t.axisX.type(zt.x,n.series,a,t.axisX),h=void 0===t.axisY.type?new Ut(zt.y,n.series,a,{...t.axisY,high:yt(t.high)?t.high:t.axisY.high,low:yt(t.low)?t.low:t.axisY.low}):new t.axisY.type(zt.y,n.series,a,t.axisY),l.createGridAndLabels(s,o,t,this.eventEmitter),h.createGridAndLabels(s,o,t,this.eventEmitter),t.showGridBackground&&function(t,e,n,i){const s=t.elem("rect",{x:e.x1,y:e.y2,width:e.width(),height:e.height()},n,!0);i.emit("draw",{type:"gridBackground",group:t,element:s})}(s,a,t.classNames.gridBackground,this.eventEmitter),e.series.forEach(((e,i)=>{const s=r.elem("g"),o=wt(e,"name")&&e.name,c=wt(e,"className")&&e.className,u=wt(e,"meta")?e.meta:void 0;var d;o&&s.attr({"ct:series-name":o}),u&&s.attr({"ct:meta":Lt(u)}),s.addClass([t.classNames.series,c||"".concat(t.classNames.series,"-").concat((d=i,String.fromCharCode(97+d%26)))].join(" "));const m=[],p=[];n.series[i].forEach(((t,s)=>{const r={x:a.x1+l.projectValue(t,s,n.series[i]),y:a.y1-h.projectValue(t,s,n.series[i])};m.push(r.x,r.y),p.push({value:t,valueIndex:s,meta:St(e,s)})}));const g={lineSmooth:Qt(e,t,"lineSmooth"),showPoint:Qt(e,t,"showPoint"),showLine:Qt(e,t,"showLine"),showArea:Qt(e,t,"showArea"),areaBase:Qt(e,t,"areaBase")};let f;f="function"==typeof g.lineSmooth?g.lineSmooth:g.lineSmooth?Gt():Ht();const w=f(m,p);if(g.showPoint&&w.pathElements.forEach((n=>{const{data:r}=n,o=s.elem("line",{x1:n.x,y1:n.y,x2:n.x+.01,y2:n.y},t.classNames.point);if(r){let t,e;wt(r.value,"x")&&(t=r.value.x),wt(r.value,"y")&&(e=r.value.y),o.attr({"ct:value":[t,e].filter(yt).join(","),"ct:meta":Lt(r.meta)})}this.eventEmitter.emit("draw",{type:"point",value:null==r?void 0:r.value,index:(null==r?void 0:r.valueIndex)||0,meta:null==r?void 0:r.meta,series:e,seriesIndex:i,axisX:l,axisY:h,group:s,element:o,x:n.x,y:n.y,chartRect:a})})),g.showLine){const r=s.elem("path",{d:w.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:n.series[i],path:w.clone(),chartRect:a,index:i,series:e,seriesIndex:i,meta:u,axisX:l,axisY:h,group:s,element:r})}if(g.showArea&&h.range){const r=Math.max(Math.min(g.areaBase,h.range.max),h.range.min),o=a.y1-h.projectValue(r);w.splitByCommand("M").filter((t=>t.pathElements.length>1)).map((t=>{const e=t.pathElements[0],n=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,o).line(e.x,e.y).position(t.pathElements.length+1).line(n.x,o)})).forEach((r=>{const o=s.elem("path",{d:r.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:n.series[i],path:r.clone(),series:e,seriesIndex:i,axisX:l,axisY:h,chartRect:a,index:i,group:s,element:o,meta:u})}))}})),this.eventEmitter.emit("created",{chartRect:a,axisX:l,axisY:h,svg:i,options:t})}constructor(t,e,n,i){super(t,e,$t,pt({},$t,n),i),this.data=e}}class Yt extends t{constructor(e,n){super(e,"div",["profile"]),this.requestUserStatInfo=async()=>{if(localStorage.userId&&localStorage.token){const t=localStorage.userId,e=(await A(t)).data,n=e.optional.audiocall,i=e.optional.sprint;this.learnedWords=+e.learnedWords;const s=(100*+i.dayStata[i.dayStata.length-1].correctAnswers/+i.dayStata[i.dayStata.length-1].totalQuestions).toFixed();this.todaySprintStatContent.setCounter(0,i.dayStata[i.dayStata.length-1].newWords),this.todaySprintStatContent.setCounter(1,Number(s||0)+" %"),this.todaySprintStatContent.setCounter(2,i.maxSeria);const r=100*+n.dayStata[n.dayStata.length-1].correctAnswers/+n.dayStata[n.dayStata.length-1].totalQuestions;this.todayAudioCallStatContent.setCounter(0,n.dayStata[n.dayStata.length-1].newWords),this.todayAudioCallStatContent.setCounter(1,Number(r||0)+" %"),this.todayAudioCallStatContent.setCounter(2,n.maxSeria),this.todayLearnedWordsCounter.block3Title.element.innerText="learned words",this.todayLearnedWordsCounter.setCounter(0,(+i.dayStata[i.dayStata.length-1].newWords+ +n.dayStata[n.dayStata.length-1].newWords).toString()),this.todayLearnedWordsCounter.setCounter(1,((+s+ +r)/2||0)+" %"),this.todayLearnedWordsCounter.setCounter(2,"44")}},this.requestLongTimeStatInfo=async()=>{if(localStorage.userId&&localStorage.token){const t=localStorage.userId,e=(await A(t)).data;this.learnedWords=+e.learnedWords}},this.onUpdateRouter=()=>n(),this.learnedWords=0,this.profileHeaderContainer=new t(this.element,"div",["statisticsHeader-container"]),this.title=new t(this.profileHeaderContainer.element,"h3",["statistics-title"],"Statistics"),this.userLogOut=new c(this.profileHeaderContainer.element,["statisticsProfileLogout"],"Log Out"),this.userLogOut.onClickButton=async()=>this.onLogout(),this.contentWrapper=new t(this.element,"div",["statisticsContent-wrapper"]),this.todaySubTitle=new t(this.contentWrapper.element,"h3",["statistics-subTitle","today-subTitle"],"Today"),this.todayContentWrapper=new t(this.contentWrapper.element,"div",["todayStatistics-wrapper"]),this.todayLearnedWordsStatWrapper=new t(this.todayContentWrapper.element,"div",["todayLearnedWords-wrapper"]),this.todayAudioCallStatWrapper=new t(this.todayContentWrapper.element,"div",["todayLearnedWords-wrapper"]),this.todaySprintStatWrapper=new t(this.todayContentWrapper.element,"div",["todayLearnedWords-wrapper"]),this.allTimeTitle=new t(this.element,"div",["allTime-title"],"All time"),this.allTimeNewWordsWrap=new t(this.element,"div",["allTimeNewWords-wrapper"]),this.allTimeNewWordsTitle=new t(this.allTimeNewWordsWrap.element,"div",["allTimeNewWords-title"],"New words"),this.allTimeNewWordsContent=new t(this.allTimeNewWordsWrap.element,"div",["allTimeNewWords-content"]),this.allTimeLearnedWordsWrap=new t(this.element,"div",["allTimeNewWords-wrapper"]),this.allTimeLearnedWordsTitle=new t(this.allTimeLearnedWordsWrap.element,"div",["allTimeNewWords-title"],"Learned words"),this.allTimeLearnedWordsContent=new t(this.allTimeLearnedWordsWrap.element,"div",["allTimeNewWords-content"]),this.todayLearnedWordsCounter=new Kt(this.todayLearnedWordsStatWrapper.element,"Words"),this.todayAudioCallStatContent=new Kt(this.todayAudioCallStatWrapper.element,"Audio call"),this.todaySprintStatContent=new Kt(this.todaySprintStatWrapper.element,"Sprint"),this.requestUserStatInfo(),this.requestLongTimeStatInfo(),(async(t,e)=>{let n,i;if(localStorage.userId&&localStorage.token){const t=localStorage.userId;n=(await A(t)).data.optional,i=n.audiocall.dayStata.length,console.log(n)}const s=[],r=[];for(let t=0;t<i;t+=1){const e=+n.audiocall.dayStata[t].newWords,i=+n.sprint.dayStata[t].newWords;s.push({x:t+1,y:e+i});const o=+n.audiocall.dayStata[t].learnedWords,a=+n.sprint.dayStata[t].learnedWords;r.push({x:t+1,y:o+a})}console.log(r),t.id="chart1",e.id="chart2",new Xt("#chart1",{series:[s]},{axisX:{type:Ut,onlyInteger:!0}}),new Xt("#chart2",{series:[r]},{axisX:{type:Ut,onlyInteger:!0}})})(this.allTimeNewWordsContent.element,this.allTimeLearnedWordsContent.element)}onLogout(){localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),localStorage.removeItem("page"),localStorage.removeItem("chapter"),localStorage.removeItem("audiocall"),localStorage.removeItem("sprint"),localStorage.removeItem("words"),window.location.hash="#/",this.onUpdateRouter()}}class Kt extends t{constructor(e,n){super(e,"div",["statistics-item"]),this.setCounter=(t,e)=>[this.block1Counter,this.block2Counter,this.block3Counter][t].element.innerText=e,this.getCounter=t=>[this.block1Counter,this.block2Counter,this.block3Counter][t].element.innerText;const i=n.toLowerCase().split(" ").join("");new t(this.element,"p",[i+"-title"],n),this.contentWrapper=new t(this.element,"div",[i+"Content-wrapper"]),this.block1Wrapper=new t(this.contentWrapper.element,"div",[i+"Block1-wrapper",i+"Block-wrapper"]),this.block2Wrapper=new t(this.contentWrapper.element,"div",[i+"Block2-wrapper",i+"Block-wrapper"]),this.block3Wrapper=new t(this.contentWrapper.element,"div",[i+"Block3-wrapper",i+"Block-wrapper"]),this.block1Counter=new t(this.block1Wrapper.element,"div",[i+"Block1-counter",i+"Block-counter"],"0"),this.block1Title=new t(this.block1Wrapper.element,"p",[i+"Block1-textContent",i+"Block-textContent"],"new words"),this.block2Counter=new t(this.block2Wrapper.element,"div",[i+"Block2-counter",i+"Block-counter"],"0%"),this.block2Title=new t(this.block2Wrapper.element,"p",[i+"Block2-textContent",i+"Block-textContent"],"accuracy"),this.block3Counter=new t(this.block3Wrapper.element,"div",[i+"Block3-counter",i+"Block-counter"],"0"),this.block3Title=new t(this.block3Wrapper.element,"p",[i+"Block3-textContent",i+"Block-textContent"],"in line")}}class Zt{constructor(t,e,n){this.rootElement=t,this.aboutPage=new r(this.rootElement),this.onInitNavSignUser=()=>e(),this.onRenderFooter=()=>n(),this.routes=[{name:"/",component:()=>{this.rootElement.append(this.aboutPage.element)}},{name:"/dictionary",component:()=>{this.dictionaryPage=new E(this.rootElement,(()=>this.onSignOnOffUser("/profile","/login"))),this.rootElement.append(this.dictionaryPage.element)}},{name:"/audiocall",component:t=>{this.audiocallPage=new G(this.rootElement,t),this.rootElement.append(this.audiocallPage.element)}},{name:"/sprint",component:t=>{this.sprintPage=new tt(this.rootElement,t),this.rootElement.append(this.sprintPage.element)}},{name:"/login",component:()=>{this.loginPage=new st(this.rootElement,(()=>this.onSignOnOffUser("/login","/profile"))),this.rootElement.append(this.loginPage.element)}},{name:"/profile",component:()=>{this.profilePage=new Yt(this.rootElement,(()=>this.onSignOnOffUser("/profile","/login"))),this.rootElement.append(this.profilePage.element)}}],this.allRoutes=[...this.routes],this.currRoute="/",localStorage.getItem("token")?this.routes=this.routes.filter((t=>"/login"!==t.name)):this.routes=this.routes.filter((t=>"/profile"!==t.name)),this.defaultRoute={name:"/",component:()=>{this.rootElement.append(this.aboutPage.element)}}}updateRouter(){this.rootElement.innerHTML="";const t=window.location.hash.slice(1).split("?"),e=t[0];let n="";t.length>1&&(n=String(t[1]));const i=this.routes.find((t=>t.name===e));window.location.hash=n?(i||this.defaultRoute).name+"?"+n:(i||this.defaultRoute).name,(i||this.defaultRoute).component(n),this.currRoute=(i||this.defaultRoute).name,this.onRenderFooter()}initRouter(){""===window.location.hash&&(window.location.hash="#/"),window.onpopstate=()=>this.updateRouter(),this.updateRouter()}onSignOnOffUser(t,e){if(localStorage.getItem("token"))this.routes=this.allRoutes.filter((e=>e.name!==t));else{const t=this.allRoutes.filter((t=>t.name===e));this.routes=[...this.routes,...t]}this.initRouter(),this.onInitNavSignUser()}}class te extends t{constructor(e){super(e,"div",["burger"],""),this.onBurgerClick=()=>{this.element.classList.toggle("open")},this.onBurgerClose=()=>{this.element.classList.remove("open")},new t(this.element,"div",["line","line1"],""),new t(this.element,"div",["line","line2"],""),new t(this.element,"div",["line","line3"],"")}}class ee extends t{constructor(e){super(e,"div",["logo"],""),this.onLogoClick=()=>{},new t(this.element,"h1",["logo-title"],"RS-Lang"),new t(this.element,"div",["logo-subtitle"],"Learning english"),this.element.addEventListener("click",(()=>this.onLogoClick()))}}class ne extends t{constructor(e){super(e,"nav",["nav"],""),this.navItems=[],this.onNavClose=()=>{this.element.classList.remove("open"),this.element.classList.add("close")},this.onNavToggle=()=>{this.element.classList.contains("open")||this.element.classList.contains("close")?(this.element.classList.toggle("open"),this.element.classList.toggle("close")):this.element.classList.add("open")},this.onInitNavSignUser=()=>{localStorage.getItem("token")?(this.linkToProfile||(this.linkToProfile=new t(this.navBody.element,"a",["nav-link"],"Profile"),this.linkToProfile.element.setAttribute("href","#/profile"),this.linkToProfile.element.setAttribute("tabindex","-1")),this.linkToLogin&&(this.linkToLogin.element.remove(),this.linkToLogin=null),this.navItems=[this.linkToAbout,this.linkToDictionary,this.linkToAudioCall,this.linkToSprint,this.linkToProfile]):(this.linkToLogin||(this.linkToLogin=new t(this.navBody.element,"a",["nav-link"],"Login"),this.linkToLogin.element.setAttribute("href","#/login"),this.linkToLogin.element.setAttribute("tabindex","-1")),this.linkToProfile&&(this.linkToProfile.element.remove(),this.linkToProfile=null),this.navItems=[this.linkToAbout,this.linkToDictionary,this.linkToAudioCall,this.linkToSprint,this.linkToLogin])},this.navBody=new t(this.element,"div",["nav-body"]),this.linkToAbout=new t(this.navBody.element,"a",["nav-link"],"About"),this.linkToDictionary=new t(this.navBody.element,"a",["nav-link","nav-dictionary"],"Dictionary"),this.linkToAudioCall=new t(this.navBody.element,"a",["nav-link"],"Audio call"),this.linkToSprint=new t(this.navBody.element,"a",["nav-link"],"Sprint"),this.linkToLogin=null,this.linkToProfile=null,this.linkToAbout.element.setAttribute("href","#/"),this.linkToDictionary.element.setAttribute("href","#/dictionary"),this.linkToAudioCall.element.setAttribute("href","#/audiocall"),this.linkToSprint.element.setAttribute("href","#/sprint"),this.linkToAbout.element.setAttribute("tabindex","-1"),this.linkToDictionary.element.setAttribute("tabindex","-1"),this.linkToAudioCall.element.setAttribute("tabindex","-1"),this.linkToSprint.element.setAttribute("tabindex","-1"),this.linkToAudioCall.element.addEventListener("click",(()=>{window.location.hash="#/audiocall",location.reload()})),this.onInitNavSignUser(),window.addEventListener("hashchange",(()=>this.updateActive(this.navItems))),window.addEventListener("load",(()=>this.updateActive(this.navItems)))}updateActive(t){this.navItems=t.map((t=>(t.element.classList.remove("active"),t.element.getAttribute("href")===window.location.hash&&t.element.classList.add("active"),t)))}}class ie extends t{constructor(t){super(t,"div",["header"]),this.onNavClick=t=>{const e=t.target;e!==this.nav.element&&e!==this.nav.navBody.element||(this.burger.onBurgerClick(),this.nav.onNavClose())},this.onBurgerClick=()=>{this.burger.onBurgerClick(),this.nav.onNavToggle()},this.onLinkClick=()=>{this.burger.onBurgerClose(),this.nav.onNavClose()},this.logo=new ee(this.element),this.nav=new ne(this.element),this.burger=new te(this.element),this.nav.element.addEventListener("click",(t=>this.onNavClick(t))),this.burger.element.addEventListener("click",(()=>this.onBurgerClick())),this.nav.navItems.map((t=>t.element.addEventListener("click",(()=>this.onLinkClick()))))}}class se extends t{constructor(e){super(e,"div",["footer"]),this.footerLeftSideContainer=new t(this.element,"div",["footer__item","footer-left"]),this.schoolLink=new t(this.footerLeftSideContainer.element,"a",["school-link"]),this.schoolLinkImg=new t(this.schoolLink.element,"img",["rs-link__logo"]),this.yearOfProductionContainer=new t(this.footerLeftSideContainer.element,"div",["production-year"],"2022"),this.footerRightSideContainer=new t(this.element,"div",["footer__item","footer-right"]),this.firstTeamMemberLink=new t(this.footerRightSideContainer.element,"a",["firstTeamMemberLink"],"Vasili Kisialevich"),this.secondTeamMemberLink=new t(this.footerRightSideContainer.element,"a",["secondTeamMemberLink"],"maxomeleneckii"),this.thirdTeamMemberLink=new t(this.footerRightSideContainer.element,"a",["thirdTeamMemberLink"],"pitbrest"),this.schoolLink.element.setAttribute("href","https://rs.school/"),this.schoolLinkImg.element.setAttribute("src","./public/rs-logo.svg"),this.firstTeamMemberLink.element.setAttribute("href","https://github.com/kiselmen"),this.firstTeamMemberLink.element.setAttribute("target","_blank"),this.secondTeamMemberLink.element.setAttribute("href","https://github.com/maxomeleneckii"),this.secondTeamMemberLink.element.setAttribute("target","_blank"),this.thirdTeamMemberLink.element.setAttribute("href","https://github.com/pitbrest"),this.thirdTeamMemberLink.element.setAttribute("target","_blank")}}class re{constructor(e){this.rootElement=e,this.header=new ie(this.rootElement),this.main=new t(this.rootElement,"main",["main"]),this.router=new Zt(this.main.element,(()=>this.header.nav.onInitNavSignUser()),(()=>this.renderFooter())),this.footer=new se(this.rootElement)}init(){this.router.initRouter()}isFooterNeed(){return"/sprint"!==this.router.currRoute&&"/audiocall"!==this.router.currRoute}renderFooter(){this.isFooterNeed()?this.footer.element.classList.remove("footer__disabled"):this.footer.element.classList.add("footer__disabled")}}window.addEventListener("DOMContentLoaded",(()=>{const t=document.body;new re(t).init()}))})()})();