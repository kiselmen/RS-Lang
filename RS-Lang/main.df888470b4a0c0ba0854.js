/*! For license information please see main.df888470b4a0c0ba0854.js.LICENSE.txt */
(()=>{var t={534:(t,e,n)=>{var i=n(865),s=n(128),r=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,i.apply(this,arguments)};(r.prototype=new i).constructor=r,r.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var n=50-e/2;return s.render(this._pathTemplate,{radius:n,"2radius":2*n})},r.prototype._trailString=function(t){return this._pathString(t)},t.exports=r},688:(t,e,n)=>{var i=n(865),s=n(128),r=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",i.apply(this,arguments)};(r.prototype=new i).constructor=r,r.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},r.prototype._pathString=function(t){return s.render(this._pathTemplate,{center:t.strokeWidth/2})},r.prototype._trailString=function(t){return this._pathString(t)},t.exports=r},86:(t,e,n)=>{t.exports={Line:n(688),Circle:n(534),SemiCircle:n(157),Square:n(681),Path:n(888),Shape:n(865),utils:n(128)}},888:(t,e,n)=>{var i=n(350),s=n(128),r=i.Tweenable,o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},a=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");var i;n=s.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},n),i=s.isString(e)?document.querySelector(e):e,this.path=i,this._opts=n,this._tweenable=null;var r=this.path.getTotalLength();this.path.style.strokeDasharray=r+" "+r,this.set(0)};a.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6),10)},a.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(s.isFunction(e)){var n=this._easing(this._opts.easing);e(this._calculateTo(t,n),this._opts.shape||this,this._opts.attachment)}},a.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},a.prototype.animate=function(t,e,n){e=e||{},s.isFunction(e)&&(n=e,e={});var i=s.extend({},e),o=s.extend({},this._opts);e=s.extend(o,e);var a=this._easing(e.easing),l=this._resolveFromAndTo(t,a,i);this.stop(),this.path.getBoundingClientRect();var c=this._getComputedDashOffset(),h=this._progressToOffset(t),u=this;this._tweenable=new r,this._tweenable.tween({from:s.extend({offset:c},l.from),to:s.extend({offset:h},l.to),duration:e.duration,delay:e.delay,easing:a,step:function(t){u.path.style.strokeDashoffset=t.offset;var n=e.shape||u;e.step(t,n,e.attachment)}}).then((function(t){s.isFunction(n)&&n()}))},a.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},a.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},a.prototype._resolveFromAndTo=function(t,e,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},a.prototype._calculateFrom=function(t){return i.interpolate(this._opts.from,this._opts.to,this.value(),t)},a.prototype._calculateTo=function(t,e){return i.interpolate(this._opts.from,this._opts.to,t,e)},a.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},a.prototype._easing=function(t){return o.hasOwnProperty(t)?o[t]:t},t.exports=a},157:(t,e,n)=>{var i=n(865),s=n(534),r=n(128),o=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,i.apply(this,arguments)};(o.prototype=new i).constructor=o,o.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},o.prototype._initializeTextContainer=function(t,e,n){t.text.style&&(n.style.top="auto",n.style.bottom="0",t.text.alignToBottom?r.setStyle(n,"transform","translate(-50%, 0)"):r.setStyle(n,"transform","translate(-50%, 50%)"))},o.prototype._pathString=s.prototype._pathString,o.prototype._trailString=s.prototype._trailString,t.exports=o},865:(t,e,n)=>{var i=n(888),s=n(128),r="Object is destroyed",o=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=s.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),s.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),s.isObject(n)&&s.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var r,o=this._createSvgView(this._opts);if(!(r=s.isString(e)?document.querySelector(e):e))throw new Error("Container does not exist: "+e);this._container=r,this._container.appendChild(o.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&s.setStyles(o.svg,this._opts.svgStyle),this.svg=o.svg,this.path=o.path,this.trail=o.trail,this.text=null;var a=s.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new i(o.path,a),s.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};o.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error(r);this._progressPath.animate(t,e,n)},o.prototype.stop=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath.stop()},o.prototype.pause=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},o.prototype.resume=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},o.prototype.destroy=function(){if(null===this._progressPath)throw new Error(r);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},o.prototype.set=function(t){if(null===this._progressPath)throw new Error(r);this._progressPath.set(t)},o.prototype.value=function(){if(null===this._progressPath)throw new Error(r);return void 0===this._progressPath?0:this._progressPath.value()},o.prototype.setText=function(t){if(null===this._progressPath)throw new Error(r);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),s.isObject(t)?(s.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},o.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var i=this._createPath(t);return e.appendChild(i),{svg:e,path:i,trail:n}},o.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},o.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},o.prototype._createTrail=function(t){var e=this._trailString(t),n=s.extend({},t);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},o.prototype._createPathElement=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("stroke",e.color),n.setAttribute("stroke-width",e.strokeWidth),e.fill?n.setAttribute("fill",e.fill):n.setAttribute("fill-opacity","0"),n},o.prototype._createTextContainer=function(t,e){var n=document.createElement("div");n.className=t.text.className;var i=t.text.style;return i&&(t.text.autoStyleContainer&&(e.style.position="relative"),s.setStyles(n,i),i.color||(n.style.color=t.color)),this._initializeTextContainer(t,e,n),n},o.prototype._initializeTextContainer=function(t,e,n){},o.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},o.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},o.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue("width"),10),i=parseFloat(e.getPropertyValue("height"),10);s.floatEquals(this.containerAspectRatio,n/i)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",n/i),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},t.exports=o},681:(t,e,n)=>{var i=n(865),s=n(128),r=function(t,e){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",i.apply(this,arguments)};(r.prototype=new i).constructor=r,r.prototype._pathString=function(t){var e=100-t.strokeWidth/2;return s.render(this._pathTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2})},r.prototype._trailString=function(t){var e=100-t.strokeWidth/2;return s.render(this._trailTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2,startMargin:t.strokeWidth/2-t.trailWidth/2})},t.exports=r},128:t=>{var e="Webkit Moz O ms".split(" ");function n(t,n,s){for(var r=t.style,o=0;o<e.length;++o)r[e[o]+i(n)]=s;r[n]=s}function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t){return!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)&&"object"==typeof t&&!!t}function r(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}t.exports={extend:function t(e,n,i){for(var r in e=e||{},i=i||!1,n=n||{})if(n.hasOwnProperty(r)){var o=e[r],a=n[r];i&&s(o)&&s(a)?e[r]=t(o,a,i):e[r]=a}return e},render:function(t,e){var n=t;for(var i in e)if(e.hasOwnProperty(i)){var s=e[i],r=new RegExp("\\{"+i+"\\}","g");n=n.replace(r,s)}return n},setStyle:n,setStyles:function(t,e){r(e,(function(e,i){null!=e&&(s(e)&&!0===e.prefix?n(t,i,e.value):t.style[i]=e)}))},capitalize:i,isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isObject:s,forEachObject:r,floatEquals:function(t,e){return Math.abs(t-e)<.001},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},350:t=>{self,t.exports=function(){"use strict";var t={720:function(t,e,n){n.r(e),n.d(e,{Scene:function(){return Xt},Tweenable:function(){return wt},interpolate:function(){return Jt},processTweens:function(){return ct},setBezierFunction:function(){return Zt},shouldScheduleUpdate:function(){return dt},tween:function(){return yt},unsetBezierFunction:function(){return te}});var i={};n.r(i),n.d(i,{bounce:function(){return O},bouncePast:function(){return N},easeFrom:function(){return D},easeFromTo:function(){return M},easeInBack:function(){return A},easeInCirc:function(){return k},easeInCubic:function(){return c},easeInExpo:function(){return b},easeInOutBack:function(){return T},easeInOutCirc:function(){return I},easeInOutCubic:function(){return u},easeInOutExpo:function(){return _},easeInOutQuad:function(){return l},easeInOutQuart:function(){return p},easeInOutQuint:function(){return w},easeInOutSine:function(){return S},easeInQuad:function(){return o},easeInQuart:function(){return d},easeInQuint:function(){return g},easeInSine:function(){return y},easeOutBack:function(){return L},easeOutBounce:function(){return x},easeOutCirc:function(){return P},easeOutCubic:function(){return h},easeOutExpo:function(){return C},easeOutQuad:function(){return a},easeOutQuart:function(){return m},easeOutQuint:function(){return f},easeOutSine:function(){return v},easeTo:function(){return F},elastic:function(){return W},linear:function(){return r},swingFrom:function(){return E},swingFromTo:function(){return B},swingTo:function(){return R}});var s={};n.r(s),n.d(s,{afterTween:function(){return Gt},beforeTween:function(){return Ht},doesApply:function(){return Dt},tweenCreated:function(){return Ft}});var r=function(t){return t},o=function(t){return Math.pow(t,2)},a=function(t){return-(Math.pow(t-1,2)-1)},l=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},c=function(t){return Math.pow(t,3)},h=function(t){return Math.pow(t-1,3)+1},u=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},d=function(t){return Math.pow(t,4)},m=function(t){return-(Math.pow(t-1,4)-1)},p=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},g=function(t){return Math.pow(t,5)},f=function(t){return Math.pow(t-1,5)+1},w=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},y=function(t){return 1-Math.cos(t*(Math.PI/2))},v=function(t){return Math.sin(t*(Math.PI/2))},S=function(t){return-.5*(Math.cos(Math.PI*t)-1)},b=function(t){return 0===t?0:Math.pow(2,10*(t-1))},C=function(t){return 1===t?1:1-Math.pow(2,-10*t)},_=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},k=function(t){return-(Math.sqrt(1-t*t)-1)},P=function(t){return Math.sqrt(1-Math.pow(t-1,2))},I=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},x=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},A=function(t){var e=1.70158;return t*t*((e+1)*t-e)},L=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},T=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},W=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},B=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},E=function(t){var e=1.70158;return t*t*((e+1)*t-e)},R=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},O=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},N=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},M=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},D=function(t){return Math.pow(t,4)},F=function(t){return Math.pow(t,.25)};function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U,z,J,$="linear",K="undefined"!=typeof window?window:n.g,Q="afterTween",Y="afterTweenEnd",X="beforeTween",Z="tweenCreated",tt="function",et="string",nt=K.requestAnimationFrame||K.webkitRequestAnimationFrame||K.oRequestAnimationFrame||K.msRequestAnimationFrame||K.mozCancelRequestAnimationFrame&&K.mozRequestAnimationFrame||setTimeout,it=function(){},st=null,rt=null,ot=q({},i),at=function(t,e,n,i,s,r,o){var a,l,c,h=t<r?0:(t-r)/s,u=!1;for(var d in o&&o.call&&(u=!0,a=o(h)),e)u||(a=((l=o[d]).call?l:ot[l])(h)),c=n[d],e[d]=c+(i[d]-c)*a;return e},lt=function(t,e){var n=t._timestamp,i=t._currentState,s=t._delay;if(!(e<n+s)){var r=t._duration,o=t._targetState,a=n+s+r,l=e>a?a:e;t._hasEnded=l>=a;var c=r-(a-l),h=t._filters.length>0;if(t._hasEnded)return t._render(o,t._data,c),t.stop(!0);h&&t._applyFilter(X),l<n+s?n=r=l=1:n+=s,at(l,i,t._originalState,o,r,n,t._easing),h&&t._applyFilter(Q),t._render(i,t._data,c)}},ct=function(){for(var t,e=wt.now(),n=st;n;)t=n._next,lt(n,e),n=t},ht=Date.now||function(){return+new Date},ut=!1,dt=function(t){t&&ut||(ut=t,t&&mt())},mt=function t(){U=ht(),ut&&nt.call(K,t,16.666666666666668),ct()},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=G(e);if(ot[e])return ot[e];if(i===et||i===tt)for(var s in t)n[s]=e;else for(var r in t)n[r]=e[r]||$;return n},gt=function(t){t===st?(st=t._next)?st._previous=null:rt=null:t===rt?(rt=t._previous)?rt._next=null:st=null:(z=t._previous,J=t._next,z._next=J,J._previous=z),t._previous=t._next=null},ft="function"==typeof Promise?Promise:null,wt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;H(this,t),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._hasEnded=!1,this._resolve=null,this._reject=null,this._currentState=e||{},this._originalState={},this._targetState={},this._start=it,this._render=it,this._promiseCtor=ft,n&&this.setConfig(n)}var e;return(e=[{key:"_applyFilter",value:function(t){for(var e=this._filters.length;e>0;e--){var n=this._filters[e-e][t];n&&n(this)}}},{key:"tween",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!e&&this._config||this.setConfig(e),this._pausedAtTime=null,this._timestamp=t.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._config;for(var i in e)n[i]=e[i];var s=n.promise,r=void 0===s?this._promiseCtor:s,o=n.start,a=void 0===o?it:o,l=n.finish,c=n.render,h=void 0===c?this._config.step||it:c,u=n.step,d=void 0===u?it:u;this._data=n.data||n.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=a,this._render=h||d,this._duration=n.duration||500,this._promiseCtor=r,l&&(this._resolve=l);var m=e.from,p=e.to,g=void 0===p?{}:p,f=this._currentState,w=this._originalState,y=this._targetState;for(var v in m)f[v]=m[v];var S=!1;for(var b in f){var C=f[b];S||G(C)!==et||(S=!0),w[b]=C,y[b]=g.hasOwnProperty(b)?g[b]:C}if(this._easing=pt(this._currentState,n.easing,this._easing),this._filters.length=0,S){for(var _ in t.filters)t.filters[_].doesApply(this)&&this._filters.push(t.filters[_]);this._applyFilter(Z)}return this}},{key:"then",value:function(t,e){var n=this;return this._promise=new this._promiseCtor((function(t,e){n._resolve=t,n._reject=e})),this._promise.then(t,e)}},{key:"catch",value:function(t){return this.then().catch(t)}},{key:"get",value:function(){return q({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=t.now(),this._isPlaying=!1,gt(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=e-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===st?(st=this,rt=this):(this._previous=rt,rt._next=this,rt=this),this)}},{key:"seek",value:function(e){e=Math.max(e,0);var n=t.now();return this._timestamp+e===0||(this._timestamp=n-e,lt(this,n)),this}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,gt(this);var e=this._filters.length>0;return t&&(e&&this._applyFilter(X),at(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),e&&(this._applyFilter(Q),this._applyFilter(Y))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,this}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._currentState,n=this._data;return this._isPlaying?(this._reject&&this._reject({data:n,state:e,tweenable:this}),this._resolve=null,this._reject=null,this.stop(t)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"hasEnded",value:function(){return this._hasEnded}},{key:"setScheduleFunction",value:function(e){t.setScheduleFunction(e)}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t&&(this._data=q({},t)),this._data}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new wt;return e.tween(t),e.tweenable=e,e}V(wt,"now",(function(){return U})),V(wt,"setScheduleFunction",(function(t){return nt=t})),V(wt,"filters",{}),V(wt,"formulas",ot),dt(!0);var vt,St,bt=/(\d|-|\.)/,Ct=/([^\-0-9.]+)/g,_t=/[0-9.-]+/g,kt=(vt=_t.source,St=/,\s*/.source,new RegExp("rgba?\\(".concat(vt).concat(St).concat(vt).concat(St).concat(vt,"(").concat(St).concat(vt,")?\\)"),"g")),Pt=/^.*\(/,It=/#([0-9]|[a-f]){3,6}/gi,xt="VAL",At=function(t,e){return t.map((function(t,n){return"_".concat(e,"_").concat(n)}))};function Lt(t){return parseInt(t,16)}var Tt=function(t){return"rgb(".concat((e=t,3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[Lt(e.substr(0,2)),Lt(e.substr(2,2)),Lt(e.substr(4,2))]).join(","),")");var e},Wt=function(t,e,n){var i=e.match(t),s=e.replace(t,xt);return i&&i.forEach((function(t){return s=s.replace(xt,n(t))})),s},Bt=function(t){for(var e in t){var n=t[e];"string"==typeof n&&n.match(It)&&(t[e]=Wt(It,n,Tt))}},Et=function(t){var e=t.match(_t),n=e.slice(0,3).map(Math.floor),i=t.match(Pt)[0];if(3===e.length)return"".concat(i).concat(n.join(","),")");if(4===e.length)return"".concat(i).concat(n.join(","),",").concat(e[3],")");throw new Error("Invalid rgbChunk: ".concat(t))},Rt=function(t){return t.match(_t)},Ot=function(t,e){var n={};return e.forEach((function(e){n[e]=t[e],delete t[e]})),n},Nt=function(t,e){return e.map((function(e){return t[e]}))},Mt=function(t,e){return e.forEach((function(e){return t=t.replace(xt,+e.toFixed(4))})),t},Dt=function(t){for(var e in t._currentState)if("string"==typeof t._currentState[e])return!0;return!1};function Ft(t){var e=t._currentState;[e,t._originalState,t._targetState].forEach(Bt),t._tokenData=function(t){var e,n,i={};for(var s in t){var r=t[s];"string"==typeof r&&(i[s]={formatString:(e=r,n=void 0,n=e.match(Ct),n?(1===n.length||e.charAt(0).match(bt))&&n.unshift(""):n=["",""],n.join(xt)),chunkNames:At(Rt(r),s)})}return i}(e)}function Ht(t){var e=t._currentState,n=t._originalState,i=t._targetState,s=t._easing,r=t._tokenData;!function(t,e){var n=function(n){var i=e[n].chunkNames,s=t[n];if("string"==typeof s){var r=s.split(" "),o=r[r.length-1];i.forEach((function(e,n){return t[e]=r[n]||o}))}else i.forEach((function(e){return t[e]=s}));delete t[n]};for(var i in e)n(i)}(s,r),[e,n,i].forEach((function(t){return function(t,e){var n=function(n){Rt(t[n]).forEach((function(i,s){return t[e[n].chunkNames[s]]=+i})),delete t[n]};for(var i in e)n(i)}(t,r)}))}function Gt(t){var e=t._currentState,n=t._originalState,i=t._targetState,s=t._easing,r=t._tokenData;[e,n,i].forEach((function(t){return function(t,e){for(var n in e){var i=e[n],s=i.chunkNames,r=i.formatString,o=Mt(r,Nt(Ot(t,s),s));t[n]=Wt(kt,o,Et)}}(t,r)})),function(t,e){for(var n in e){var i=e[n].chunkNames,s=t[i[0]];t[n]="string"==typeof s?i.map((function(e){var n=t[e];return delete t[e],n})).join(" "):s}}(s,r)}function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){Vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ut=new wt,zt=wt.filters,Jt=function(t,e,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=qt({},t),o=pt(t,i);for(var a in Ut._filters.length=0,Ut.set({}),Ut._currentState=r,Ut._originalState=t,Ut._targetState=e,Ut._easing=o,zt)zt[a].doesApply(Ut)&&Ut._filters.push(zt[a]);Ut._applyFilter("tweenCreated"),Ut._applyFilter("beforeTween");var l=at(n,r,t,e,1,s,o);return Ut._applyFilter("afterTween"),l};function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var Yt=new WeakMap,Xt=function(){function t(){Kt(this,t),Yt.set(this,{writable:!0,value:[]});for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(this.add.bind(this))}var e;return(e=[{key:"add",value:function(t){return Qt(this,Yt).push(t),t}},{key:"remove",value:function(t){var e=Qt(this,Yt).indexOf(t);return~e&&Qt(this,Yt).splice(e,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Qt(this,Yt).some((function(t){return t.isPlaying()}))}},{key:"play",value:function(){return Qt(this,Yt).forEach((function(t){return t.tween()})),this}},{key:"pause",value:function(){return Qt(this,Yt).forEach((function(t){return t.pause()})),this}},{key:"resume",value:function(){return Qt(this,Yt).forEach((function(t){return t.resume()})),this}},{key:"stop",value:function(t){return Qt(this,Yt).forEach((function(e){return e.stop(t)})),this}},{key:"tweenables",get:function(){return function(t){if(Array.isArray(t))return $t(t)}(t=Qt(this,Yt))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}},{key:"promises",get:function(){return Qt(this,Yt).map((function(t){return t.then()}))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),Zt=function(t,e,n,i,s){var r=function(t,e,n,i){return function(s){return h=0,u=0,d=0,m=function(t){return((h*t+u)*t+d)*t},p=function(t){return(3*h*t+2*u)*t+d},g=function(t){return t>=0?t:0-t},h=1-(d=3*(r=t))-(u=3*(n-r)-d),a=1-(c=3*(o=e))-(l=3*(i-o)-c),function(t){return((a*t+l)*t+c)*t}(function(t,e){var n,i,s,r,o,a;for(s=t,a=0;a<8;a++){if(r=m(s)-t,g(r)<.005)return s;if(o=p(s),g(o)<1e-6)break;s-=r/o}if((s=t)<(n=0))return n;if(s>(i=1))return i;for(;n<i;){if(r=m(s),g(r-t)<.005)return s;t>r?n=s:i=s,s=.5*(i-n)+n}return s}(s));var r,o,a,l,c,h,u,d,m,p,g}}(e,n,i,s);return r.displayName=t,r.x1=e,r.y1=n,r.x2=i,r.y2=s,wt.formulas[t]=r},te=function(t){return delete wt.formulas[t]};wt.filters.token=s}},e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}return n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(720)}()}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";class t{constructor(t,e="div",n=[],i=""){this.element=document.createElement(e),this.element.classList.add(...n),this.element.textContent=i,t&&t.append(this.element)}destroy(){this.element.remove()}}class e extends t{constructor(e){super(e,"div",["about-team__page"]),this.title=new t(this.element,"h3",["about-team__title"],"About the team"),this.contentWrapper=new t(this.element,"div",["about-team__wrapper"]),this.firstMemberCard=new i(this.contentWrapper.element,"Vasiliy (Team Leader)","https://github.com/kiselmen","kiselmen",["- Setting up the working environment","- BackEnd deployment","- Application framework","- Header layout and functionality including burger menu","- Authorization page layout and functionality","- Dictionary functionality","- General statistics functionality","- Code refactoring","- Project deployment"],"./public/about-images/kiselmen.png"),this.secondMemberCard=new i(this.contentWrapper.element,"Max","https://github.com/maxomeleneckii","maxomeleneckii",["- Project analysis","- Development of the project architecture","- Dictionary layout","- Layout of Audiocall mini-game","- Functionality for Audiocall mini-game","- Stylization of the project","- Adaptive layout","- Project presentation"],"./public/about-images/maxomeleneckii.jpg"),this.thirdMemberCard=new i(this.contentWrapper.element,"Alexander","https://github.com/pitbrest","pitbrest",["- Footer layout","- Layout of the Sprint mini-game","- Functionality for the Sprint mini-game","- Stylization of the Sprint mini-game","- Page layout About","- Layout of the general statistics page","- Layout of statistics graphs"],"./public/about-images/pitbrest.jpg"),this.element.style.display="none"}}class i extends t{constructor(e,n,i,s,r,o){super(e,"div",["team-member__card"]),this.memberPhoto=new t(this.element,"img",["member-card__img"]),this.memberName=new t(this.element,"div",["member-card__name"],n),this.ghLink=new t(this.element,"a",["member-gh__link"],s),this.roles=new t(this.element,"ul",["member-roles"]),this.rolesNames=r,o?this.memberPhoto.element.setAttribute("src",o):this.memberPhoto.element.setAttribute("src","./public/about-images/man.jpg"),this.ghLink.element.setAttribute("href",i),this.ghLink.element.setAttribute("target","_blank"),this.createRoles()}createRoles(){for(const e of this.rolesNames)new t(this.roles.element,"li",["team-member-role"],e)}}const s=class extends t{constructor(e){super(e,"div",["about-rsLang__page"]),this.title=new t(this.element,"div",["about-RsLang-title","aboutRsLang-section"]),this.img1=new t(this.element,"img",["about-RsLang__image2"]),this.img2=new t(this.element,"img",["about-RsLang__image1","aboutRsLang-section"]),this.dictionary=new t(this.element,"div",["about-RsLan__dictionary","aboutRsLang-section"]),this.audioCall=new t(this.element,"div",["about-RsLan__audioCall","aboutRsLang-section"]),this.img3=new t(this.element,"img",["about-RsLang__image3","aboutRsLang-section"]),this.sprint=new t(this.element,"div",["about-RsLan__sprint","aboutRsLang-section"]),this.img4=new t(this.element,"img",["about-RsLang__image4","aboutRsLang-section"]),this.img5=new t(this.element,"img",["about-RsLang__image5","aboutRsLang-section"]),this.title.element.innerHTML="<p>RS Lang</p><p>will help you dive into the wonderful world of learning English</p>",this.dictionary.element.innerHTML="<p>Dictionary</p><p>help you increase your vocabulary by memorizing new English words</p>",this.audioCall.element.innerHTML="<p>Audio call</p><p>help with pronunciation of sounds, words, and ligatures in phrases</p>",this.sprint.element.innerHTML="<p>Sprint</p><p>will help maintain vocabulary, train attention</p>",this.img1.element.setAttribute("src","./public/about-images/play-and-learn.png"),this.img2.element.setAttribute("src","./public/about-images/vocabruary.png"),this.img3.element.setAttribute("src","./public/about-images/words.png"),this.img4.element.setAttribute("src","./public/about-images/kliaksa.svg"),this.img5.element.setAttribute("src","./public/about-images/kliaksa1.svg")}};class r extends t{constructor(n){super(n,"div",["about"]),this.controlsWrap=new t(this.element,"div",["aboutControls-wrap"]),this.aboutProgectBtn=new t(this.controlsWrap.element,"button",["aboutProgect-btn","about-btn","active"],"About project"),this.aboutTeamBtn=new t(this.controlsWrap.element,"button",["aboutTeam-btn","about-btn"],"About team"),this.aboutTeamPage=new e(this.element),this.aboutRSLang=new s(this.element),[this.aboutTeamBtn.element,this.aboutProgectBtn.element].forEach((t=>{t.addEventListener("click",(t=>{t.target===this.aboutTeamBtn.element?(this.aboutTeamBtn.element.classList.toggle("active",!0),this.aboutProgectBtn.element.classList.toggle("active",!1),this.aboutTeamPage.element.style.display="block",this.aboutRSLang.element.style.display="none"):(this.aboutTeamBtn.element.classList.toggle("active",!1),this.aboutProgectBtn.element.classList.toggle("active",!0),this.aboutTeamPage.element.style.display="none",this.aboutRSLang.element.style.display="flex")}))}))}}class o extends t{constructor(e,n){super(e,"div",["dictionary-wrapper__chapters"]),this.changeTheme=t=>{document.querySelector(".dictionary").setAttribute("class","dictionary"),document.querySelector(".dictionary").classList.add("dictionary",`dictionary-chapter-${t}`)},this.chapter=0,this.chapterColor="1",localStorage.getItem("chapter")?this.chapter=Number(localStorage.getItem("chapter")):localStorage.setItem("chapter",String(this.chapter)),localStorage.getItem("chapterColor")?this.chapterColor=String(localStorage.getItem("chapterColor")):localStorage.setItem("chapterColor",String(this.chapterColor)),this.changeTheme(this.chapterColor),n(),this.dictionaryHeading=new t(this.element,"h2",["dictionary-heading"],"Choose a section:"),this.dictionaryChapters=new t(this.element,"div",["dictionary-chapters","chapters"]),this.dictionaryChapterName=new t(this.dictionaryChapters.element,"span",["dictionary-chapter__name"],"Chapter "+String(this.chapter+1)),this.dictionaryChaptersList=new t(this.dictionaryChapters.element,"ul",["chapters-list"]);let i=6;localStorage.getItem("token")&&(i=7);for(let e=1;e<=i;e++)this.dictionaryChaptersListEl=new t(this.dictionaryChaptersList.element,"li",["chapters-item"],`Chapter ${e}`),this.dictionaryChaptersListEl.element.setAttribute("id",`chapter-${e}`);this.dictionaryChapters.element.addEventListener("click",(()=>{this.dictionaryChaptersList.element.classList.toggle("open")})),this.dictionaryChaptersList.element.addEventListener("mousedown",(t=>{const e=t.target;this.dictionaryChapterName.element.textContent=e.textContent})),document.addEventListener("click",(t=>{const e=t.target;if(e.closest(".dictionary-chapters")||this.dictionaryChaptersList.element.classList.remove("open"),e.classList.contains("chapters-item")){this.changeTheme(String(e.id[e.id.length-1])),localStorage.setItem("chapterColor",String(e.id[e.id.length-1]));const t=Number(e.textContent?.slice(-1))-1;this.chapter!==t&&(localStorage.setItem("chapter",String(t)),this.chapter=t,n())}}))}}class a extends t{constructor(e){super(e,"div",["dictionary-wrapper__games"]),this.dictionaryHeading=new t(this.element,"h2",["dictionary-heading"],"Play the game:"),this.dictionaryGames=new t(this.element,"div",["dictionary-games","games"]),this.dictionaryGamesAudio=new t(this.dictionaryGames.element,"a",["dictionary-games__audio","game","btn-dictionary"],"Audio call"),this.dictionaryGamesSprint=new t(this.dictionaryGames.element,"a",["dictionary-games__sprint","game","btn-dictionary"],"Sprint"),this.dictionaryGamesAudio.element.setAttribute("href","#/audiocall?type=dictionary"),this.dictionaryGamesSprint.element.setAttribute("href","#/sprint?type=dictionary"),this.dictionaryGamesAudio.element.addEventListener("click",(()=>{window.location.hash="#/audiocall?type=dictionary",location.reload()}))}}class l extends t{constructor(t,e){super(t,"div",["dictionary-header"]),this.onChangePage=()=>e(),this.chapters=new o(this.element,(()=>this.onChangePage())),this.games=new a(this.element)}}const c="https://react-learnwords-team74.herokuapp.com/";class h extends t{constructor(t,e=[],n,i=!1){super(t,"button",["btn"],n),this.onClickButton=t=>t,this.element.classList.add(...e),this.element.addEventListener("click",(t=>this.onClickButton(t))),i&&this.setDisabled(!0)}setDisabled(t=!1){this.element.toggleAttribute("disabled",t)}removeDisabled(){this.element.removeAttribute("disabled")}}class u extends t{constructor(e,n){super(e,"li",["list-content__element","element"]),this.onAddWordToUserWords=()=>{},this.onClickPLay=()=>{},this.onRemoveWordFromDifficult=()=>{},this.word=n,this.isPlaying=!1,this.elementImg=new t(this.element,"img",["element-img"]),this.elementImg.element.setAttribute("alt","picture-association"),this.elementImg.element.setAttribute("src",c+n.image),this.elementDiscription=new t(this.element,"div",["element-discript"]),this.elementWord=new t(this.elementDiscription.element,"div",["element-word","word"]),new t(this.elementWord.element,"span",["word-en"],n.word),new t(this.elementWord.element,"span",["word-transcription"],n.transcription),new t(this.elementWord.element,"span",["word-rus"]," - "+n.wordTranslate),this.elementExplain=new t(this.elementDiscription.element,"div",["element-explain","explain"]),this.elementExplainHeading=new t(this.elementExplain.element,"h3",["explain-heading"],"Meaning:"),new t(this.elementExplain.element,"p",["explain-en"],"").element.innerHTML=n.textMeaning,new t(this.elementExplain.element,"p",["explain-rus"],n.textMeaningTranslate),this.elementExample=new t(this.elementDiscription.element,"div",["element-example","example"]),this.elementExampleHeading=new t(this.elementExample.element,"h3",["example-heading"],"Example:"),new t(this.elementExample.element,"p",["example-en"],"").element.innerHTML=n.textExample,new t(this.elementExample.element,"p",["example-rus"],n.textExampleTranslate),this.elementBtns=new t(this.elementDiscription.element,"div",["element-btns"]),this.elementBtnListen=new h(this.elementBtns.element,["btn","btn-listen"],""),this.elementBtnImg=new t(this.elementBtnListen.element,"img",["element-btn__img"]),this.elementBtnImg.element.setAttribute("src","./public/sprint-images/sound-on.svg"),this.elementBtnImg.element.setAttribute("alt","play"),this.elementBtnAdd=new h(this.elementBtns.element,["btn"],"Hard"),this.elementBtnRemove=new h(this.elementBtns.element,["btn"],"Remove"),this.elementBtnStudied=new h(this.elementBtns.element,["btn"],"Studied"),this.elementStata=new t(this.elementBtns.element,"div",["element-stata"]),this.elementTotalAttempts=new t(this.elementStata.element,"div",["element-questions"]),new t(this.elementStata.element,"div",["element-separator"],"/"),this.elementCorrectAnswers=new t(this.elementStata.element,"div",["element-questions"]),localStorage.getItem("token")?(this.elementBtnAdd.onClickButton=async()=>this.onAddClick("hard"),this.elementBtnRemove.onClickButton=async()=>this.onRemoveClick(),this.elementBtnStudied.onClickButton=async()=>this.onAddClick("study")):(this.elementBtnAdd.setDisabled(!0),this.elementBtnRemove.setDisabled(!0),this.elementBtnStudied.setDisabled(!0)),this.elementAudio=new t(this.elementDiscription.element,"audio",[]),this.elementAudio.element.setAttribute("src",c+n.audio),this.elementAudioMeaning=new t(this.elementDiscription.element,"audio",[]),this.elementAudioMeaning.element.setAttribute("src",c+n.audioMeaning),this.elementAudioExample=new t(this.elementDiscription.element,"audio",[]),this.elementAudioExample.element.setAttribute("src",c+n.audioExample),this.elementBtnListen.onClickButton=()=>this.onListenClick()}onListenClick(){const t=this.elementAudio.element,e=this.elementAudioMeaning.element,n=this.elementAudioExample.element;this.onClickPLay(this.word),this.isPlaying?(this.elementBtnImg.element.setAttribute("src","./public/sprint-images/sound-on.svg"),this.elementBtnImg.element.setAttribute("alt","stop"),t.pause(),e.pause(),n.pause(),this.isPlaying=!this.isPlaying):(this.isPlaying=!this.isPlaying,this.elementBtnImg.element.setAttribute("src","./public/sprint-images/sound-off.svg"),this.elementBtnImg.element.setAttribute("alt","play"),t.play(),t.onended=()=>{e.play(),e.onended=()=>{n.play(),n.onended=()=>{this.elementBtnImg.element.setAttribute("src","./public/sprint-images/sound-on.svg"),this.elementBtnImg.element.setAttribute("alt","stop"),this.isPlaying=!this.isPlaying}}})}onAddClick(t){this.onAddWordToUserWords(this.word,t)}onRemoveClick(){this.onRemoveWordFromDifficult(this.word)}}class d extends t{constructor(e,n=!1){super(e,"div",["lds_wrapper"],"");const i=new t(this.element,"div",["lds-roller"],"");for(let e=0;e<8;e++)new t(i.element,"div",[],"");this.setVisible(n)}setVisible(t=!1){t?this.element.classList.remove("lds_disabled"):this.element.classList.add("lds_disabled")}}class m extends t{constructor(e,n,i,s,r,o){super(e,"div",["dictionary-content"]),this.loading=!0,this.onAddWordToUserWords=(t,e)=>i(t,e),this.onRemoveWordFromDifficult=t=>o(t),this.onClickPLay=t=>s(t),this.onSetupButtons=()=>r(),this.loadingElement=new d(this.element,!0),this.wordsList=new t(this.element,"ul",["dictionary-content__list","list-content"]),this.emptyWordsList=new t(this.element,"ul",["dictionary-content__list","list-content"]),this.listElement=[],this.loading=!1,this.loadingElement.setVisible(!1)}renderContent(t=[]){this.wordsList.element.innerHTML="",this.listElement=[],this.loading?this.loadingElement.setVisible(!0):(t.forEach((t=>{const e=new u(this.wordsList.element,t);e.onAddWordToUserWords=(t,e)=>this.onAddWordToUserWords(t,e),e.onRemoveWordFromDifficult=t=>this.onRemoveWordFromDifficult(t),e.onClickPLay=t=>this.onClickPLay(t),this.listElement.push(e)})),this.onSetupButtons(),0===t.length?this.emptyWordsList.element.textContent="There is no any hard word":this.emptyWordsList.element.textContent="",this.loadingElement.setVisible(!1))}}class p extends t{constructor(e,n){super(e,"div",["dictionary-pagination","pagination"]),this.onPrevPageClicl=()=>{0!==this.page&&(this.page--,localStorage.setItem("page",String(this.page)),this.setupButtons())},this.onNextPageClick=()=>{this.page<29&&(this.page++,localStorage.setItem("page",String(this.page)),this.setupButtons())},this.setupButtons=()=>{this.enabledButtons(),this.onChangePage()},this.disabletButtons=()=>{this.page=0,this.numberPage.element.textContent=`Page: ${this.page+1}`,this.btnPrev.setDisabled(!0),this.btnNext.setDisabled(!0)},this.enabledButtons=()=>{localStorage.getItem("page")&&(this.page=Number(localStorage.getItem("page"))),0===this.page?this.btnPrev.setDisabled(!0):this.btnPrev.setDisabled(!1),29===this.page?this.btnNext.setDisabled(!0):this.btnNext.setDisabled(!1),this.numberPage.element.textContent=`Page: ${this.page+1}`},this.onChangePage=()=>n(),this.page=0,localStorage.getItem("page")?this.page=Number(localStorage.getItem("page")):localStorage.setItem("page",String(this.page)),this.btnPrev=new h(this.element,["btn"],"Prev"),this.numberPage=new t(this.element,"span",["pagination-number"],`Page: ${this.page+1}`),this.btnNext=new h(this.element,["btn"],"Next"),this.btnPrev.onClickButton=()=>this.onPrevPageClicl(),this.btnNext.onClickButton=()=>this.onNextPageClick(),this.enabledButtons()}}function g(){return{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}}function f(){return{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:""}}function w(){return{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:""}}async function y(t="",e={method:"GET"}){try{const n=c+t,i=await fetch(n,e);return{data:200===i.status?await i.json():i,status:i.status}}catch(t){throw console.log(t),new Error("Can't fetch data")}}const v=async(t=1,e=1)=>{const n="words?group="+t+"&page="+e,i=await y(n,g());return 200!==i.status?[]:i.data},S=async t=>{const e=`words/${t}`,n=await y(e,g());return 200!==n.status?[]:n.data},b=async()=>{const t="users/"+localStorage.getItem("userId")+"/words",e=await y(t,g());return 200!==e.status?[]:e.data},C=async(t,e,n)=>{const i="users/"+localStorage.getItem("userId")+"/words/"+t.id,s=f();s.body=JSON.stringify({difficulty:e,optional:n});const r=await y(i,s);return 200!==r.status?[]:r.data},_=async(t,e,n)=>{const i=void 0!==t.id?t.id:t._id,s="users/"+localStorage.getItem("userId")+"/words/"+i,r=w();r.body=JSON.stringify({difficulty:e,optional:n});const o=await y(s,r);return 200!==o.status?[]:o.data},k=async(t,e)=>{const n="users/"+localStorage.getItem("userId")+"/aggregatedWords?page="+String(t)+"&wordsPerPage="+e+'&filter={"$and":[{"userWord.difficulty":"hard"}]}',i=await y(n,g());return 200!==i.status?[]:i.data[0]},P=async t=>{const e=f();return e.body=JSON.stringify(t),await y("signin",e)},I=async t=>{const e="users/"+t+"/statistics",n=g();return await y(e,n)},x=async t=>{const e="users/"+localStorage.getItem("userId")+"/statistics",n=w();return n.body=JSON.stringify(t),await y(e,n)},A=async()=>{const t={};t.learnedWords=localStorage.getItem("learnedWords"),t.optional={},t.optional.page=localStorage.getItem("page"),t.optional.chapter=localStorage.getItem("chapter"),t.optional.audiocall=JSON.parse(localStorage.getItem("audiocall")),t.optional.sprint=JSON.parse(localStorage.getItem("sprint")),x(t)};function L(){const t=new Date;return String(t.getFullYear())+"-"+String(t.getMonth())+"-"+String(t.getDate())}function T(){return{day:L(),newWords:"0",learnedWords:"0",totalQuestions:"0",correctAnswers:"0"}}class W extends t{constructor(t,e){super(t,"div",["dictionary"]),this.onChapterChange=()=>{this.onPageChange()},this.onPageChange=()=>{this.loadData()},this.loadData=()=>{this.checkToken().then((()=>{this.words=[],this.dictionaryContent.loading=!0,this.dictionaryContent.renderContent(this.words),localStorage.getItem("token")?b().then((t=>{this.userWords=t})).then((()=>{if(this.dictionaryHeader.chapters.chapter<6)this.dictionaryPagination.enabledButtons(),v(this.dictionaryHeader.chapters.chapter,this.dictionaryPagination.page).then((t=>{this.words=t,this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words)}));else{const t=0,e=100;this.dictionaryPagination.disabletButtons(),k(t,e).then((n=>{const i=0!==n.totalCount.length?Math.ceil(n.totalCount[0].count/e):0;t<i-1?(async(t,e)=>{let n=[];for(let i=0;i<t;i++){const t=(await k(i,e)).paginatedResults;n=[...n,...t]}return n})(i,e).then((t=>{this.words=t,this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words)})):(this.words=n.paginatedResults,this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words))}))}})):(this.userWords=[],v(this.dictionaryHeader.chapters.chapter,this.dictionaryPagination.page).then((t=>{this.words=t,this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words)})))}))},this.checkToken=async()=>{localStorage.getItem("token")&&(await async function(){const t="users/"+localStorage.getItem("userId");401===(await y(t,g())).status&&(localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"))}(),localStorage.getItem("token")||(window.location.hash="#/login",this.onUpdateRouter()))},this.onAddWordToUserWords=(t,e)=>{if(6!==this.dictionaryHeader.chapters.chapter)this.checkToken().then((()=>{"study"===e&&(localStorage.setItem("learnedWords",String(Number(localStorage.getItem("learnedWords"))+1)),A());const n=this.userWords.filter((e=>e.wordId===t.id));if(n.length){const i=JSON.parse(JSON.stringify(n[0].optional));i.learned="study"==e?"yes":"no",i.learnDate="study"==e?L():"no",_(t,e,i).then((t=>{n[0].difficulty=t.difficulty,this.onSetupButtons()}))}else{const n=this.createEmptyOptional();n.learned="study"==e?"yes":"no",n.learnDate="study"==e?L():"no",C(t,e,n).then((t=>{this.userWords.push(t),this.onSetupButtons()}))}}));else{this.dictionaryContent.loading=!0;const e=JSON.parse(JSON.stringify(t.userWord)).optional;e.learned="yes",e.learnDate=L(),this.dictionaryContent.renderContent(),localStorage.setItem("learnedWords",String(Number(localStorage.getItem("learnedWords"))+1)),A(),_(t,"study",e).then((t=>{this.userWords.filter((e=>e.wordId===t.wordId))[0].difficulty="study",this.words=this.words.filter((e=>e._id!==t.wordId)),this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words)}))}},this.onRemoveWordFromDifficult=t=>{const e=this.userWords.filter((e=>e.wordId===t.id));let n={};e.length?(n=e[0].optional&&e[0].optional?JSON.parse(JSON.stringify(e[0].optional)):this.createEmptyOptional(),n.learned="no",n.learnDate="no"):n=this.createEmptyOptional(),this.checkToken().then((()=>{e.length?_(t,"normal",n).then((t=>{this.userWords.filter((e=>e.wordId===t.wordId))[0].difficulty="normal",this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words),this.onSetupButtons()})):(async t=>{const e=void 0!==t.id?t.id:t._id,n="users/"+localStorage.getItem("userId")+"/words/"+e,i={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:""};await y(n,i)})(t).then((()=>{6!==this.dictionaryHeader.chapters.chapter?(this.userWords=this.userWords.filter((e=>e.wordId!==t.id)),this.words=this.words.filter((e=>e.wordId!==t.id))):(this.dictionaryContent.loading=!0,this.dictionaryContent.renderContent(),this.userWords=this.userWords.filter((e=>e.wordId!==t._id)),this.words=this.words.filter((e=>e._id!==t._id))),this.dictionaryContent.loading=!1,this.dictionaryContent.renderContent(this.words),this.onSetupButtons()}))}))},this.setupButtonsForCapter1_6=()=>{let t=0,e=0;this.dictionaryContent.listElement.forEach((n=>{if(localStorage.getItem("token")){const i=this.userWords.filter((t=>n.word.id===t.wordId));i.length?(n.elementStata.element.classList.add("active"),n.elementCorrectAnswers.element.textContent=i[0].optional?JSON.parse(JSON.stringify(i[0].optional)).correctAnswers:"0",n.elementTotalAttempts.element.textContent=i[0].optional?JSON.parse(JSON.stringify(i[0].optional)).totalAttempts:"0",n.elementStata.element.classList.remove("element-stata__disabled"),"hard"===i[0].difficulty?(n.elementBtnAdd.setDisabled(!0),n.elementBtnRemove.setDisabled(!1),n.elementBtnStudied.setDisabled(!1),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied"),n.element.classList.add("element__hard")):"study"===i[0].difficulty?(n.elementBtnAdd.setDisabled(!0),n.elementBtnRemove.setDisabled(!1),n.elementBtnStudied.setDisabled(!0),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied"),n.element.classList.add("element__studied")):(n.elementBtnAdd.setDisabled(!1),n.elementBtnRemove.setDisabled(!0),n.elementBtnStudied.setDisabled(!1),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied"))):(n.elementCorrectAnswers.element.textContent="0",n.elementTotalAttempts.element.textContent="0",n.elementStata.element.classList.remove("active"),n.elementBtnAdd?.setDisabled(!1),n.elementBtnRemove.setDisabled(!0),n.elementBtnStudied.setDisabled(!1),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied")),t+=this.userWords.filter((t=>n.word.id===t.wordId&&"study"===t.difficulty)).length,e+=this.userWords.filter((t=>n.word.id===t.wordId&&"hard"===t.difficulty)).length}else n.elementBtnAdd?.setDisabled(!0),n.elementBtnRemove.setDisabled(!0),n.elementBtnStudied.setDisabled(!0),n.element.classList.remove("element__hard"),n.element.classList.remove("element__studied"),n.elementStata.element.classList.add("element-stata__disabled")})),20===t?this.dictionaryPagination.numberPage.element.classList.add("pagination-number__learned"):this.dictionaryPagination.numberPage.element.classList.remove("pagination-number__learned"),t+e===20?(this.dictionaryHeader.games.dictionaryHeading.element.classList.add("games__disabled"),this.dictionaryHeader.games.dictionaryGames.element.classList.add("games__disabled")):(this.dictionaryHeader.games.dictionaryHeading.element.classList.remove("games__disabled"),this.dictionaryHeader.games.dictionaryGames.element.classList.remove("games__disabled"))},this.setupButtonsForCapter7=()=>{this.dictionaryContent.listElement.forEach((t=>{t.elementBtnAdd?.setDisabled(!0),t.elementBtnRemove.setDisabled(!1),t.elementBtnStudied.setDisabled(!1)}))},this.onUpdateRouter=()=>e(),this.dictionaryHeader=new l(this.element,(()=>this.onChapterChange())),this.dictionaryPagination=new p(this.element,(()=>this.onPageChange())),this.words=[],this.userWords=[],this.dictionaryContent=new m(this.element,this.words,((t,e)=>this.onAddWordToUserWords(t,e)),(t=>this.onClickPlay(t)),(()=>this.onSetupButtons()),(t=>this.onRemoveWordFromDifficult(t)))}createEmptyOptional(){const t={learned:"no",learnDate:"no"};return t.games={sprint:{totalAttempts:0,correctAnswers:0},audiocall:{totalAttempts:0,correctAnswers:0}},t.totalAttempts=0,t.correctAnswers=0,t.isNew=!1,t}onClickPlay(t){this.dictionaryContent.listElement.filter((e=>e.word.id!==t.id&&e.isPlaying)).forEach((t=>t.onListenClick()))}onSetupButtons(){6!==this.dictionaryHeader.chapters.chapter?this.setupButtonsForCapter1_6():this.setupButtonsForCapter7()}}var B=n(86),E=n.n(B);const R=t=>new(E().Circle)(t,{strokeWidth:6,easing:"easeInOut",duration:1400,color:"#494a69",trailColor:"#9cd2ff",trailWidth:4,svgStyle:null,step:function(t,e){const n=Math.round(100*e.value());0===n?document.querySelectorAll(".master-progressbar__count").forEach((t=>t.innerHTML="0%")):document.querySelectorAll(".master-progressbar__count").forEach((t=>t.innerHTML=`${n}%`))}});let O=[],N=[];const M={totalWords:0,correctWordsPercent:0,series:0,maxSeries:0,correctArr:[],wrongArr:[]};class D extends t{constructor(e,n){super(e,"div",["audiocall-main","master"]),this.progressVal=0,this.valChapter=0,this.valPage=0,this.arrWords=[],this.getWords=(t,e)=>{document.querySelectorAll(".words-btn").forEach((t=>{t.innerHTML="",t.removeAttribute("disabled"),t.style.background="rgb(228 244 255)"})),this.voiceWrapper.element.style.background="none",this.voiceBtn.element.classList.remove("showPicture"),this.textDontKnow.element.style.display="flex",this.textNext.element.style.display="none",this.param&&6===Number(localStorage.getItem("chapter"))&&(t=6,e=0),v(t,e).then((e=>{localStorage.getItem("token")?b().then((async n=>{if(this.param&&6===t){e=[];const t=n.filter((t=>"hard"===t.difficulty)).map((t=>t)).map((t=>t.wordId));for(let n=0;n<t.length;n+=1){const i=await S(t[n]);e.push(i)}}this.getListCards(e)})):this.getListCards(e)}))},this.getRandomElem=t=>t[Math.floor(Math.random()*t.length)],this.shuffleArr=t=>{for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}},this.guessWord=t=>{const e=t.target;if(e.classList.contains("words-btn")){const{id:t}=e;this.splitEvents(t,e)}},this.getCorrectWord=()=>{document.querySelectorAll(".words-btn").forEach((t=>{t.id===this.randomNum.word&&(t.style.background="#67db67",this.voiceWrapper.element.style.background=`url(${c+this.randomNum.image}) center / contain no-repeat`,this.voiceBtn.element.classList.add("showPicture")),t.setAttribute("disabled","true"),this.textDontKnow.element.style.display="none",this.textNext.element.style.display="flex"}))},this.resetVal=()=>{this.progressVal=0,O=[],N=[],this.bar.animate(0)},this.splitEvents=(t,e)=>{const n=localStorage.getItem("token");this.randomNum.word===t?(e.style.background="#67db67",this.audioResult.element.setAttribute("src","../../../../public/audio/win.mp3"),this.bar.animate(this.progressVal+=.1),localStorage.setItem("progressbarVal",`${this.progressVal}`),O.push(this.randomNum),M.correctArr=O,n&&(M.series++,M.maxSeries<M.series&&(M.maxSeries=M.series))):(M.series=0,e.style.background="#ff4c4c",this.audioResult.element.setAttribute("src","../../../../public/audio/wrong.mp3"),N.push(this.randomNum),M.wrongArr=N),this.audioResult.element.play(),this.getCorrectWord(),M.totalWords=O.length+N.length,M.correctWordsPercent=Math.floor(M.correctArr.length/M.totalWords*100)},this.closeGame=t=>{document.fullscreenElement&&document.exitFullscreen(),this.resetVal(),t?window.location.hash="/dictionary":(document.querySelector(".home").style.display="flex",document.querySelector(".master").style.display="none")},this.getFullScreen=()=>{document.fullscreenElement?document.exitFullscreen():this.element.requestFullscreen()},this.openInfo=()=>{this.dropDownList.element.classList.toggle("openInfo")},this.hidenIntroPage=(t,e)=>{this.resetVal(),document.querySelector(".master").style.display="flex",document.querySelector(".home").style.display="none",this.textDontKnow.element.style.display="flex",this.textNext.element.style.display="none",this.getWords(t,e),localStorage.removeItem("progressbarVal")},this.activateKeyboard=(t,e)=>{const n=document.querySelector(".audiocall-main");n&&"flex"===n.style.display&&("Shift"===t.key&&this.audio.element.play(),document.querySelectorAll(".words-btn").forEach((e=>{t.key!==e.value||e.disabled||this.splitEvents(e.id,e)})),"Space"===t.code&&"flex"===document.getElementById("Space-Dont").style.display?(this.getCorrectWord(),N.push(this.randomNum)):"Space"===t.code&&"flex"===document.getElementById("Space-Next").style.display&&this.getWords(this.valChapter,this.valPage+=1),"Escape"===t.code&&this.closeGame(e),"KeyF"===t.code&&this.getFullScreen(),"KeyI"===t.code&&this.openInfo(),t.preventDefault())},this.getListCards=t=>{const e=document.querySelectorAll(".words-btn");t.length?(this.shuffleArr(t),this.arrWords=t.map(((t,n)=>{if(n<e.length)return e[n].innerHTML=`${n+1}. ${t.wordTranslate}`,e[n].setAttribute("id",t.word),t})).filter((t=>void 0!==t)),this.randomNum=this.getRandomElem(this.arrWords),this.audio.element.setAttribute("src",c+this.randomNum.audio),this.audio.element.setAttribute("autoplay",""),O.length+N.length===10&&this.audio.element.removeAttribute("autoplay")):(this.audioCallContent.element.prepend("Sorry but the list of hard words is empty"),this.voiceBtn.element.setAttribute("disabled","true"),this.actionBtn.element.setAttribute("disabled","true")),e.forEach((t=>{""===t.innerHTML&&t.setAttribute("disabled","true")}))},this.param=n,this.audioCallHeader=new t(this.element,"div",["master-header"]),this.audioCallContent=new t(this.element,"div",["master-content"]),this.audioCallControls=new t(this.audioCallHeader.element,"div",["master-controls","controls"]),this.controlsInfoCont=new t(this.audioCallControls.element,"div",["controls-btn__cont"]),this.controlsInfo=new h(this.controlsInfoCont.element,["controls-btn","btn","controls-info"],""),this.dropDownList=new t(this.controlsInfoCont.element,"div",["controls-dropDownList","info"]),this.infoHeading=new t(this.dropDownList.element,"h3",["info-heading"],"Hotkeys:"),this.infoVoice=new t(this.dropDownList.element,"span",["info-item","info-voice"]),this.infoChoose=new t(this.dropDownList.element,"span",["info-item","info-choose"]),this.infoNext=new t(this.dropDownList.element,"span",["info-item","info-next"]),this.infoInfo=new t(this.dropDownList.element,"span",["info-item","info-info"]),this.infoFullScreen=new t(this.dropDownList.element,"span",["info-item","info-fullscreen"]),this.infoExit=new t(this.dropDownList.element,"span",["info-item","info-exit"]),this.controlsScreen=new h(this.audioCallControls.element,["controls-btn","btn","controls-fullscreen"],""),this.controlsClose=new h(this.audioCallControls.element,["controls-btn","btn","controls-close"],""),this.audioCallProgressbar=new t(this.audioCallHeader.element,"div",["master-progressbar"]),this.progressbarCount=new t(this.audioCallProgressbar.element,"span",["master-progressbar__count"]),this.voiceWrapper=new t(this.audioCallContent.element,"div",["master-voice"]),this.voiceBtn=new h(this.voiceWrapper.element,["master-voice__btn","btn"],""),this.audio=new t(this.voiceWrapper.element,"audio",[]),this.audioResult=new t(this.voiceWrapper.element,"audio",[]),this.listWords=new t(this.audioCallContent.element,"ul",["master-words","words"]);for(let e=0;e<5;e+=1)this.listItem=new t(this.listWords.element,"li",["words-item"]),this.listBtn=new h(this.listItem.element,["words-btn","btn"],""),this.listBtn.element.setAttribute("value",`${e+1}`);if(this.actionBtn=new h(this.audioCallContent.element,["master-action__btn","btn"],""),this.textDontKnow=new t(this.actionBtn.element,"span",["action-item"],"I don't know"),this.textNext=new t(this.actionBtn.element,"span",["action-item","next"],"Next"),this.audioCallProgressbar.element.setAttribute("id","container"),this.voiceBtn.element.setAttribute("value","Shift"),this.textDontKnow.element.setAttribute("id","Space-Dont"),this.textNext.element.setAttribute("id","Space-Next"),this.infoVoice.element.innerHTML="Listen: <i>Shift</i>",this.infoChoose.element.innerHTML="Choose: <i>1-5</i>",this.infoNext.element.innerHTML="Next: <i>Space</i>",this.infoInfo.element.innerHTML="Hotkeys: <i>I</i>",this.infoFullScreen.element.innerHTML="Fullscreen: <i>F</i>",this.infoExit.element.innerHTML="Close: <i>Esc</i>",this.bar=R(this.audioCallProgressbar.element),this.controlsInfo.element.addEventListener("click",(()=>this.openInfo())),document.addEventListener("click",(t=>{t.target.closest(".controls-btn__cont")||this.dropDownList.element.classList.remove("openInfo")})),this.controlsClose.element.addEventListener("click",(()=>this.closeGame(n))),this.controlsScreen.element.addEventListener("click",(()=>this.getFullScreen())),document.querySelector(".home-lvl__btns").addEventListener("click",(t=>{const e=t.target,{id:n}=e;this.valChapter=+n,e.classList.contains("home-btn")&&this.hidenIntroPage(this.valChapter,this.valPage)})),this.voiceBtn.element.addEventListener("click",(()=>{this.audio.element.play()})),document.addEventListener("keyup",(t=>this.activateKeyboard(t,n))),this.textDontKnow.element.addEventListener("click",(()=>{this.getCorrectWord(),N.push(this.randomNum)})),this.textNext.element.addEventListener("click",(()=>this.getWords(this.valChapter,this.valPage+=1))),this.listWords.element.addEventListener("click",this.guessWord),n){const t=Number(localStorage.getItem("chapter")),e=Number(localStorage.getItem("page"));this.hidenIntroPage(t,e)}}}class F extends t{constructor(e){super(e,"div",["audiocall-home","home"]),this.homeHeading=new t(this.element,"h2",["home-heading"],"Audio all Game"),this.homeContent=new t(this.element,"div",["home-content"]),this.homeDescription=new t(this.homeContent.element,"p",["home-content__descript"],"It will help to understand the pronunciation of sounds, words and connectives in phrases. Improves listening comprehension."),this.homeLvl=new t(this.homeContent.element,"div",["home-lvl"]),this.homeBtnsChoose=new t(this.homeLvl.element,"span",["home-lvl__span"],"Choose a level:"),this.homeLvlBtnsWrapper=new t(this.homeLvl.element,"div",["home-lvl__btns"]);for(let t=0;t<6;t+=1)this.homeLvlBtns=new h(this.homeLvlBtnsWrapper.element,["btn","home-btn"],`${t+1}`),this.homeLvlBtns.element.setAttribute("id",`${t}`);this.linkMainPage=new t(this.homeContent.element,"a",["btn","home-link__back"],"Back to main page"),this.linkMainPage.element.setAttribute("href","#/"),this.linkMainPage.element.setAttribute("tabindex","0"),this.initStatisticDataAudioCall()}initStatisticDataAudioCall(){if(localStorage.getItem("token")){const t=localStorage.getItem("audiocall");if(t){const e=JSON.parse(t);if(e.maxSeria||(e.maxSeria=0),e.currSeria||(e.currSeria=0),e.dayStata){const t=L();if(0===e.dayStata.filter((e=>e.day===t)).length){const t=T();e.dayStata.push(t)}}else{e.dayStata=[];const t=T();e.dayStata.push(t)}localStorage.setItem("audiocall",JSON.stringify(e)),M.maxSeries=e.maxSeria,M.series=e.currSeria}else{const t={maxSeria:"0",currSeria:"0",dayStata:[]},e=T();t.dayStata.push(e),localStorage.setItem("audiocall",JSON.stringify(t)),M.maxSeries=Number(t.maxSeria),M.series=Number(t.currSeria)}}}}class H extends t{constructor(e,n){super(e,"div",["audiocall-stat","statistic"]),this.createList=(e,n)=>{n.forEach((n=>{this.totalItem=new t(e,"li",["total-item","total-correct__item"]),this.totalItemBtn=new h(this.totalItem.element,["total-item__btn"],""),this.totalItemImg=new t(this.totalItemBtn.element,"img",["total-item__img"]),this.totalItemImg.element.setAttribute("src","./public/volume.svg"),this.totalItemImg.element.setAttribute("alt","volume"),this.totalItemAudio=new t(this.totalItemBtn.element,"audio",["total-item__audio"]),this.totalItemAudio.element.setAttribute("src",c+n.audio),this.totalItemEnWord=new t(this.totalItem.element,"span",["total-item__word","total-item__en"],n.word),this.totalItemHyphen=new t(this.totalItem.element,"span",[],"-"),this.totalItemRuWord=new t(this.totalItem.element,"span",["total-item__word"],n.wordTranslate)}))},this.updateStat=()=>{if(O.length+N.length===10){const t=localStorage.getItem("progressbarVal");if(document.querySelector(".audiocall-main").style.display="none",this.element.style.display="flex",this.bar.animate(+t),this.createList(this.totalCorrect.element,O),this.createList(this.totalWrong.element,N),localStorage.getItem("token")){const t=localStorage.getItem("audiocall"),e=JSON.parse(t);e.maxSeria=M.maxSeries,e.currSeria=M.series;let n=0,i=0;b().then((t=>{O.forEach((e=>{const s=t.filter((t=>String(t.wordId)===String(e.id)));if(s.length){const t=s[0].optional;!0===t.isNew&&(t.isNew=!1,n++),t.totalAttempts++,t.correctAnswers++,t.games.audiocall.totalAttempts++,t.games.audiocall.correctAnswers++,"normal"===s[0].difficulty?t.games.sprint.correctAnswers+t.games.sprint.correctAnswers>=3&&(s[0].difficulty="study",t.learnDate=L(),t.learned="yes",i++):"hard"===s[0].difficulty&&t.games.sprint.correctAnswers+t.games.sprint.correctAnswers>=5&&(s[0].difficulty="study",t.learnDate=L(),t.learned="yes",i++);const r={id:e.id};_(r,s[0].difficulty,t)}else{const t="normal",i={learned:"no",learnDate:"no"},s={sprint:{totalAttempts:0,correctAnswers:0},audiocall:{totalAttempts:1,correctAnswers:1}};i.games=s,i.totalAttempts=1,i.correctAnswers=1,i.isNew=!1,n++;const r={id:e.id};C(r,t,i)}})),N.forEach((e=>{const s=t.filter((t=>String(t.wordId)===String(e.id)));if(s.length){const t=s[0].optional;!0===t.isNew&&(t.isNew=!1,n++),t.totalAttempts++,t.games.audiocall.correctAnswers=0,"yes"===s[0].optional.learned?(s[0].difficulty="normal",t.learnDate="no",t.learned="no",i--):t.learned="no";const r={id:e.id};_(r,s[0].difficulty,t)}else{const t="normal",i={learned:"no",learnDate:"no"},s={sprint:{totalAttempts:0,correctAnswers:0},audiocall:{totalAttempts:1,correctAnswers:0}};i.games=s,i.totalAttempts=1,i.correctAnswers=0,i.isNew=!1,n++;const r={id:e.id};C(r,t,i)}}));const s=e.dayStata.filter((t=>t.day===L()));s[0].correctAnswers=String(Number(s[0].correctAnswers)+O.length),s[0].totalQuestions=String(Number(s[0].totalQuestions)+O.length+N.length),s[0].newWords=String(Number(s[0].newWords)+n),s[0].learnedWords=String(Number(s[0].learnedWords)+i),localStorage.setItem("audiocall",JSON.stringify(e)),localStorage.setItem("learnedWords",String(Number(localStorage.getItem("learnedWords"))+i)),A()}))}}},this.statHeading=new t(this.element,"h3",["statistic-heading"],"Here is your result"),this.statProgressbar=new t(this.element,"div",["master-progressbar","statistic-progressbar"]),this.statTotalCont=new t(this.element,"div",["statistic-total","total"]),this.correctCont=new t(this.statTotalCont.element,"div",["total-correct__cont"]),this.wrongCont=new t(this.statTotalCont.element,"div",["total-wrong__cont"]),this.totalCorrect=new t(this.correctCont.element,"ul",["total-list","total-correct"]),this.correctHeading=new t(this.totalCorrect.element,"h4",["total-heading"],"Correct:"),this.totalWrong=new t(this.wrongCont.element,"ul",["total-list","total-wrong"]),this.wrongHeading=new t(this.totalWrong.element,"h4",["total-heading"],"Wrong:"),this.statBtnsCont=new t(this.element,"div",["statistic-btns"]),this.btnAgain=new h(this.statBtnsCont.element,["statistic-btns__again"],"Again"),this.linkAgain=new t(this.btnAgain.element,"a",["statistic-link","link-again"],""),this.btnDictionary=new h(this.statBtnsCont.element,["statistic-btns__dictionary"],"Dictionary"),this.linkDictionary=new t(this.btnDictionary.element,"a",["statistic-link","link-dict"],""),this.linkDictionary.element.setAttribute("href","#/dictionary"),this.statBtnsCont.element.addEventListener("click",(t=>{const e=t.target,i=e.closest(".statistic-link");i&&this.statBtnsCont.element.contains(i)&&e.classList.contains("link-again")&&(n||(window.location.hash="#/audiocall"),location.reload())})),this.progressbarCount=new t(this.statProgressbar.element,"span",["master-progressbar__count"]),this.bar=R(this.statProgressbar.element),document.querySelector(".next").addEventListener("click",this.updateStat),document.addEventListener("keyup",(t=>{const e=document.querySelector(".audiocall-main");e&&"flex"===e.style.display&&"Space"===t.code&&this.updateStat()})),this.statTotalCont.element.addEventListener("click",(t=>{const e=t.target.closest(".total-item__btn");e&&this.statTotalCont.element.contains(e)&&e.querySelector("audio").play()}))}}class G extends t{constructor(t,e){super(t,"div",["audiocall"]),this.homePage=new F(this.element),this.mainPage=new D(this.element,e),this.statPage=new H(this.element,e)}}const j=class extends t{constructor(e){super(e,"div",["sprintIntro-card__wrap"]),this.element.style.display="none",this.cardTitle=new t(this.element,"h3",["sprintIntro-card__title"],"Sprint"),this.cardTextContent=new t(this.element,"p",["sprintIntro-card__content"]),this.cardTextContent.element.innerHTML="Practises rapid translation from<br> English to Russian.<br><br> You have to choose whether the translation<br> corresponds to the suggested word",this.cardBtnsContainer=new t(this.element,"div",["sprintIntro-card__Btns"]),this.cardBtn1=new h(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"1"),this.cardBtn2=new h(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"2"),this.cardBtn3=new h(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"3"),this.cardBtn4=new h(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"4"),this.cardBtn5=new h(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"5"),this.cardBtn6=new h(this.cardBtnsContainer.element,["sprintIntro-card__Btn"],"6")}startSprint(){return null}},q=class extends t{constructor(e){super(e,"div",["sprint-game__wrap"]),this.element.style.display="none",this.gamePageControlsBtnsContainer=new t(this.element,"div",["sprintControlsBtns-container"]),this.soundToggleBtn=new t(this.gamePageControlsBtnsContainer.element,"div",["sprintSoundToggle-btn"]),this.toFullScreenBtn=new t(this.gamePageControlsBtnsContainer.element,"div",["sprintToFullScreen-btn"]),this.toSprintIntroPageBtn=new t(this.gamePageControlsBtnsContainer.element,"div",["toSprintIntroPage-btn"]),this.countersContainer=new t(this.element,"div",["sprintCounters-container"]),this.timer=new t(this.countersContainer.element,"div",["sprint-timer"],"60"),this.points=new t(this.countersContainer.element,"div",["sprint-points"],"0"),this.gameCardContainer=new t(this.element,"div",["sprintGameCard-container"]),this.gameSignalsContainer=new t(this.element,"div",["sprintGameCardSignals-container"]),this.gameSignalOne=new t(this.gameSignalsContainer.element,"div",["sprintGameCardSignalOne","sprintGameCardSignal"]),this.gameSignalTwo=new t(this.gameSignalsContainer.element,"div",["sprintGameCardSignalTwo","sprintGameCardSignal"]),this.gameSignalThree=new t(this.gameSignalsContainer.element,"div",["sprintGameCardSignalThree","sprintGameCardSignal"]),this.gameSignalOne.element.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' stroke='#e4f4ff;' version='1.1' id='Layer_1' x='0px' y='0px' viewBox='0 0 80 80' style='enable-background:new 0 0 80 80;' xml:space='preserve' width='40' height='40'> <g>\t<path d='M40,77.5C19.322,77.5,2.5,60.678,2.5,40S19.322,2.5,40,2.5S77.5,19.322,77.5,40S60.678,77.5,40,77.5 z'/> <g><path style='fill:#e4f4ff;' d='M40,3c20.402,0,37,16.598,37,37S60.402,77,40,77S3,60.402,3,40S19.598,3,40,3 M40,2 C19.013,2,2,19.013,2,40s17.013,38,38,38s38-17.013,38-38S60.987,2,40,2L40,2z'/> </g> </g><polyline style='fill:none;stroke:#FFFFFF;stroke-width:6;stroke-miterlimit:10;' points='22.357,40.104 34.049,51.797   60.357,25.489 '/></svg>",this.gameSignalTwo.element.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' stroke='#e4f4ff;' version='1.1' id='Layer_1' x='0px' y='0px' viewBox='0 0 80 80' style='enable-background:new 0 0 80 80;' xml:space='preserve' width='40' height='40'> <g>\t<path d='M40,77.5C19.322,77.5,2.5,60.678,2.5,40S19.322,2.5,40,2.5S77.5,19.322,77.5,40S60.678,77.5,40,77.5 z'/> <g><path style='fill:#e4f4ff;' d='M40,3c20.402,0,37,16.598,37,37S60.402,77,40,77S3,60.402,3,40S19.598,3,40,3 M40,2 C19.013,2,2,19.013,2,40s17.013,38,38,38s38-17.013,38-38S60.987,2,40,2L40,2z'/> </g> </g><polyline style='fill:none;stroke:#FFFFFF;stroke-width:6;stroke-miterlimit:10;' points='22.357,40.104 34.049,51.797   60.357,25.489 '/></svg>",this.gameSignalThree.element.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' stroke='#e4f4ff;' version='1.1' id='Layer_1' x='0px' y='0px' viewBox='0 0 80 80' style='enable-background:new 0 0 80 80;' xml:space='preserve' width='40' height='40'> <g>\t<path d='M40,77.5C19.322,77.5,2.5,60.678,2.5,40S19.322,2.5,40,2.5S77.5,19.322,77.5,40S60.678,77.5,40,77.5 z'/> <g><path style='fill:#e4f4ff;' d='M40,3c20.402,0,37,16.598,37,37S60.402,77,40,77S3,60.402,3,40S19.598,3,40,3 M40,2 C19.013,2,2,19.013,2,40s17.013,38,38,38s38-17.013,38-38S60.987,2,40,2L40,2z'/> </g> </g><polyline style='fill:none;stroke:#FFFFFF;stroke-width:6;stroke-miterlimit:10;' points='22.357,40.104 34.049,51.797   60.357,25.489 '/></svg>",this.pronounceWordBtn=new t(this.element,"div",["sprintPronounceWord-btn"]),this.pronounceWordBtn.element.innerHTML="<svg class='MuiSvgIcon-root' focusable='false' viewBox='0 0 24 24' aria-hidden='true'><path d='M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z'></path></svg>",this.wordInEngContainer=new t(this.element,"div",["sprintWordInEng-container"]),this.wordInEng=new t(this.wordInEngContainer.element,"p",["sprintWordInEng"]),this.wordInRuContainer=new t(this.element,"div",["sprintWordInRu-container"]),this.wordInRu=new t(this.wordInRuContainer.element,"p",["sprintWordInRu"]),this.answersBtnsContainer=new t(this.element,"div",["sprintAnswersBtns-container"]),this.answerFalseBtn=new h(this.answersBtnsContainer.element,["sprintAnswerFalse-btn"],"Incorrect"),this.answerTrueBtn=new h(this.answersBtnsContainer.element,["sprintAnswerTrue-btn"],"Correct"),this.audioPlayer=new t(this.element,"audio",["sprintAudioPlayer"]),this.audioPlayer.element.style.cssText="display: none; visibility: hidden"}clearLamp(){[this.gameSignalOne.element,this.gameSignalTwo.element,this.gameSignalThree.element].forEach((t=>{t.classList.toggle("activate",!1)}))}};class V extends t{constructor(e){super(e,"div",["sprint-resultsPage__container"]),this.specialFunc=()=>console.log("to do something"),this.element.style.display="none",this.toSprintGamePageBtn=new t(this.element,"div",["toSprintGamePage-btn"]),this.title=new t(this.element,"h3",["sprintGameReults-title"],"Results"),this.results=new t(this.element,"div",["sprint-results__container"]),this.results.element.setAttribute("autofocus","true")}clearResults(){this.results.element.innerHTML=""}}class U extends t{constructor(e,n,i,s,r,o){super(e,"div",["sprint-result__wrap"]),this.specialFunc=()=>console.log("to do something"),this.soundOnOffBtn=new t(this.element,"div",["sprintReultSound-btn"]),this.wordInEng=new t(this.element,"div",["sprintResultWordInEng"],n),this.wordInEngTranscription=new t(this.element,"div",["sprintResultWordInEng-transcription"],i),this.wordInRu=new t(this.element,"div",["sprintResultWordInRu"],s),this.wordPronunLink=r,this.wordCheckingResultImg=new t(this.element,"div",o?["sprintResultWordCheckingResult-img","true"]:["sprintResultWordCheckingResult-img","false"]),this.soundOnOffBtn.element.onclick=()=>this.specialFunc()}}const z={currentGroup:0,currentPage:0,stepCounter:0,score:0,correctAnswerCount:0,currentContent:[],parentNodeInfo:"about",userHardWords:[],userHardWordsCounter:0,userResult:[]};async function J(t,e){return await v(t,e)}function $(t=0,e=z.currentContent.length){let n=t,i=e;return n=Math.ceil(n),i=Math.floor(i),Math.floor(Math.random()*(i-n+1))+n}function K(t,e){let n;return n=e?$(e[0],e[1]):$(),1===$(1,2)?t:n}async function Q(){z.currentGroup=0,z.currentPage=0,z.stepCounter=0,z.score=0,z.correctAnswerCount=0,z.currentContent=[],z.parentNodeInfo="about",z.userHardWords=[],z.userHardWordsCounter=0,z.userResult=[]}async function Y(t,e,n,i,s,r){if(!r){if(t&&"string"!=typeof t?z.currentPage+=1:t?"string"==typeof t&&(z.currentPage+=0):z.currentPage-=1,e&&"string"!=typeof e?z.stepCounter+=1:e?"string"==typeof e&&(z.stepCounter+=0):z.stepCounter-=1,"boolean"==typeof n&&n)switch(z.correctAnswerCount){case 0:z.score+=5;break;case 1:z.score+=10;break;case 2:z.score+=15;break;case 3:z.score+=20}"number"==typeof n&&(z.score=n),i&&z.correctAnswerCount<3?z.correctAnswerCount+=1:i&&3===z.correctAnswerCount?z.correctAnswerCount+=0:i||(z.correctAnswerCount=0),s&&(z.currentContent=await J(z.currentGroup,z.currentPage))}if(r){if(t&&"string"!=typeof t?z.currentPage+=1:t?"string"==typeof t&&(z.currentPage+=0):z.currentPage-=1,e&&"string"!=typeof e?z.userHardWordsCounter+=1:e?"string"==typeof e&&(z.userHardWordsCounter+=0):z.userHardWordsCounter-=1,"boolean"==typeof n&&n)switch(z.correctAnswerCount){case 0:z.score+=5;break;case 1:z.score+=10;break;case 2:z.score+=15;break;case 3:z.score+=20}"number"==typeof n&&(z.score=n),i&&z.correctAnswerCount<3?z.correctAnswerCount+=1:i&&3===z.correctAnswerCount?z.correctAnswerCount+=0:i||(z.correctAnswerCount=0)}}const X=async(t,e,n,i)=>{await Z(t),await Z(e),Z(n,0,i)};async function Z(t,e,n="none"){t.style.display=n}class tt extends t{constructor(t,e){super(t,"div",["sprint"]),this.sprintStart=async()=>{"about"===z.parentNodeInfo&&await X(this.sprintResultsPage.element,this.sprintGamePage.element,this.sprintIntroCard.element,"flex"),"dictionary"===z.parentNodeInfo&&(localStorage.userId&&("6"!==localStorage.chapter&&await this.gamePreparation(),"6"===localStorage.chapter&&await this.gamePreparation()),localStorage.userId||await this.gamePreparation())},this.gamePreparation=async()=>{if("about"===z.parentNodeInfo&&(z.currentContent=await J(z.currentGroup,z.currentPage),await this.gamePreparationActions("default")),"dictionary"===z.parentNodeInfo){if(localStorage.userId||(z.currentGroup=+localStorage.chapter,z.currentPage=+localStorage.page,z.currentContent=await J(z.currentGroup,z.currentPage),await this.gamePreparationActions("default")),localStorage.userId&&"6"!==localStorage.chapter){z.currentGroup=+localStorage.chapter,z.currentPage=+localStorage.page,z.currentContent=await J(z.currentGroup,z.currentPage);const t=await b(),e=async()=>{const e=t.filter((t=>"hard"!==t.difficulty&&"normal"!==t.difficulty)).map((t=>t.wordId));for(const t of e)z.currentContent=z.currentContent.filter((e=>e.id!==t))};await e(),await this.gamePreparationActions("default")}if(localStorage.userId&&"6"===localStorage.chapter){const t=await b(),e=async()=>{const e=t.filter((t=>"study"!==t.difficulty&&"normal"!==t.difficulty)).map((t=>t.wordId));for(let t=0;t<e.length;t+=1){const n=await S(e[t]);z.userHardWords[t]=n}};await e(),await this.gamePreparationActions("custom")}}},this.updateGameContent=async t=>{if("default"===t&&z.stepCounter!==z.currentContent.length)try{this.sprintGamePage.wordInEng.element.innerText=z.currentContent[z.stepCounter].word.toString(),this.sprintGamePage.wordInRu.element.innerText=z.currentContent[K(z.stepCounter)].wordTranslate.toString()}catch(t){console.error(t.message,"        !!!")}if("custom"===t&&z.userHardWordsCounter!==z.userHardWords.length)try{this.sprintGamePage.wordInEng.element.innerText=z.userHardWords[z.userHardWordsCounter].word.toString(),this.sprintGamePage.wordInRu.element.innerText=z.userHardWords[K(z.userHardWordsCounter,[0,z.userHardWords.length])].wordTranslate.toString()}catch(t){console.error(t.message,"   ()    !!!")}},this.checkLimit=async t=>{if("default"===t&&"about"===z.parentNodeInfo){const t=z.currentContent.length;z.stepCounter===t&&z.currentPage<29?(await Y(!0,"none",!1,!1,!0,!1),z.stepCounter=0):z.stepCounter===t&&29===z.currentPage&&(await X(this.sprintGamePage.element,this.sprintIntroCard.element,this.sprintResultsPage.element,"block"),await(this.timer?.timerStop()))}if("default"===t&&"dictionary"===z.parentNodeInfo){const t=z.currentContent.length;z.stepCounter===t&&z.currentPage<29&&0!==z.currentPage?(await Y(!1,"none",!1,!1,!0,!1),z.stepCounter=0):z.stepCounter===t&&0===z.currentPage&&(await X(this.sprintGamePage.element,this.sprintIntroCard.element,this.sprintResultsPage.element,"block"),await(this.timer?.timerStop()))}"custom"===t&&"dictionary"===z.parentNodeInfo&&z.userHardWordsCounter===z.userHardWords.length&&(await X(this.sprintGamePage.element,this.sprintIntroCard.element,this.sprintResultsPage.element,"block"),await(this.timer?.timerStop()),await this.updateSignalLampState(!1))},this.showResults=async()=>{X(this.sprintGamePage.element,this.sprintIntroCard.element,this.sprintResultsPage.element,"block"),this.timer?.timerStop(),localStorage.getItem("token")&&this.updateStata(z),this.updateScore(!1)},this.makeAnswerVoise=async t=>{const e=this.sprintGamePage.audioPlayer.element;t?e.setAttribute("src","./public/sprint-music/true.mp3"):e.setAttribute("src","./public/sprint-music/false.mp3"),e.play()},this.introChapterBtnsListener=()=>{[this.sprintIntroCard.cardBtn1,this.sprintIntroCard.cardBtn2,this.sprintIntroCard.cardBtn3,this.sprintIntroCard.cardBtn4,this.sprintIntroCard.cardBtn5,this.sprintIntroCard.cardBtn6].forEach((t=>{t.element.addEventListener("click",(async()=>{z.currentGroup=+t.element.innerText-1,this.gamePreparation()}))}))},this.answerBtnsListener=async()=>{[this.sprintGamePage.answerFalseBtn.element,this.sprintGamePage.answerTrueBtn.element].forEach((async t=>{t.addEventListener("click",(async t=>{await this.unswersBtnsBlockToggle(!0);const e=t.target;localStorage.userId&&"dictionary"===z.parentNodeInfo&&"6"===localStorage.chapter?("CORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText===z.userHardWords[z.userHardWordsCounter].wordTranslate.toString()?await this.responseProcessing(!0,"custom"):"CORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText!==z.userHardWords[z.userHardWordsCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"custom"),"INCORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText!==z.userHardWords[z.userHardWordsCounter].wordTranslate.toString()?await this.responseProcessing(!0,"custom"):"INCORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText===z.userHardWords[z.userHardWordsCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"custom")):("CORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText===z.currentContent[z.stepCounter].wordTranslate.toString()?await this.responseProcessing(!0,"default"):"CORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText!==z.currentContent[z.stepCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"default"),"INCORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText!==z.currentContent[z.stepCounter].wordTranslate.toString()?await this.responseProcessing(!0,"default"):"INCORRECT"===e.innerText&&this.sprintGamePage.wordInRu.element.innerText===z.currentContent[z.stepCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"default")),await this.unswersBtnsBlockToggle(!1)}))}))},this.responseProcessing=async(t,e)=>{"default"===e&&(t?(await this.userResponseProcessing(z.currentContent[z.stepCounter].word.toString(),z.currentContent[z.stepCounter].transcription.toString(),z.currentContent[z.stepCounter].wordTranslate.toString(),z.currentContent[z.stepCounter].audio.toString(),!0),localStorage.userId&&z.userResult.push({id:z.currentContent[z.stepCounter].id,answer:!0}),await Y("none",!0,!0,!0,!1,!1),await this.updateScore(!0),await this.updateSignalLampState(!0),await this.makeAnswerVoise(!0),await this.checkLimit("default"),await this.updateGameContent("default")):(await this.userResponseProcessing(z.currentContent[z.stepCounter].word.toString(),z.currentContent[z.stepCounter].transcription.toString(),z.currentContent[z.stepCounter].wordTranslate.toString(),z.currentContent[z.stepCounter].audio.toString(),!1),localStorage.userId&&z.userResult.push({id:z.currentContent[z.stepCounter].id,answer:!1}),await Y("none",!0,!0,!1,!1,!1),await this.updateSignalLampState(!0),await this.makeAnswerVoise(!1),await this.checkLimit("default"),await this.updateGameContent("default"))),"custom"===e&&(t?(await this.userResponseProcessing(z.userHardWords[z.userHardWordsCounter].word.toString(),z.userHardWords[z.userHardWordsCounter].transcription.toString(),z.userHardWords[z.userHardWordsCounter].wordTranslate.toString(),z.userHardWords[z.userHardWordsCounter].audio.toString(),!0),localStorage.userId&&z.userResult.push({id:z.userHardWords[z.userHardWordsCounter].id,answer:!0}),await Y("none",!0,!0,!0,!1,!0),await this.updateScore(!0),await this.updateSignalLampState(!0),await this.makeAnswerVoise(!0),await this.checkLimit("custom"),await this.updateGameContent("custom")):(await this.userResponseProcessing(z.userHardWords[z.userHardWordsCounter].word.toString(),z.userHardWords[z.userHardWordsCounter].transcription.toString(),z.userHardWords[z.userHardWordsCounter].wordTranslate.toString(),z.userHardWords[z.userHardWordsCounter].audio.toString(),!1),localStorage.userId&&z.userResult.push({id:z.userHardWords[z.userHardWordsCounter].id,answer:!1}),await Y("",!0,!1,!1,!1,!0),await this.updateSignalLampState(!0),await this.makeAnswerVoise(!1),await this.checkLimit("custom"),await this.updateGameContent("custom")))},this.userResponseProcessing=async(t,e,n,i,s)=>{this.sprintResultsPage.result=new U(this.sprintResultsPage.results.element,t,e,n,i,s),this.sprintResultsPage.result.specialFunc=()=>{return t=this.sprintGamePage.audioPlayer.element,e=i,t.setAttribute("src",c+e),void t.play();var t,e}},this.unswersBtnsBlockToggle=async t=>{t?[this.sprintGamePage.answerTrueBtn.element,this.sprintGamePage.answerFalseBtn.element].forEach((t=>{t.setAttribute("disabled","true")})):[this.sprintGamePage.answerTrueBtn.element,this.sprintGamePage.answerFalseBtn.element].forEach((t=>{t.removeAttribute("disabled")}))},this.updateSignalLampState=async t=>{if(t){const t=[this.sprintGamePage.gameSignalOne.element,this.sprintGamePage.gameSignalTwo.element,this.sprintGamePage.gameSignalThree.element];t.forEach((t=>t.classList.toggle("activate",!1)));for(let e=1;e<=z.correctAnswerCount;e+=1)t[e-1].classList.toggle("activate",!0)}else[this.sprintGamePage.gameSignalOne.element,this.sprintGamePage.gameSignalTwo.element,this.sprintGamePage.gameSignalThree.element].forEach((t=>t.classList.toggle("activate",!1)))},this.updateScore=async t=>{this.sprintGamePage.points.element.innerText=t?z.score.toString():"0"},this.gamePageGlobalSoundToggle=async()=>{this.sprintGamePage.soundToggleBtn.element.addEventListener("click",(()=>{this.sprintGamePage.soundToggleBtn.element.classList.toggle("active"),"sprintSoundToggle-btn"===this.sprintGamePage.soundToggleBtn.element.className?this.sprintGamePage.audioPlayer.element.volume=1:this.sprintGamePage.audioPlayer.element.volume=0}))},this.gamePageFullScreenToggle=async()=>{this.sprintGamePage.toFullScreenBtn.element.addEventListener("click",(()=>{const t=document.documentElement,e=t.requestFullscreen;void 0!==e&&e&&e.call(t),null!==document.fullscreenElement&&document.exitFullscreen()}))},this.closeGamePage=async()=>{this.sprintGamePage.toSprintIntroPageBtn.element.addEventListener("click",(async()=>{await this.closeGameActions()}))},this.closeResultsPage=async()=>{this.sprintResultsPage.toSprintGamePageBtn.element.onclick=async()=>{await this.closeGameActions()}},this.closeGameActions=async()=>{await X(this.sprintGamePage.element,this.sprintResultsPage.element,this.sprintIntroCard.element,"flex"),Q(),this.sprintResultsPage.clearResults(),this.timer?.timerStop(),this.updateScore(!1),this.updateSignalLampState(!1)},this.gamePreparationActions=async t=>{await(async()=>{"default"===t?await this.updateGameContent("default"):await this.updateGameContent("custom")})(),await X(this.sprintIntroCard.element,this.sprintResultsPage.element,this.sprintGamePage.element,"flex"),this.timer=new class{constructor(t,e=20){this.specialFunc=()=>console.log("to do something"),this.timerRun=()=>{const t=()=>{this.parentNode.innerText=this.timeout.toString(),this.timeout-=1,this.timer=setTimeout(t,1e3),this.timeout<0&&(this.timerStop(),this.specialFunc())};t()},this.parentNode=t,this.timeout=e}async timerStop(){clearTimeout(this.timer)}}(this.sprintGamePage.timer.element),this.timer.specialFunc=this.showResults,this.timer.timerRun()},this.keybordListener=()=>{document.addEventListener("keyup",this.funcForKE)},this.funcForKE=async t=>{localStorage.userId&&"dictionary"===z.parentNodeInfo&&"6"===localStorage.chapter?("ArrowRight"===t.code&&this.sprintGamePage.wordInRu.element.innerText===z.userHardWords[z.userHardWordsCounter].wordTranslate.toString()?await this.responseProcessing(!0,"custom"):"ArrowRight"===t.code&&this.sprintGamePage.wordInRu.element.innerText!==z.userHardWords[z.userHardWordsCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"custom"),"ArrowLeft"===t.code&&this.sprintGamePage.wordInRu.element.innerText!==z.userHardWords[z.userHardWordsCounter].wordTranslate.toString()?await this.responseProcessing(!0,"custom"):"ArrowLeft"===t.code&&this.sprintGamePage.wordInRu.element.innerText===z.userHardWords[z.userHardWordsCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"custom")):("ArrowRight"===t.code&&this.sprintGamePage.wordInRu.element.innerText===z.currentContent[z.stepCounter].wordTranslate.toString()?await this.responseProcessing(!0,"default"):"ArrowRight"===t.code&&this.sprintGamePage.wordInRu.element.innerText!==z.currentContent[z.stepCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"default"),"ArrowLeft"===t.code&&this.sprintGamePage.wordInRu.element.innerText!==z.currentContent[z.stepCounter].wordTranslate.toString()?await this.responseProcessing(!0,"default"):"ArrowLeft"===t.code&&this.sprintGamePage.wordInRu.element.innerText===z.currentContent[z.stepCounter].wordTranslate.toString()&&await this.responseProcessing(!1,"default"))},this.removeKBEvent=()=>{document.querySelectorAll(".nav-link").forEach((t=>{t.addEventListener("click",(()=>{document.removeEventListener("keyup",this.funcForKE,!1)}))}))},this.starterKit=()=>{this.sprintStart(),this.introChapterBtnsListener(),this.gamePageGlobalSoundToggle(),this.gamePageFullScreenToggle(),this.closeGamePage(),this.answerBtnsListener(),this.closeResultsPage(),this.keybordListener(),this.removeKBEvent()},Q(),e&&(z.parentNodeInfo="dictionary"),this.sprintIntroCard=new j(this.element),this.sprintGamePage=new q(this.element),this.sprintResultsPage=new V(this.element),this.starterKit()}updateStata(t){this.initStatisticDataSprint();const e=t.userResult,n=localStorage.getItem("sprint"),i=JSON.parse(n);let s=i.maxSeria,r=i.currSeria,o=0,a=0;b().then((t=>{e.forEach((e=>{const n=t.filter((t=>String(t.wordId)===String(e.id)));if(n.length){const t=n[0].optional;!0===t.isNew&&(t.isNew=!1,o++),t.totalAttempts++,e.answer?(t.correctAnswers++,r++):(s<r&&(s=r),r=0),t.games.sprint.totalAttempts++,e.answer?(t.games.sprint.correctAnswers++,"normal"===n[0].difficulty?t.games.sprint.correctAnswers+t.games.sprint.correctAnswers>=3&&(n[0].difficulty="study",t.learnDate=L(),t.learned="yes",a++):"hard"===n[0].difficulty?t.games.sprint.correctAnswers>=5&&(n[0].difficulty="study",t.learnDate=L(),t.learned="yes",a++):n[0].difficulty="study"):(t.games.sprint.correctAnswers=0,"yes"===n[0].optional.learned?(n[0].difficulty="normal",t.learnDate="no",t.learned="no",a--):t.learned="no");const i={id:e.id};_(i,n[0].difficulty,t)}else{const t="normal",n={learned:"no",learnDate:"no"},i={totalAttempts:0,correctAnswers:0},a={totalAttempts:1,correctAnswers:0};e.answer?(a.correctAnswers++,r++):(s<r&&(s=r),r=0);const l={sprint:a,audiocall:i};n.games=l,n.totalAttempts=1,n.correctAnswers=e.answer?1:0,n.isNew=!1,o++;const c={id:e.id};C(c,t,n)}}));const n=i.dayStata.filter((t=>t.day===L())),l=e.filter((t=>!0===t.answer));n[0].correctAnswers=String(Number(n[0].correctAnswers)+l.length),n[0].totalQuestions=String(Number(n[0].totalQuestions)+e.length),n[0].newWords=String(Number(n[0].newWords)+o),n[0].learnedWords=String(Number(n[0].learnedWords)+a),i.maxSeria=i.maxSeria<s?s:i.maxSeria,i.currSeria=i.currSeria<r?r:i.currSeria,localStorage.setItem("sprint",JSON.stringify(i)),localStorage.setItem("learnedWords",String(Number(localStorage.getItem("learnedWords"))+a)),A()}))}initStatisticDataSprint(){if(localStorage.getItem("token")){const t=localStorage.getItem("sprint");if(t){const e=JSON.parse(t);if(e.maxSeria||(e.maxSeria=0),e.currSeria||(e.currSeria=0),e.dayStata){const t=L();if(0===e.dayStata.filter((e=>e.day===t)).length){const t=T();e.dayStata.push(t)}}else{e.dayStata=[];const t=T();e.dayStata.push(t)}localStorage.setItem("sprint",JSON.stringify(e))}else{const t={maxSeria:"0",currSeria:"0",dayStata:[]},e=T();t.dayStata.push(e),localStorage.setItem("sprint",JSON.stringify(t))}}}}class et extends t{constructor(t,e,n=[],i){super(t,"input",["ui-input"]),this.getInputValue=()=>{},this.element.setAttribute("type",e),this.element.classList.add(...n),i&&this.element.setAttribute("value",i),this.element.addEventListener("input",(t=>this.getInputValue(t)))}}class nt extends t{constructor(e){super(e,"form",["form"],""),this.formHeading=new t(this.element,"h2",["form-heading"],"Hello!");const n=new t(this.element,"div",["form-item","item"]);this.eMailInput=new et(n.element,"email",["item-input"]),this.eMailInput.element.setAttribute("placeholder","E-mail"),this.eMailInput.element.setAttribute("required","");const i=new t(this.element,"div",["form-item","item"]);this.passInput=new et(i.element,"password",["item-input"]),this.passInput.element.setAttribute("placeholder","Password"),this.passInput.element.setAttribute("required","");const s=new t(this.element,"div",["form-item","item"]);this.showPass=new t(s.element,"div",["item-checkbox"],""),new t(s.element,"label",["item-label"],"Show password"),this.showPass.element.addEventListener("click",(()=>this.toggleShow()));const r=new t(this.element,"div",["form-item","item"],"");this.message=new t(r.element,"div",["item-message"],"");const o=new t(this.element,"div",["form-item","item","form-btns"]);this.buttonLogin=new h(o.element,["btn","btn-login"],"Login"),this.buttonRegister=new h(o.element,["btn","btn-register"],"Register")}toggleShow(){this.showPass.element.classList.toggle("item-checkbox__active"),this.showPass.element.classList.contains("item-checkbox__active")?this.passInput.element.setAttribute("type","text"):this.passInput.element.setAttribute("type","password")}}const it=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;class st extends t{constructor(t,e){super(t,"div",["container","container-login"],""),this.onLogin=async t=>{t.preventDefault();const e=this.loginForm.eMailInput.element,n=this.loginForm.passInput.element,i=this.loginForm.message.element;if(this.onValidateEmail(e)&&this.onValidatePass(n)){const t=this.onDataConstruct(e,n),s=await P(t);if(200!==s.status)i.textContent="Wrong password or EMail";else{localStorage.setItem("token",s.data.token),localStorage.setItem("refreshToken",s.data.refreshToken),localStorage.setItem("userId",s.data.userId),i.textContent="";const t=await I(s.data.userId);this.setUserStatistics(t.data),window.location.hash="#/profile",this.onUpdateRouter()}}},this.onRegister=async t=>{t.preventDefault();const e=this.loginForm.eMailInput.element,n=this.loginForm.passInput.element,i=this.loginForm.message.element;if(this.onValidateEmail(e)&&this.onValidatePass(n)){const t=this.onDataConstruct(e,n),s=await(async t=>{const e=f();return e.body=JSON.stringify(t),await y("users",e)})(t),r={page:"0",chapter:"0"},o={currSeria:0,maxSeria:0,dayStata:[]},a={currSeria:0,maxSeria:0,dayStata:[]};if(r.audiocall=o,r.sprint=a,200!==s.status)i.textContent="This email is in use by another user";else{const e=await P(t);if(200!==e.status)i.textContent="Wrong password or EMail";else{localStorage.setItem("token",e.data.token),localStorage.setItem("refreshToken",e.data.refreshToken),localStorage.setItem("userId",e.data.userId);const t={learnedWords:"0",optional:r},n=await x(t);this.setUserStatistics(n.data),window.location.hash="#/profile",this.onUpdateRouter()}}}},this.onValidateEmail=t=>{const e=it.test(t.value);return e||(this.loginForm.message.element.textContent="Invalid EMail"),e},this.onValidatePass=t=>{const e=t.value.length>7;return e||(this.loginForm.message.element.textContent="Password length must be more then 7"),e},this.onDataConstruct=(t,e)=>{const n={};return n.email=t.value,n.password=e.value,n},this.onUpdateRouter=()=>e(),this.loginForm=new nt(this.element),this.loginForm.buttonLogin.onClickButton=async t=>this.onLogin(t),this.loginForm.buttonRegister.onClickButton=async t=>this.onRegister(t)}setUserStatistics(t){t.learnedWords?localStorage.setItem("learnedWords",t.learnedWords):localStorage.setItem("learnedWords","0"),t.optional.page?localStorage.setItem("page",t.optional.page):localStorage.setItem("page","0"),t.optional.chapter?localStorage.setItem("chapter",t.optional.chapter):localStorage.setItem("chapter","0"),t.optional.audiocall?localStorage.setItem("audiocall",JSON.stringify(t.optional.audiocall)):localStorage.setItem("audiocall",JSON.stringify({maxSeria:0,currSeria:0,dayStata:[]})),t.optional.sprint?localStorage.setItem("sprint",JSON.stringify(t.optional.sprint)):localStorage.setItem("sprint",JSON.stringify({maxSeria:0,currSeria:0,dayStata:[]}))}}class rt extends t{constructor(e,n){super(e,"div",["profile"]),this.requestUserStatInfo=async()=>{if(localStorage.userId&&localStorage.token){const t=localStorage.userId,e=(await I(t)).data,n=e.optional.audiocall,i=e.optional.sprint;this.learnedWords=+e.learnedWords;const s=(100*+i.dayStata[i.dayStata.length-1].correctAnswers/+i.dayStata[i.dayStata.length-1].totalQuestions).toFixed();this.todaySprintStatContent.setCounter(0,i.dayStata[i.dayStata.length-1].newWords),this.todaySprintStatContent.setCounter(1,Number(s).toFixed(2)+" %"),this.todaySprintStatContent.setCounter(2,i.maxSeria);const r=100*+n.dayStata[n.dayStata.length-1].correctAnswers/+n.dayStata[n.dayStata.length-1].totalQuestions;this.todayAudioCallStatContent.setCounter(0,n.dayStata[n.dayStata.length-1].newWords),this.todayAudioCallStatContent.setCounter(1,Number(r).toFixed(2)+" %"),this.todayAudioCallStatContent.setCounter(2,n.maxSeria),this.todayLearnedWordsCounter.block3Title.element.innerText="learned words",this.todayLearnedWordsCounter.setCounter(0,(+i.dayStata[i.dayStata.length-1].newWords+ +n.dayStata[n.dayStata.length-1].newWords).toString()),this.todayLearnedWordsCounter.setCounter(1,((+s+ +r)/2).toFixed(2)+" %"),this.todayLearnedWordsCounter.setCounter(2,"44")}},this.onUpdateRouter=()=>n(),this.learnedWords=0,this.profileHeaderContainer=new t(this.element,"div",["statisticsHeader-container"]),this.title=new t(this.profileHeaderContainer.element,"h3",["statistics-title"],"Statistics"),this.userLogOut=new h(this.profileHeaderContainer.element,["statisticsProfileLogout"],"Log Out"),this.userLogOut.onClickButton=async()=>this.onLogout(),this.contentWrapper=new t(this.element,"div",["statisticsContent-wrapper"]),this.todaySubTitle=new t(this.contentWrapper.element,"h3",["statistics-subTitle","today-subTitle"],"Today"),this.todayContentWrapper=new t(this.contentWrapper.element,"div",["todayStatistics-wrapper"]),this.todayLearnedWordsStatWrapper=new t(this.todayContentWrapper.element,"div",["todayLearnedWords-wrapper"]),this.todayAudioCallStatWrapper=new t(this.todayContentWrapper.element,"div",["todayLearnedWords-wrapper"]),this.todaySprintStatWrapper=new t(this.todayContentWrapper.element,"div",["todayLearnedWords-wrapper"]),this.todayLearnedWordsCounter=new ot(this.todayLearnedWordsStatWrapper.element,"Words"),this.todayAudioCallStatContent=new ot(this.todayAudioCallStatWrapper.element,"Audio call"),this.todaySprintStatContent=new ot(this.todaySprintStatWrapper.element,"Sprint"),this.requestUserStatInfo()}onLogout(){localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),localStorage.removeItem("page"),localStorage.removeItem("chapter"),localStorage.removeItem("audiocall"),localStorage.removeItem("sprint"),localStorage.removeItem("words"),window.location.hash="#/",this.onUpdateRouter()}}class ot extends t{constructor(e,n){super(e,"div",["statistics-item"]),this.setCounter=(t,e)=>[this.block1Counter,this.block2Counter,this.block3Counter][t].element.innerText=e,this.getCounter=t=>[this.block1Counter,this.block2Counter,this.block3Counter][t].element.innerText;const i=n.toLowerCase().split(" ").join("");new t(this.element,"p",[i+"-title"],n),this.contentWrapper=new t(this.element,"div",[i+"Content-wrapper"]),this.block1Wrapper=new t(this.contentWrapper.element,"div",[i+"Block1-wrapper",i+"Block-wrapper"]),this.block2Wrapper=new t(this.contentWrapper.element,"div",[i+"Block2-wrapper",i+"Block-wrapper"]),this.block3Wrapper=new t(this.contentWrapper.element,"div",[i+"Block3-wrapper",i+"Block-wrapper"]),this.block1Counter=new t(this.block1Wrapper.element,"div",[i+"Block1-counter",i+"Block-counter"],"0"),this.block1Title=new t(this.block1Wrapper.element,"p",[i+"Block1-textContent",i+"Block-textContent"],"new words"),this.block2Counter=new t(this.block2Wrapper.element,"div",[i+"Block2-counter",i+"Block-counter"],"0%"),this.block2Title=new t(this.block2Wrapper.element,"p",[i+"Block2-textContent",i+"Block-textContent"],"accuracy"),this.block3Counter=new t(this.block3Wrapper.element,"div",[i+"Block3-counter",i+"Block-counter"],"0"),this.block3Title=new t(this.block3Wrapper.element,"p",[i+"Block3-textContent",i+"Block-textContent"],"in line")}}class at{constructor(t,e,n){this.rootElement=t,this.aboutPage=new r(this.rootElement),this.onInitNavSignUser=()=>e(),this.onRenderFooter=()=>n(),this.routes=[{name:"/",component:()=>{this.rootElement.append(this.aboutPage.element)}},{name:"/dictionary",component:()=>{this.dictionaryPage=new W(this.rootElement,(()=>this.onSignOnOffUser("/profile","/login"))),this.rootElement.append(this.dictionaryPage.element)}},{name:"/audiocall",component:t=>{this.audiocallPage=new G(this.rootElement,t),this.rootElement.append(this.audiocallPage.element)}},{name:"/sprint",component:t=>{this.sprintPage=new tt(this.rootElement,t),this.rootElement.append(this.sprintPage.element)}},{name:"/login",component:()=>{this.loginPage=new st(this.rootElement,(()=>this.onSignOnOffUser("/login","/profile"))),this.rootElement.append(this.loginPage.element)}},{name:"/profile",component:()=>{this.profilePage=new rt(this.rootElement,(()=>this.onSignOnOffUser("/profile","/login"))),this.rootElement.append(this.profilePage.element)}}],this.allRoutes=[...this.routes],this.currRoute="/",localStorage.getItem("token")?this.routes=this.routes.filter((t=>"/login"!==t.name)):this.routes=this.routes.filter((t=>"/profile"!==t.name)),this.defaultRoute={name:"/",component:()=>{this.rootElement.append(this.aboutPage.element)}}}updateRouter(){this.rootElement.innerHTML="";const t=window.location.hash.slice(1).split("?"),e=t[0];let n="";t.length>1&&(n=String(t[1]));const i=this.routes.find((t=>t.name===e));window.location.hash=n?(i||this.defaultRoute).name+"?"+n:(i||this.defaultRoute).name,(i||this.defaultRoute).component(n),this.currRoute=(i||this.defaultRoute).name,this.onRenderFooter()}initRouter(){""===window.location.hash&&(window.location.hash="#/"),window.onpopstate=()=>this.updateRouter(),this.updateRouter()}onSignOnOffUser(t,e){if(localStorage.getItem("token"))this.routes=this.allRoutes.filter((e=>e.name!==t));else{const t=this.allRoutes.filter((t=>t.name===e));this.routes=[...this.routes,...t]}this.initRouter(),this.onInitNavSignUser()}}class lt extends t{constructor(e){super(e,"div",["burger"],""),this.onBurgerClick=()=>{this.element.classList.toggle("open")},this.onBurgerClose=()=>{this.element.classList.remove("open")},new t(this.element,"div",["line","line1"],""),new t(this.element,"div",["line","line2"],""),new t(this.element,"div",["line","line3"],"")}}class ct extends t{constructor(e){super(e,"div",["logo"],""),this.onLogoClick=()=>{},new t(this.element,"h1",["logo-title"],"RS-Lang"),new t(this.element,"div",["logo-subtitle"],"Learning english"),this.element.addEventListener("click",(()=>this.onLogoClick()))}}class ht extends t{constructor(e){super(e,"nav",["nav"],""),this.navItems=[],this.onNavClose=()=>{this.element.classList.remove("open"),this.element.classList.add("close")},this.onNavToggle=()=>{this.element.classList.contains("open")||this.element.classList.contains("close")?(this.element.classList.toggle("open"),this.element.classList.toggle("close")):this.element.classList.add("open")},this.onInitNavSignUser=()=>{localStorage.getItem("token")?(this.linkToProfile||(this.linkToProfile=new t(this.navBody.element,"a",["nav-link"],"Profile"),this.linkToProfile.element.setAttribute("href","#/profile"),this.linkToProfile.element.setAttribute("tabindex","-1")),this.linkToLogin&&(this.linkToLogin.element.remove(),this.linkToLogin=null),this.navItems=[this.linkToAbout,this.linkToDictionary,this.linkToAudioCall,this.linkToSprint,this.linkToProfile]):(this.linkToLogin||(this.linkToLogin=new t(this.navBody.element,"a",["nav-link"],"Login"),this.linkToLogin.element.setAttribute("href","#/login"),this.linkToLogin.element.setAttribute("tabindex","-1")),this.linkToProfile&&(this.linkToProfile.element.remove(),this.linkToProfile=null),this.navItems=[this.linkToAbout,this.linkToDictionary,this.linkToAudioCall,this.linkToSprint,this.linkToLogin])},this.navBody=new t(this.element,"div",["nav-body"]),this.linkToAbout=new t(this.navBody.element,"a",["nav-link"],"About"),this.linkToDictionary=new t(this.navBody.element,"a",["nav-link","nav-dictionary"],"Dictionary"),this.linkToAudioCall=new t(this.navBody.element,"a",["nav-link"],"Audio call"),this.linkToSprint=new t(this.navBody.element,"a",["nav-link"],"Sprint"),this.linkToLogin=null,this.linkToProfile=null,this.linkToAbout.element.setAttribute("href","#/"),this.linkToDictionary.element.setAttribute("href","#/dictionary"),this.linkToAudioCall.element.setAttribute("href","#/audiocall"),this.linkToSprint.element.setAttribute("href","#/sprint"),this.linkToAbout.element.setAttribute("tabindex","-1"),this.linkToDictionary.element.setAttribute("tabindex","-1"),this.linkToAudioCall.element.setAttribute("tabindex","-1"),this.linkToSprint.element.setAttribute("tabindex","-1"),this.linkToAudioCall.element.addEventListener("click",(()=>{window.location.hash="#/audiocall",location.reload()})),this.onInitNavSignUser(),window.addEventListener("hashchange",(()=>this.updateActive(this.navItems))),window.addEventListener("load",(()=>this.updateActive(this.navItems)))}updateActive(t){this.navItems=t.map((t=>(t.element.classList.remove("active"),t.element.getAttribute("href")===window.location.hash&&t.element.classList.add("active"),t)))}}class ut extends t{constructor(t){super(t,"div",["header"]),this.onNavClick=t=>{const e=t.target;e!==this.nav.element&&e!==this.nav.navBody.element||(this.burger.onBurgerClick(),this.nav.onNavClose())},this.onBurgerClick=()=>{this.burger.onBurgerClick(),this.nav.onNavToggle()},this.onLinkClick=()=>{this.burger.onBurgerClose(),this.nav.onNavClose()},this.logo=new ct(this.element),this.nav=new ht(this.element),this.burger=new lt(this.element),this.nav.element.addEventListener("click",(t=>this.onNavClick(t))),this.burger.element.addEventListener("click",(()=>this.onBurgerClick())),this.nav.navItems.map((t=>t.element.addEventListener("click",(()=>this.onLinkClick()))))}}class dt extends t{constructor(e){super(e,"div",["footer"]),this.footerLeftSideContainer=new t(this.element,"div",["footer__item","footer-left"]),this.schoolLink=new t(this.footerLeftSideContainer.element,"a",["school-link"]),this.schoolLinkImg=new t(this.schoolLink.element,"img",["rs-link__logo"]),this.yearOfProductionContainer=new t(this.footerLeftSideContainer.element,"div",["production-year"],"2022"),this.footerRightSideContainer=new t(this.element,"div",["footer__item","footer-right"]),this.firstTeamMemberLink=new t(this.footerRightSideContainer.element,"a",["firstTeamMemberLink"],"Vasili Kisialevich"),this.secondTeamMemberLink=new t(this.footerRightSideContainer.element,"a",["secondTeamMemberLink"],"maxomeleneckii"),this.thirdTeamMemberLink=new t(this.footerRightSideContainer.element,"a",["thirdTeamMemberLink"],"pitbrest"),this.schoolLink.element.setAttribute("href","https://rs.school/"),this.schoolLinkImg.element.setAttribute("src","./public/rs-logo.svg"),this.firstTeamMemberLink.element.setAttribute("href","https://github.com/kiselmen"),this.firstTeamMemberLink.element.setAttribute("target","_blank"),this.secondTeamMemberLink.element.setAttribute("href","https://github.com/maxomeleneckii"),this.secondTeamMemberLink.element.setAttribute("target","_blank"),this.thirdTeamMemberLink.element.setAttribute("href","https://github.com/pitbrest"),this.thirdTeamMemberLink.element.setAttribute("target","_blank")}}class mt{constructor(e){this.rootElement=e,this.header=new ut(this.rootElement),this.main=new t(this.rootElement,"main",["main"]),this.router=new at(this.main.element,(()=>this.header.nav.onInitNavSignUser()),(()=>this.renderFooter())),this.footer=new dt(this.rootElement)}init(){this.router.initRouter()}isFooterNeed(){return"/sprint"!==this.router.currRoute&&"/audiocall"!==this.router.currRoute}renderFooter(){this.isFooterNeed()?this.footer.element.classList.remove("footer__disabled"):this.footer.element.classList.add("footer__disabled")}}window.addEventListener("DOMContentLoaded",(()=>{const t=document.body;new mt(t).init()}))})()})();